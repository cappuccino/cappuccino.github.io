<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>API: AppKit/CPTextField.j Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">API
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_c_p_text_field_8j_source.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">CPTextField.j</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_c_p_text_field_8j.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * CPTextField.j</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * AppKit</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * Created by Francisco Tolmasky.</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * Copyright 2008, 280 North, Inc.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * This library is free software; you can redistribute it and/or</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * modify it under the terms of the GNU Lesser General Public</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * License as published by the Free Software Foundation; either</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * version 2.1 of the License, or (at your option) any later version.</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * This library is distributed in the hope that it will be useful,</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * Lesser General Public License for more details.</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * You should have received a copy of the GNU Lesser General Public</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * License along with this library; if not, write to the Free Software</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;@global <a class="code" href="_c_p_application___constants_8j.html#a428912231c07effc32c420ee523bf0b7">CPApp</a></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;@global <a class="code" href="_c_p_pasteboard_8j.html#acd5614f9dbe81f6c200152e81093f22e">CPStringPboardType</a></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;@global <a class="code" href="interface_c_p_cursor.html">CPCursor</a></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div><div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="protocol_c_p_text_field_delegate_01-p.html">   29</a></span>&#160;<span class="keyword">@protocol </span>CPTextFieldDelegate &lt;CPControlTextEditingDelegate&gt;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="keyword">@end</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="_c_p_text_field_8j.html#aa248b7c973fa88bb5a5ff9e9a9cb5d09">   33</a></span>&#160;var <a class="code" href="_c_p_text_field_8j.html#aa248b7c973fa88bb5a5ff9e9a9cb5d09">CPTextFieldDelegate_control_didFailToFormatString_errorDescription_</a> = 1 &lt;&lt; 1,</div><div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="_c_p_text_field_8j.html#a3eefb45d611807698c520e80c20a1725">   34</a></span>&#160;    <a class="code" href="_c_p_text_field_8j.html#a3eefb45d611807698c520e80c20a1725">CPTextFieldDelegate_controlTextDidBeginEditing_</a>                     = 1 &lt;&lt; 2,</div><div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="_c_p_text_field_8j.html#a1356b4016b8b48424a553fca132d63ea">   35</a></span>&#160;    <a class="code" href="_c_p_text_field_8j.html#a1356b4016b8b48424a553fca132d63ea">CPTextFieldDelegate_controlTextDidChange_</a>                           = 1 &lt;&lt; 3,</div><div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="_c_p_text_field_8j.html#ade056688e0d47749605c1d110eae58fb">   36</a></span>&#160;    <a class="code" href="_c_p_text_field_8j.html#ade056688e0d47749605c1d110eae58fb">CPTextFieldDelegate_controlTextDidEndEditing_</a>                       = 1 &lt;&lt; 4,</div><div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="_c_p_text_field_8j.html#a3353c16b8f9ac50c07fe417be8d616f6">   37</a></span>&#160;    <a class="code" href="_c_p_text_field_8j.html#a3353c16b8f9ac50c07fe417be8d616f6">CPTextFieldDelegate_controlTextDidFocus_</a>                            = 1 &lt;&lt; 5,</div><div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="_c_p_text_field_8j.html#a13a056ef1c399482c7cf8a27a985c10d">   38</a></span>&#160;    <a class="code" href="_c_p_text_field_8j.html#a13a056ef1c399482c7cf8a27a985c10d">CPTextFieldDelegate_controlTextDidBlur_</a>                             = 1 &lt;&lt; 6;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;@<span class="keyword">typedef</span> CPTextFieldBezelStyle</div><div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="_c_p_text_field_8j.html#a18028d3da1a74a3af4ae4300a688fd10">   42</a></span>&#160;<a class="code" href="_c_p_text_field_8j.html#a18028d3da1a74a3af4ae4300a688fd10">CPTextFieldSquareBezel</a>          = 0;    </div><div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="_c_p_text_field_8j.html#a50bacf57c023263265f5f1e7e681489d">   43</a></span>&#160;<a class="code" href="_c_p_text_field_8j.html#a50bacf57c023263265f5f1e7e681489d">CPTextFieldRoundedBezel</a>         = 1;    </div><div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="_c_p_text_field_8j.html#af7a1afda2e12f9d6a5bdfe9e954a4594">   45</a></span>&#160;<a class="code" href="_c_p_text_field_8j.html#af7a1afda2e12f9d6a5bdfe9e954a4594">CPTextFieldDidFocusNotification</a> = <span class="stringliteral">@&quot;CPTextFieldDidFocusNotification&quot;</span>;</div><div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="_c_p_text_field_8j.html#a03f3e71001d935245f780ead0bcb381b">   46</a></span>&#160;<a class="code" href="_c_p_text_field_8j.html#a03f3e71001d935245f780ead0bcb381b">CPTextFieldDidBlurNotification</a>  = <span class="stringliteral">@&quot;CPTextFieldDidBlurNotification&quot;</span>;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="_c_p_text_field_8j.html#a466714c4a6b20cb20c10d1816a630f76">   48</a></span>&#160;var <a class="code" href="_c_p_text_field_8j.html#a466714c4a6b20cb20c10d1816a630f76">CPTextFieldDOMCurrentElement</a> = nil,</div><div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="_c_p_text_field_8j.html#ad22e4e00c0d5410a28572c9ea9fc8315">   49</a></span>&#160;    <a class="code" href="_c_p_text_field_8j.html#ad22e4e00c0d5410a28572c9ea9fc8315">CPTextFieldDOMTextAreaElement</a> = nil,</div><div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="_c_p_text_field_8j.html#ae82aacfd5c0ee01d1e5c98185c4b8dd3">   50</a></span>&#160;    <a class="code" href="_c_p_text_field_8j.html#ae82aacfd5c0ee01d1e5c98185c4b8dd3">CPTextFieldDOMStandardInputElement</a> = nil,</div><div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="_c_p_text_field_8j.html#a3fe3e9244edde860c925603f0f5c9108">   51</a></span>&#160;    <a class="code" href="_c_p_text_field_8j.html#a3fe3e9244edde860c925603f0f5c9108">CPTextFieldDOMPasswordInputElement</a> = nil,</div><div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="_c_p_text_field_8j.html#af75397458348bd7904b67bf33c418cc3">   52</a></span>&#160;    <a class="code" href="_c_p_text_field_8j.html#af75397458348bd7904b67bf33c418cc3">CPTextFieldInputOwner</a> = nil,</div><div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="_c_p_text_field_8j.html#a143de3d113515e4741399afe6aab2b71">   53</a></span>&#160;    <a class="code" href="_c_p_text_field_8j.html#a143de3d113515e4741399afe6aab2b71">CPTextFieldTextDidChangeValue</a> = nil,</div><div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="_c_p_text_field_8j.html#a65f24de4619fe487106b4e393ef06469">   54</a></span>&#160;    <a class="code" href="_c_p_text_field_8j.html#a65f24de4619fe487106b4e393ef06469">CPTextFieldInputResigning</a> = NO,</div><div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="_c_p_text_field_8j.html#af167eddeb6464661d8cdc1ffe75d6278">   55</a></span>&#160;    <a class="code" href="_c_p_text_field_8j.html#af167eddeb6464661d8cdc1ffe75d6278">CPTextFieldInputDidBlur</a> = NO,</div><div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="_c_p_text_field_8j.html#a9c077ecbffbdea5aea02335f91281a92">   56</a></span>&#160;    <a class="code" href="_c_p_text_field_8j.html#a9c077ecbffbdea5aea02335f91281a92">CPTextFieldInputIsActive</a> = NO,</div><div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="_c_p_text_field_8j.html#a37da027494bca1b803d182ad615db1b8">   57</a></span>&#160;    <a class="code" href="_c_p_text_field_8j.html#a37da027494bca1b803d182ad615db1b8">CPTextFieldCachedSelectStartFunction</a> = nil,</div><div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="_c_p_text_field_8j.html#aae90f20a85b685dca411c0e88d2c7684">   58</a></span>&#160;    <a class="code" href="_c_p_text_field_8j.html#aae90f20a85b685dca411c0e88d2c7684">CPTextFieldCachedDragFunction</a> = nil,</div><div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="_c_p_text_field_8j.html#a92d704ae86a2b7d59a27904278e4da2d">   59</a></span>&#160;    <a class="code" href="_c_p_text_field_8j.html#a92d704ae86a2b7d59a27904278e4da2d">CPTextFieldBlurHandler</a> = nil,</div><div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="_c_p_text_field_8j.html#a2bfe5c3c281772f51524be7c9e85b4c8">   60</a></span>&#160;    <a class="code" href="_c_p_text_field_8j.html#a2bfe5c3c281772f51524be7c9e85b4c8">CPTextFieldInputFunction</a> = nil,</div><div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="_c_p_text_field_8j.html#a31796fa1cc8d42730021067884895902">   61</a></span>&#160;    <a class="code" href="_c_p_text_field_8j.html#a31796fa1cc8d42730021067884895902">CPTexFieldCurrentCSSSelectableField</a> = nil;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div><div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="_c_p_text_field_8j.html#a980528c034ab9ad8a4fe446d70394a5c">   63</a></span>&#160;var <a class="code" href="_c_p_text_field_8j.html#a980528c034ab9ad8a4fe446d70394a5c">CPSecureTextFieldCharacter</a> = <span class="stringliteral">&quot;\u2022&quot;</span>;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="_c_p_text_field_8j.html#a5ed61015ba53c8bd466a7418c9c18040">   65</a></span>&#160;<span class="keyword">function</span> <a class="code" href="_c_p_text_field_8j.html#a5ed61015ba53c8bd466a7418c9c18040">CPTextFieldBlurFunction</a>(anEvent, owner, domElement, inputElement, resigning, didBlurRef)</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;{</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="keywordflow">if</span> (owner &amp;&amp; domElement != inputElement.parentNode)</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    var ownerWindow = [owner window];</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keywordflow">if</span> (!resigning &amp;&amp; [ownerWindow isKeyWindow] &amp;&amp; [ownerWindow firstResponder] === owner)</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    {</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        <span class="comment">/*</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">        Previously we had code here which would force the input to regain focus if the input lost focus without the CPTextField having actually lost first responder status. This typically happened because the user clicked away from the input in the browser, without clicking on something that could become the first responder. In the browser, clicking outside of an input blurs it, but in Cocoa and Cappuccino it does not (unless you actually click something that will become the first responder).</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">        That refocusing code has now been removed because we simply prevent the default action on clicks in the browser instead, which combined with the fix in 58d5d7d7, successfully prevents unintentional focus loss in (at least) Safari 9.1.1, Chrome 51 and Safari for iOS 9.3 when you click outside of a text field.</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">        Now we can still lose focus unexpectedly: this is when the &#39;done&#39; button is tapped on the virtual keyboard of a mobile device. In this case we actually do want to resign first responder status, because that is what the done button should do (and if we did not the keyboard would go away and then immediately come back which looks dumb and isn&#39;t what the user wanted).</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">        */</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        [ownerWindow makeFirstResponder:nil];</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    }</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <a class="code" href="_c_p_text_field_8j.html#af021b37581055ca75a0919c90346979a">CPTextFieldHandleBlur</a>(anEvent, @ref(owner));</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    @deref(didBlurRef) = YES;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;}</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div><div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="_c_p_text_field_8j.html#af021b37581055ca75a0919c90346979a">   90</a></span>&#160;<span class="keyword">function</span> <a class="code" href="_c_p_text_field_8j.html#af021b37581055ca75a0919c90346979a">CPTextFieldHandleBlur</a>(anEvent, ownerRef)</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;{</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    @deref(ownerRef) = nil;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    [[<a class="code" href="interface_c_p_run_loop.html">CPRunLoop</a> <a class="code" href="interface_c_p_run_loop.html#aba93f1cef957bad4353ce060981c0b9d">currentRunLoop</a>] <a class="code" href="interface_c_p_run_loop.html#aad8e51e44d4c17634d8c45c1ca540217">limitDateForMode</a>:CPDefaultRunLoopMode];</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;}</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="category_c_p_string_07_c_p_text_field_additions_08.html">   98</a></span>&#160;<span class="keyword">@implementation </span><a class="code" href="category_c_p_string_07_c_p_text_field_additions_08.html">CPString (CPTextFieldAdditions)</a></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="category_c_p_string_07_c_p_text_field_additions_08.html#aec993eb71094c81f2d6c8fe346fd1ddc">  103</a></span>&#160;- (<a class="code" href="interface_c_p_string.html">CPString</a>)string</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;{</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">self</span>;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;}</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="keyword">@end</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="_c_p_text_field_8j.html#a83312094a6f7f1255a156d27cc88a4a9">  110</a></span>&#160;<a class="code" href="_c_p_text_field_8j.html#a83312094a6f7f1255a156d27cc88a4a9">CPTextFieldStateRounded</a>     = CPThemeState(<span class="stringliteral">&quot;rounded&quot;</span>);</div><div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="_c_p_text_field_8j.html#ace23af555767a4e15bdeb9ae1f86b5f4">  111</a></span>&#160;<a class="code" href="_c_p_text_field_8j.html#ace23af555767a4e15bdeb9ae1f86b5f4">CPTextFieldStatePlaceholder</a> = CPThemeState(<span class="stringliteral">&quot;placeholder&quot;</span>);</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="keyword">@implementation </span><a class="code" href="interface_c_p_text_field.html">CPTextField</a> : <a class="code" href="interface_c_p_control.html">CPControl</a></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;{</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    BOOL                        _isEditing;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    BOOL                        _isEditable;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    BOOL                        _isSelectable;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    BOOL                        _isSecure;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    BOOL                        _willBecomeFirstResponderByClick;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    BOOL                        _invokedByUserEvent;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    BOOL                        _drawsBackground;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <a class="code" href="class_c_p_color.html">CPColor</a>                     _textFieldBackgroundColor;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <a class="code" href="interface_c_p_string.html">CPString</a>                    _placeholderString;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <a class="code" href="interface_c_p_string.html">CPString</a>                    _stringValue;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    id &lt;CPTextFieldDelegate&gt;    _delegate;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="keywordtype">unsigned</span>                    _implementedDelegateMethods;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="comment">// NS-style Display Properties</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    CPTextFieldBezelStyle       _bezelStyle;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    BOOL                        _isBordered;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    BOOL                        _usesSingleLineMode;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    BOOL                        _wraps;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    BOOL                        _scrolls;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;}</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;+ (Class)_binderClassForBinding:(<a class="code" href="interface_c_p_string.html">CPString</a>)aBinding</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;{</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keywordflow">if</span> (aBinding === CPValueBinding)</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        <span class="keywordflow">return</span> [_CPTextFieldValueBinder class];</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ([aBinding hasPrefix:CPDisplayPatternValueBinding])</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        <span class="keywordflow">return</span> [_CPTextFieldPatternValueBinder class];</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ([aBinding hasPrefix:CPEditableBinding])</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <span class="keywordflow">return</span> [<a class="code" href="class_c_p_multiple_value_and_binding.html">CPMultipleValueAndBinding</a> class];</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keywordflow">return</span> [<span class="keyword">super</span> _binderClassForBinding:aBinding];</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;}</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div><div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#a9e176b44b07e40f3bd25091a775f677b">  157</a></span>&#160;+ (<a class="code" href="interface_c_p_text_field.html">CPTextField</a>)textFieldWithStringValue:(<a class="code" href="interface_c_p_string.html">CPString</a>)aStringValue placeholder:(<a class="code" href="interface_c_p_string.html">CPString</a>)aPlaceholder width:(<span class="keywordtype">float</span>)aWidth</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;{</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keywordflow">return</span> [<span class="keyword">self</span> <a class="code" href="interface_c_p_text_field.html#a4e5f5ec3c07f8ba83f03185cf28daccb">textFieldWithStringValue</a>:aStringValue <a class="code" href="interface_c_p_text_field.html#a4e5f5ec3c07f8ba83f03185cf28daccb">placeholder</a>:aPlaceholder <a class="code" href="interface_c_p_text_field.html#a4e5f5ec3c07f8ba83f03185cf28daccb">width</a>:aWidth <a class="code" href="interface_c_p_text_field.html#a4e5f5ec3c07f8ba83f03185cf28daccb">theme</a>:[<a class="code" href="interface_c_p_theme.html">CPTheme</a> <a class="code" href="interface_c_p_theme.html#a19028d2f26f8d89be574ebdbdcfa5f16">defaultTheme</a>]];</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;}</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div><div class="line"><a name="l00162"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#a4e5f5ec3c07f8ba83f03185cf28daccb">  162</a></span>&#160;+ (<a class="code" href="interface_c_p_text_field.html">CPTextField</a>)textFieldWithStringValue:(<a class="code" href="interface_c_p_string.html">CPString</a>)aStringValue placeholder:(<a class="code" href="interface_c_p_string.html">CPString</a>)aPlaceholder width:(<span class="keywordtype">float</span>)aWidth theme:(<a class="code" href="interface_c_p_theme.html">CPTheme</a>)aTheme</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;{</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    var textField = [[<span class="keyword">self</span> alloc] initWithFrame:CGRectMake(0.0, 0.0, aWidth, 29.0)];</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    [textField setTheme:aTheme];</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    [textField setStringValue:aStringValue];</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    [textField setPlaceholderString:aPlaceholder];</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    [textField setBordered:YES];</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    [textField setBezeled:YES];</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    [textField setEditable:YES];</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    [textField sizeToFit];</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="keywordflow">return</span> textField;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;}</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div><div class="line"><a name="l00178"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#afb6288c1dd2ec37ee9eb0163c4c8684c">  178</a></span>&#160;+ (<a class="code" href="interface_c_p_text_field.html">CPTextField</a>)roundedTextFieldWithStringValue:(<a class="code" href="interface_c_p_string.html">CPString</a>)aStringValue placeholder:(<a class="code" href="interface_c_p_string.html">CPString</a>)aPlaceholder width:(<span class="keywordtype">float</span>)aWidth</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;{</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keywordflow">return</span> [<span class="keyword">self</span> <a class="code" href="interface_c_p_text_field.html#a39ab8403f2a79143a33cb5d47cd1cc4f">roundedTextFieldWithStringValue</a>:aStringValue <a class="code" href="interface_c_p_text_field.html#a39ab8403f2a79143a33cb5d47cd1cc4f">placeholder</a>:aPlaceholder <a class="code" href="interface_c_p_text_field.html#a39ab8403f2a79143a33cb5d47cd1cc4f">width</a>:aWidth <a class="code" href="interface_c_p_text_field.html#a39ab8403f2a79143a33cb5d47cd1cc4f">theme</a>:[<a class="code" href="interface_c_p_theme.html">CPTheme</a> <a class="code" href="interface_c_p_theme.html#a19028d2f26f8d89be574ebdbdcfa5f16">defaultTheme</a>]];</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;}</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div><div class="line"><a name="l00183"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#a39ab8403f2a79143a33cb5d47cd1cc4f">  183</a></span>&#160;+ (<a class="code" href="interface_c_p_text_field.html">CPTextField</a>)roundedTextFieldWithStringValue:(<a class="code" href="interface_c_p_string.html">CPString</a>)aStringValue placeholder:(<a class="code" href="interface_c_p_string.html">CPString</a>)aPlaceholder width:(<span class="keywordtype">float</span>)aWidth theme:(<a class="code" href="interface_c_p_theme.html">CPTheme</a>)aTheme</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;{</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    var textField = [[<a class="code" href="interface_c_p_text_field.html">CPTextField</a> alloc] initWithFrame:CGRectMake(0.0, 0.0, aWidth, 29.0)];</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    [textField setTheme:aTheme];</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    [textField setStringValue:aStringValue];</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    [textField setPlaceholderString:aPlaceholder];</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    [textField setBezelStyle:CPTextFieldRoundedBezel];</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    [textField setBordered:YES];</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    [textField setBezeled:YES];</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    [textField setEditable:YES];</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    [textField sizeToFit];</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordflow">return</span> textField;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;}</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div><div class="line"><a name="l00200"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#ad2ca49190430fc78159edbe68e148c4d">  200</a></span>&#160;+ (<a class="code" href="interface_c_p_text_field.html">CPTextField</a>)labelWithTitle:(<a class="code" href="interface_c_p_string.html">CPString</a>)aTitle</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;{</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keywordflow">return</span> [<span class="keyword">self</span> <a class="code" href="interface_c_p_text_field.html#aec03d9521a5ee224c1bc3ef7eba67ede">labelWithTitle</a>:aTitle <a class="code" href="interface_c_p_text_field.html#aec03d9521a5ee224c1bc3ef7eba67ede">theme</a>:[<a class="code" href="interface_c_p_theme.html">CPTheme</a> <a class="code" href="interface_c_p_theme.html#a19028d2f26f8d89be574ebdbdcfa5f16">defaultTheme</a>]];</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;}</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div><div class="line"><a name="l00205"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#aec03d9521a5ee224c1bc3ef7eba67ede">  205</a></span>&#160;+ (<a class="code" href="interface_c_p_text_field.html">CPTextField</a>)labelWithTitle:(<a class="code" href="interface_c_p_string.html">CPString</a>)aTitle theme:(<a class="code" href="interface_c_p_theme.html">CPTheme</a>)aTheme</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;{</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    var textField = [[<span class="keyword">self</span> alloc] init];</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    [textField setStringValue:aTitle];</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    [textField sizeToFit];</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keywordflow">return</span> textField;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;}</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div><div class="line"><a name="l00215"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#ab1fe4196f70a6bb34e818d81b610d8f8">  215</a></span>&#160;+ (<a class="code" href="interface_c_p_string.html">CPString</a>)defaultThemeClass</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;{</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;textfield&quot;</span>;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;}</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div><div class="line"><a name="l00220"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#ad7a2c5a4d65f5eab5d7e61c2c1bf883d">  220</a></span>&#160;+ (<a class="code" href="interface_c_p_dictionary.html">CPDictionary</a>)themeAttributes</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;{</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keywordflow">return</span> @{</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            <span class="stringliteral">@&quot;bezel-inset&quot;</span>: CGInsetMakeZero(),</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            <span class="stringliteral">@&quot;content-inset&quot;</span>: CGInsetMake(1.0, 0.0, 0.0, 0.0),</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;            <span class="stringliteral">@&quot;bezel-color&quot;</span>: [<a class="code" href="interface_c_p_null.html">CPNull</a> <a class="code" href="interface_c_p_null.html#a589123ee618828f2e89a5776409e1592">null</a>],</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        };</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;}</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="preprocessor">#pragma mark -</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="preprocessor">#pragma mark Control Size</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div><div class="line"><a name="l00233"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#a7cfd3904e2a0e0acc682abbe0bef3029">  233</a></span>&#160;- (void)setControlSize:(CPControlSize)aControlSize</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;{</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    [<span class="keyword">super</span> <a class="code" href="interface_c_p_control.html#a4759ce600ff8a007685250a09713cab8">setControlSize</a>:aControlSize];</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="keywordflow">if</span> ([<span class="keyword">self</span> isBezeled])</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        [<span class="keyword">self</span> _sizeToControlSize];</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;}</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="preprocessor">#pragma mark -</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="preprocessor">#if PLATFORM(DOM)</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;- (DOMElement)_inputElement</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;{</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="_c_p_text_field_8j.html#ad22e4e00c0d5410a28572c9ea9fc8315">CPTextFieldDOMTextAreaElement</a>)</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    {</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        <a class="code" href="_c_p_text_field_8j.html#ad22e4e00c0d5410a28572c9ea9fc8315">CPTextFieldDOMTextAreaElement</a>                  = document.createElement(<span class="stringliteral">&quot;textarea&quot;</span>);</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        <a class="code" href="_c_p_text_field_8j.html#ad22e4e00c0d5410a28572c9ea9fc8315">CPTextFieldDOMTextAreaElement</a>.style.position   = <span class="stringliteral">&quot;absolute&quot;</span>;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        <a class="code" href="_c_p_text_field_8j.html#ad22e4e00c0d5410a28572c9ea9fc8315">CPTextFieldDOMTextAreaElement</a>.style.border     = <span class="stringliteral">&quot;0px&quot;</span>;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        <a class="code" href="_c_p_text_field_8j.html#ad22e4e00c0d5410a28572c9ea9fc8315">CPTextFieldDOMTextAreaElement</a>.style.padding    = <span class="stringliteral">&quot;0px&quot;</span>;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        <a class="code" href="_c_p_text_field_8j.html#ad22e4e00c0d5410a28572c9ea9fc8315">CPTextFieldDOMTextAreaElement</a>.style.margin     = <span class="stringliteral">&quot;0px&quot;</span>;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        <a class="code" href="_c_p_text_field_8j.html#ad22e4e00c0d5410a28572c9ea9fc8315">CPTextFieldDOMTextAreaElement</a>.style.background = <span class="stringliteral">&quot;transparent&quot;</span>;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        <a class="code" href="_c_p_text_field_8j.html#ad22e4e00c0d5410a28572c9ea9fc8315">CPTextFieldDOMTextAreaElement</a>.style.outline    = <span class="stringliteral">&quot;none&quot;</span>;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        <a class="code" href="_c_p_text_field_8j.html#ad22e4e00c0d5410a28572c9ea9fc8315">CPTextFieldDOMTextAreaElement</a>.style.resize     = <span class="stringliteral">&quot;none&quot;</span>;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        <a class="code" href="_c_p_text_field_8j.html#ad22e4e00c0d5410a28572c9ea9fc8315">CPTextFieldDOMTextAreaElement</a>.style.overflow   = <span class="stringliteral">&quot;hidden&quot;</span>;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <a class="code" href="_c_p_text_field_8j.html#ad22e4e00c0d5410a28572c9ea9fc8315">CPTextFieldDOMTextAreaElement</a>.spellcheck       = NO;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    }</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="_c_p_text_field_8j.html#ae82aacfd5c0ee01d1e5c98185c4b8dd3">CPTextFieldDOMStandardInputElement</a>)</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    {</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        <a class="code" href="_c_p_text_field_8j.html#ae82aacfd5c0ee01d1e5c98185c4b8dd3">CPTextFieldDOMStandardInputElement</a>                  = document.createElement(<span class="stringliteral">&quot;input&quot;</span>);</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        <a class="code" href="_c_p_text_field_8j.html#ae82aacfd5c0ee01d1e5c98185c4b8dd3">CPTextFieldDOMStandardInputElement</a>.style.position   = <span class="stringliteral">&quot;absolute&quot;</span>;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        <a class="code" href="_c_p_text_field_8j.html#ae82aacfd5c0ee01d1e5c98185c4b8dd3">CPTextFieldDOMStandardInputElement</a>.style.border     = <span class="stringliteral">&quot;0px&quot;</span>;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        <a class="code" href="_c_p_text_field_8j.html#ae82aacfd5c0ee01d1e5c98185c4b8dd3">CPTextFieldDOMStandardInputElement</a>.style.padding    = <span class="stringliteral">&quot;0px&quot;</span>;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        <a class="code" href="_c_p_text_field_8j.html#ae82aacfd5c0ee01d1e5c98185c4b8dd3">CPTextFieldDOMStandardInputElement</a>.style.margin     = <span class="stringliteral">&quot;0px&quot;</span>;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        <a class="code" href="_c_p_text_field_8j.html#ae82aacfd5c0ee01d1e5c98185c4b8dd3">CPTextFieldDOMStandardInputElement</a>.style.whiteSpace = <span class="stringliteral">&quot;pre&quot;</span>;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        <a class="code" href="_c_p_text_field_8j.html#ae82aacfd5c0ee01d1e5c98185c4b8dd3">CPTextFieldDOMStandardInputElement</a>.style.background = <span class="stringliteral">&quot;transparent&quot;</span>;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        <a class="code" href="_c_p_text_field_8j.html#ae82aacfd5c0ee01d1e5c98185c4b8dd3">CPTextFieldDOMStandardInputElement</a>.style.outline    = <span class="stringliteral">&quot;none&quot;</span>;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        <a class="code" href="_c_p_text_field_8j.html#ae82aacfd5c0ee01d1e5c98185c4b8dd3">CPTextFieldDOMStandardInputElement</a>.spellcheck       = NO;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    }</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="_c_p_text_field_8j.html#a3fe3e9244edde860c925603f0f5c9108">CPTextFieldDOMPasswordInputElement</a>)</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    {</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        <a class="code" href="_c_p_text_field_8j.html#a3fe3e9244edde860c925603f0f5c9108">CPTextFieldDOMPasswordInputElement</a>                  = document.createElement(<span class="stringliteral">&quot;input&quot;</span>);</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        <a class="code" href="_c_p_text_field_8j.html#a3fe3e9244edde860c925603f0f5c9108">CPTextFieldDOMPasswordInputElement</a>.style.position   = <span class="stringliteral">&quot;absolute&quot;</span>;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        <a class="code" href="_c_p_text_field_8j.html#a3fe3e9244edde860c925603f0f5c9108">CPTextFieldDOMPasswordInputElement</a>.style.border     = <span class="stringliteral">&quot;0px&quot;</span>;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <a class="code" href="_c_p_text_field_8j.html#a3fe3e9244edde860c925603f0f5c9108">CPTextFieldDOMPasswordInputElement</a>.style.padding    = <span class="stringliteral">&quot;0px&quot;</span>;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        <a class="code" href="_c_p_text_field_8j.html#a3fe3e9244edde860c925603f0f5c9108">CPTextFieldDOMPasswordInputElement</a>.style.margin     = <span class="stringliteral">&quot;0px&quot;</span>;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        <a class="code" href="_c_p_text_field_8j.html#a3fe3e9244edde860c925603f0f5c9108">CPTextFieldDOMPasswordInputElement</a>.style.whiteSpace = <span class="stringliteral">&quot;pre&quot;</span>;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        <a class="code" href="_c_p_text_field_8j.html#a3fe3e9244edde860c925603f0f5c9108">CPTextFieldDOMPasswordInputElement</a>.style.background = <span class="stringliteral">&quot;transparent&quot;</span>;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <a class="code" href="_c_p_text_field_8j.html#a3fe3e9244edde860c925603f0f5c9108">CPTextFieldDOMPasswordInputElement</a>.style.outline    = <span class="stringliteral">&quot;none&quot;</span>;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        <a class="code" href="_c_p_text_field_8j.html#a3fe3e9244edde860c925603f0f5c9108">CPTextFieldDOMPasswordInputElement</a>.type             = <span class="stringliteral">&quot;password&quot;</span>;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        <a class="code" href="_c_p_text_field_8j.html#a3fe3e9244edde860c925603f0f5c9108">CPTextFieldDOMPasswordInputElement</a>.spellcheck       = NO;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    }</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="_c_p_text_field_8j.html#a92d704ae86a2b7d59a27904278e4da2d">CPTextFieldBlurHandler</a>)</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    {</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        <a class="code" href="_c_p_text_field_8j.html#a92d704ae86a2b7d59a27904278e4da2d">CPTextFieldBlurHandler</a> = <span class="keyword">function</span>(anEvent)</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        {</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="_c_p_text_field_8j.html#a5ed61015ba53c8bd466a7418c9c18040">CPTextFieldBlurFunction</a>(</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                        anEvent,</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                        <a class="code" href="_c_p_text_field_8j.html#af75397458348bd7904b67bf33c418cc3">CPTextFieldInputOwner</a>,</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                        <a class="code" href="_c_p_text_field_8j.html#af75397458348bd7904b67bf33c418cc3">CPTextFieldInputOwner</a> ? <a class="code" href="_c_p_text_field_8j.html#af75397458348bd7904b67bf33c418cc3">CPTextFieldInputOwner</a>._DOMElement : nil,</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                        <a class="code" href="_c_p_text_field_8j.html#a466714c4a6b20cb20c10d1816a630f76">CPTextFieldDOMCurrentElement</a>,</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                        <a class="code" href="_c_p_text_field_8j.html#a65f24de4619fe487106b4e393ef06469">CPTextFieldInputResigning</a>,</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                        @ref(<a class="code" href="_c_p_text_field_8j.html#af167eddeb6464661d8cdc1ffe75d6278">CPTextFieldInputDidBlur</a>));</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        };</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    }</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="_c_p_text_field_8j.html#a2bfe5c3c281772f51524be7c9e85b4c8">CPTextFieldInputFunction</a>)</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    {</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="_c_p_compatibility_8j.html#a1fbfe7ca6b2cef354ecfe78f6cfd6659">CPFeatureIsCompatible</a>(<a class="code" href="_c_p_compatibility_8j.html#af00ffb5fce68299af8be1789d97867c8">CPInputOnInputEventFeature</a>))</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        <a class="code" href="_c_p_text_field_8j.html#a2bfe5c3c281772f51524be7c9e85b4c8">CPTextFieldInputFunction</a> = <span class="keyword">function</span>(anEvent)</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        {</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="_c_p_text_field_8j.html#af75397458348bd7904b67bf33c418cc3">CPTextFieldInputOwner</a>)</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;            var cappEvent = [<a class="code" href="interface_c_p_event.html">CPEvent</a> <a class="code" href="interface_c_p_event.html#af5f96235d926dc455c492ece4d907744">keyEventWithType</a>:CPKeyUp</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                                             <a class="code" href="interface_c_p_event.html#af5f96235d926dc455c492ece4d907744">location</a>:CGPointMakeZero()</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                                        <a class="code" href="interface_c_p_event.html#af5f96235d926dc455c492ece4d907744">modifierFlags</a>:0</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                                            <a class="code" href="interface_c_p_event.html#af5f96235d926dc455c492ece4d907744">timestamp</a>:[<a class="code" href="interface_c_p_event.html">CPEvent</a> <a class="code" href="interface_c_p_event.html#a0370261e16fa1b67388c1a027efff02a">currentTimestamp</a>]</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                                         <a class="code" href="interface_c_p_event.html#af5f96235d926dc455c492ece4d907744">windowNumber</a>:[[CPApp keyWindow] windowNumber]</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                                              <a class="code" href="interface_c_p_event.html#af5f96235d926dc455c492ece4d907744">context</a>:nil</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                                           <a class="code" href="interface_c_p_event.html#af5f96235d926dc455c492ece4d907744">characters</a>:nil</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                          <a class="code" href="interface_c_p_event.html#af5f96235d926dc455c492ece4d907744">charactersIgnoringModifiers</a>:nil</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                                            <a class="code" href="interface_c_p_event.html#af5f96235d926dc455c492ece4d907744">isARepeat</a>:NO</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                                              <a class="code" href="interface_c_p_event.html#af5f96235d926dc455c492ece4d907744">keyCode</a>:nil];</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;            [CPTextFieldInputOwner keyUp:cappEvent];</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;            [[<a class="code" href="interface_c_p_run_loop.html">CPRunLoop</a> <a class="code" href="interface_c_p_run_loop.html#aba93f1cef957bad4353ce060981c0b9d">currentRunLoop</a>] <a class="code" href="interface_c_p_run_loop.html#aad8e51e44d4c17634d8c45c1ca540217">limitDateForMode</a>:CPDefaultRunLoopMode];</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        };</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        <a class="code" href="_c_p_text_field_8j.html#a3fe3e9244edde860c925603f0f5c9108">CPTextFieldDOMPasswordInputElement</a>.oninput = <a class="code" href="_c_p_text_field_8j.html#a2bfe5c3c281772f51524be7c9e85b4c8">CPTextFieldInputFunction</a>;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        <a class="code" href="_c_p_text_field_8j.html#a3fe3e9244edde860c925603f0f5c9108">CPTextFieldDOMPasswordInputElement</a>.onblur = <a class="code" href="_c_p_text_field_8j.html#a92d704ae86a2b7d59a27904278e4da2d">CPTextFieldBlurHandler</a>;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        <a class="code" href="_c_p_text_field_8j.html#ae82aacfd5c0ee01d1e5c98185c4b8dd3">CPTextFieldDOMStandardInputElement</a>.oninput = <a class="code" href="_c_p_text_field_8j.html#a2bfe5c3c281772f51524be7c9e85b4c8">CPTextFieldInputFunction</a>;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        <a class="code" href="_c_p_text_field_8j.html#a3fe3e9244edde860c925603f0f5c9108">CPTextFieldDOMPasswordInputElement</a>.onblur = <a class="code" href="_c_p_text_field_8j.html#a92d704ae86a2b7d59a27904278e4da2d">CPTextFieldBlurHandler</a>;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        <a class="code" href="_c_p_text_field_8j.html#ad22e4e00c0d5410a28572c9ea9fc8315">CPTextFieldDOMTextAreaElement</a>.oninput = <a class="code" href="_c_p_text_field_8j.html#a2bfe5c3c281772f51524be7c9e85b4c8">CPTextFieldInputFunction</a>;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        <a class="code" href="_c_p_text_field_8j.html#ad22e4e00c0d5410a28572c9ea9fc8315">CPTextFieldDOMTextAreaElement</a>.onblur = <a class="code" href="_c_p_text_field_8j.html#a92d704ae86a2b7d59a27904278e4da2d">CPTextFieldBlurHandler</a>;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    }</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="keywordflow">if</span> ([<span class="keyword">self</span> isSecure])</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        <a class="code" href="_c_p_text_field_8j.html#a466714c4a6b20cb20c10d1816a630f76">CPTextFieldDOMCurrentElement</a> = <a class="code" href="_c_p_text_field_8j.html#a3fe3e9244edde860c925603f0f5c9108">CPTextFieldDOMPasswordInputElement</a>;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (_usesSingleLineMode)</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        <a class="code" href="_c_p_text_field_8j.html#a466714c4a6b20cb20c10d1816a630f76">CPTextFieldDOMCurrentElement</a> = <a class="code" href="_c_p_text_field_8j.html#ae82aacfd5c0ee01d1e5c98185c4b8dd3">CPTextFieldDOMStandardInputElement</a>;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        <a class="code" href="_c_p_text_field_8j.html#a466714c4a6b20cb20c10d1816a630f76">CPTextFieldDOMCurrentElement</a> = <a class="code" href="_c_p_text_field_8j.html#ad22e4e00c0d5410a28572c9ea9fc8315">CPTextFieldDOMTextAreaElement</a>;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="_c_p_text_field_8j.html#a466714c4a6b20cb20c10d1816a630f76">CPTextFieldDOMCurrentElement</a>;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;}</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;</div><div class="line"><a name="l00350"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#aee822bcc7c53f565f05cc25f72e7be5b">  350</a></span>&#160;- (id)initWithFrame:(CGRect)aFrame</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;{</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="keyword">self</span> = [<span class="keyword">super</span> <a class="code" href="interface_c_p_control.html#a9fbb9581b79b7c03c97ca77b64c5f2f1">initWithFrame</a>:aFrame];</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">self</span>)</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    {</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        [<span class="keyword">self</span> <a class="code" href="interface_c_p_control.html#a4d4f2f22a6ff3a44a976929e388757fa">setStringValue</a>:@&quot;&quot;];</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        [<span class="keyword">self</span> <a class="code" href="interface_c_p_text_field.html#a3da0a821aa41434e59383fc020f4208b">setPlaceholderString</a>:@&quot;&quot;];</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        _sendActionOn = <a class="code" href="_c_p_event___constants_8j.html#a00e117370b1d4dd6662eb83c4246e61a">CPKeyUpMask</a> | <a class="code" href="_c_p_event___constants_8j.html#a0cb2d4bf26a5dcd356dbf102a37f316b">CPKeyDownMask</a>;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        [<span class="keyword">self</span> <a class="code" href="interface_c_p_text_field.html#a291f7145465240af5d473cfe0e7b84d7">setValue</a>:CPNaturalTextAlignment <a class="code" href="interface_c_p_text_field.html#a291f7145465240af5d473cfe0e7b84d7">forThemeAttribute</a>:@&quot;alignment&quot;];</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    }</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">self</span>;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;}</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="preprocessor">#pragma mark Controlling Editability and Selectability</span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div><div class="line"><a name="l00373"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#a074f65ecde05cdcec487476eaf99ee1c">  373</a></span>&#160;- (void)setEditable:(BOOL)shouldBeEditable</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;{</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keywordflow">if</span> (_isEditable === shouldBeEditable)</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    _isEditable = shouldBeEditable;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="keywordflow">if</span> (shouldBeEditable)</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        _isSelectable = YES;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="keywordflow">if</span> (_isEditable)</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        [<span class="keyword">self</span> <a class="code" href="class_c_p_view.html#af375db0002e118c71a6e138b63c9430a">setThemeState</a>:CPThemeStateEditable];</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        [<span class="keyword">self</span> <a class="code" href="class_c_p_view.html#a24c41e71d0fd83439e66df0b3f07279c">unsetThemeState</a>:CPThemeStateEditable];</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="comment">// We only allow first responder status if the field is enabled, and editable or selectable.</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="keywordflow">if</span> (!(shouldBeEditable &amp;&amp; ![<span class="keyword">self</span> isSelectable]) &amp;&amp; [[<span class="keyword">self</span> <a class="code" href="class_c_p_view.html#ae83c8efd2cc2cfe0dd767c1a6bb6d0a7">window</a>] <a class="code" href="interface_c_p_window.html#ae3af926d15fa7e76e98f18e2797ea345">firstResponder</a>] === <span class="keyword">self</span>)</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        [[<span class="keyword">self</span> window] makeFirstResponder:nil];</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keywordflow">if</span> (shouldBeEditable)</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        [<span class="keyword">self</span> <a class="code" href="class_c_p_view.html#af375db0002e118c71a6e138b63c9430a">setThemeState</a>:CPThemeStateEditable];</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        [<span class="keyword">self</span> <a class="code" href="class_c_p_view.html#a24c41e71d0fd83439e66df0b3f07279c">unsetThemeState</a>:CPThemeStateEditable];</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_text_field.html#ad8eaff6bdddbf2c424c090e3be9076d9">updateTrackingAreas</a>];</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;}</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div><div class="line"><a name="l00403"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#a1e2b51581d192251faa9a6900dcda64d">  403</a></span>&#160;- (BOOL)isEditable</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;{</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="keywordflow">return</span> _isEditable;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;}</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div><div class="line"><a name="l00412"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#a1ad3345196803e4717a625748c084f73">  412</a></span>&#160;- (void)setEnabled:(BOOL)shouldBeEnabled</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;{</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    [<span class="keyword">super</span> <a class="code" href="interface_c_p_control.html#a68d3dc4f2d0a4fad8699fd5982cddc2d">setEnabled</a>:shouldBeEnabled];</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <span class="comment">// We only allow first responder status if the field is enabled.</span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="keywordflow">if</span> (!shouldBeEnabled &amp;&amp; [[<span class="keyword">self</span> window] firstResponder] === <span class="keyword">self</span>)</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        [[<span class="keyword">self</span> <a class="code" href="class_c_p_view.html#ae83c8efd2cc2cfe0dd767c1a6bb6d0a7">window</a>] <a class="code" href="interface_c_p_window.html#a8fc7c3a24092c25057a4314694ef7c6d">makeFirstResponder</a>:nil];</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_text_field.html#ad8eaff6bdddbf2c424c090e3be9076d9">updateTrackingAreas</a>];</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;}</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;</div><div class="line"><a name="l00427"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#a29e97c91c2249509c1ebe062daf0a157">  427</a></span>&#160;- (void)setSelectable:(BOOL)aFlag</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;{</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    _isSelectable = aFlag;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_text_field.html#ad8eaff6bdddbf2c424c090e3be9076d9">updateTrackingAreas</a>];</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;}</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;</div><div class="line"><a name="l00437"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#a3f30f1a468f04f40871971bf9f16a203">  437</a></span>&#160;- (BOOL)isSelectable</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;{</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="keywordflow">return</span> _isSelectable;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;}</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;</div><div class="line"><a name="l00446"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#ac63bc5a2d5bcaf77f937e05831b989eb">  446</a></span>&#160;- (void)setSecure:(BOOL)aFlag</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;{</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    _isSecure = aFlag;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;}</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;</div><div class="line"><a name="l00454"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#aebf19194314e4af7d90ee01eae78280c">  454</a></span>&#160;- (BOOL)isSecure</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;{</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="keywordflow">return</span> _isSecure;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;}</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="comment">// Setting the Bezel Style</span></div><div class="line"><a name="l00464"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#a5fc3b5c748e61ff34853917f3bcdbdd0">  464</a></span>&#160;<span class="comment"></span>- (void)setBezeled:(BOOL)shouldBeBezeled</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;{</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <span class="keywordflow">if</span> (shouldBeBezeled)</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        [<span class="keyword">self</span> <a class="code" href="class_c_p_view.html#af375db0002e118c71a6e138b63c9430a">setThemeState</a>:CPThemeStateBezeled];</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        [<span class="keyword">self</span> <a class="code" href="class_c_p_view.html#a24c41e71d0fd83439e66df0b3f07279c">unsetThemeState</a>:CPThemeStateBezeled];</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;}</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div><div class="line"><a name="l00475"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#adaa55c9d360203b7c06d2fe035ab30ad">  475</a></span>&#160;- (BOOL)isBezeled</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;{</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <span class="keywordflow">return</span> [<span class="keyword">self</span> hasThemeState:CPThemeStateBezeled];</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;}</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div><div class="line"><a name="l00484"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#a5bcb37d07f30e9cf06ba9926b41e21eb">  484</a></span>&#160;- (void)setBezelStyle:(CPTextFieldBezelStyle)aBezelStyle</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;{</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    var shouldBeRounded = aBezelStyle === <a class="code" href="_c_p_text_field_8j.html#a50bacf57c023263265f5f1e7e681489d">CPTextFieldRoundedBezel</a>;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <span class="keywordflow">if</span> (shouldBeRounded)</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        [<span class="keyword">self</span> <a class="code" href="class_c_p_view.html#af375db0002e118c71a6e138b63c9430a">setThemeState</a>:CPTextFieldStateRounded];</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        [<span class="keyword">self</span> <a class="code" href="class_c_p_view.html#a24c41e71d0fd83439e66df0b3f07279c">unsetThemeState</a>:CPTextFieldStateRounded];</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;}</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;</div><div class="line"><a name="l00497"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#af8ac85a222d72ff09cf1b65f7690f74f">  497</a></span>&#160;- (CPTextFieldBezelStyle)bezelStyle</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;{</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="keywordflow">if</span> ([<span class="keyword">self</span> hasThemeState:<a class="code" href="_c_p_text_field_8j.html#a83312094a6f7f1255a156d27cc88a4a9">CPTextFieldStateRounded</a>])</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="_c_p_text_field_8j.html#a50bacf57c023263265f5f1e7e681489d">CPTextFieldRoundedBezel</a>;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="_c_p_text_field_8j.html#a18028d3da1a74a3af4ae4300a688fd10">CPTextFieldSquareBezel</a>;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;}</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;</div><div class="line"><a name="l00509"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#ae0191cd005c89a59d446066b63f22002">  509</a></span>&#160;- (void)setBordered:(BOOL)shouldBeBordered</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;{</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="keywordflow">if</span> (shouldBeBordered)</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        [<span class="keyword">self</span> <a class="code" href="class_c_p_view.html#af375db0002e118c71a6e138b63c9430a">setThemeState</a>:CPThemeStateBordered];</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        [<span class="keyword">self</span> <a class="code" href="class_c_p_view.html#a24c41e71d0fd83439e66df0b3f07279c">unsetThemeState</a>:CPThemeStateBordered];</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;}</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;</div><div class="line"><a name="l00520"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#a08b87e5e5924d1b1137289eb29a264f9">  520</a></span>&#160;- (BOOL)isBordered</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;{</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <span class="keywordflow">return</span> [<span class="keyword">self</span> hasThemeState:CPThemeStateBordered];</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;}</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;</div><div class="line"><a name="l00529"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#aad11ed6d14ee4387a61ab08e4f91b509">  529</a></span>&#160;- (void)setDrawsBackground:(BOOL)shouldDrawBackground</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;{</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <span class="keywordflow">if</span> (_drawsBackground == shouldDrawBackground)</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    _drawsBackground = shouldDrawBackground;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    [<span class="keyword">self</span> <a class="code" href="class_c_p_view.html#a39431c7a00864c9ddfe57c191fd82ccf">setNeedsLayout</a>];</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    [<span class="keyword">self</span> <a class="code" href="class_c_p_view.html#a695368bc818096a7ae173f955fa1bd2c">setNeedsDisplay</a>:YES];</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;}</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;</div><div class="line"><a name="l00543"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#a48e48305c966dc2147d895714d89a29d">  543</a></span>&#160;- (BOOL)drawsBackground</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;{</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <span class="keywordflow">return</span> _drawsBackground;</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;}</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;</div><div class="line"><a name="l00552"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#acbfe4cc69711826967adcbb6b66d46c9">  552</a></span>&#160;- (void)setTextFieldBackgroundColor:(<a class="code" href="class_c_p_color.html">CPColor</a>)aColor</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;{</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <span class="keywordflow">if</span> (_textFieldBackgroundColor == aColor)</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    _textFieldBackgroundColor = aColor;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    [<span class="keyword">self</span> <a class="code" href="class_c_p_view.html#a39431c7a00864c9ddfe57c191fd82ccf">setNeedsLayout</a>];</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    [<span class="keyword">self</span> <a class="code" href="class_c_p_view.html#a695368bc818096a7ae173f955fa1bd2c">setNeedsDisplay</a>:YES];</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;}</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;</div><div class="line"><a name="l00566"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#aaec5d50a43594402c577fef4d1fa41da">  566</a></span>&#160;- (<a class="code" href="class_c_p_color.html">CPColor</a>)textFieldBackgroundColor</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;{</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <span class="keywordflow">return</span> _textFieldBackgroundColor;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;}</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;- (void)_setUsesSingleLineMode:(BOOL)aFlag</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;{</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    _usesSingleLineMode = aFlag;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;}</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;- (void)_setWraps:(BOOL)aFlag</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;{</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    _wraps = aFlag;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;}</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;- (void)_setScrolls:(BOOL)aFlag</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;{</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    _scrolls = aFlag;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;}</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;</div><div class="line"><a name="l00590"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#a9cf8e6fa18aec8d3d52d9f1daeeebbba">  590</a></span>&#160;- (BOOL)acceptsFirstResponder</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;{</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <span class="keywordflow">return</span> [<span class="keyword">self</span> <a class="code" href="interface_c_p_control.html#afabd1669f3c8a766cab14c0c8ab66753">isEnabled</a>] &amp;&amp; ([<span class="keyword">self</span> <a class="code" href="interface_c_p_text_field.html#a1e2b51581d192251faa9a6900dcda64d">isEditable</a>] || [<span class="keyword">self</span> <a class="code" href="interface_c_p_text_field.html#a3f30f1a468f04f40871971bf9f16a203">isSelectable</a>]) &amp;&amp; [<span class="keyword">self</span> _isWithinUsablePlatformRect];</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;}</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;</div><div class="line"><a name="l00596"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#a377e73781d298f53f78e5248f7d4712f">  596</a></span>&#160;- (BOOL)becomeFirstResponder</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;{</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <span class="keywordflow">if</span> (![<span class="keyword">self</span> isEnabled] || ![super becomeFirstResponder])</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        <span class="keywordflow">return</span> NO;</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <span class="comment">// As long as we are the first responder we need to monitor the key status of our window.</span></div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    [<span class="keyword">self</span> _setObserveWindowKeyNotifications:YES];</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    _isEditing = NO;</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <span class="keywordflow">if</span> ([[<span class="keyword">self</span> window] isKeyWindow] &amp;&amp; [<span class="keyword">self</span> isEditable])</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        <span class="keywordflow">return</span> [<span class="keyword">self</span> _becomeFirstKeyResponder];</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <span class="keywordflow">return</span> YES;</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;}</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;<span class="comment">    A text field can be the first responder without necessarily being the focus of keyboard input. For example, it might be the first responder of window A but window B is the main and key window. It&#39;s important we don&#39;t put a focused input field into a text field in a non-key window, even if that field is the first responder, because the key window might also have a first responder text field which the user will expect to receive keyboard input.</span></div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;<span class="comment">    Since a first responder but non-key window text field can&#39;t receive input it should not even look like an active text field (Cocoa has a &quot;slightly active&quot; text field look it uses when another window is the key window, but Cappuccino doesn&#39;t today.)</span></div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;<span class="comment">    It&#39;s also possible for a text field to be non-editable but selectable in which case it can also become the first responder -</span></div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;<span class="comment">    this is what allows text to be copied from it.</span></div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;- (BOOL)_becomeFirstKeyResponder</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;{</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <span class="comment">// If the text field is still not completely on screen, refuse to become</span></div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <span class="comment">// first responder, because the browser will scroll it into view out of our control.</span></div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <span class="keywordflow">if</span> (![<span class="keyword">self</span> _isWithinUsablePlatformRect])</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        <span class="keywordflow">return</span> NO;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <span class="comment">// A selectable but non-editable text field may be the first responder, but never the</span></div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <span class="comment">// first key responder (first key responder indicating editability.)</span></div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <span class="keywordflow">if</span> (![<span class="keyword">self</span> isEditable])</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        <span class="keywordflow">return</span> NO;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    [<span class="keyword">self</span> setThemeState:CPThemeStateEditing];</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    [<span class="keyword">self</span> _updatePlaceholderState];</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    [<span class="keyword">self</span> setNeedsLayout];</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    _stringValue = [<span class="keyword">self</span> stringValue];</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;<span class="preprocessor">#if PLATFORM(DOM)</span></div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    [<span class="keyword">self</span> _setCSSStyleForInputElement];</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    var element = [<span class="keyword">self</span> _inputElement];</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    element.value = _stringValue;</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    _DOMElement.appendChild(element);</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <a class="code" href="_c_p_text_field_8j.html#a9c077ecbffbdea5aea02335f91281a92">CPTextFieldInputIsActive</a> = YES;</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <span class="keywordflow">if</span> (document.attachEvent)</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    {</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;        <a class="code" href="_c_p_text_field_8j.html#a37da027494bca1b803d182ad615db1b8">CPTextFieldCachedSelectStartFunction</a> = [[<span class="keyword">self</span> window] platformWindow]._DOMBodyElement.onselectstart;</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;        <a class="code" href="_c_p_text_field_8j.html#aae90f20a85b685dca411c0e88d2c7684">CPTextFieldCachedDragFunction</a> = [[<span class="keyword">self</span> window] platformWindow]._DOMBodyElement.ondrag;</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        [[<span class="keyword">self</span> window] platformWindow]._DOMBodyElement.ondrag = <span class="keyword">function</span> () {};</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        [[<span class="keyword">self</span> window] platformWindow]._DOMBodyElement.onselectstart = <span class="keyword">function</span> () {};</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    }</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <a class="code" href="_c_p_text_field_8j.html#af75397458348bd7904b67bf33c418cc3">CPTextFieldInputOwner</a> = <span class="keyword">self</span>;</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    [[<a class="code" href="interface_c_p_run_loop.html">CPRunLoop</a> <a class="code" href="interface_c_p_run_loop.html#a72897726b6fe227f34337d696b20ec99">mainRunLoop</a>] <a class="code" href="interface_c_p_run_loop.html#a3362183f1d34e99c2432b190b4a49efb">performBlock</a>:function()</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    {</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        if (CPTextFieldInputOwner !== self)</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;            return;</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;        <span class="comment">// This will prevent to jump to the focused element</span></div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;        var previousScrollingOrigin = [<span class="keyword">self</span> _scrollToVisibleRectAndReturnPreviousOrigin];</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        element.focus();</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;        [<span class="keyword">self</span> _restorePreviousScrollingOrigin:previousScrollingOrigin];</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        <span class="comment">// Select the text if the textfield became first responder through keyboard interaction</span></div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        if (!_willBecomeFirstResponderByClick)</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        {</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;            [<span class="keyword">self</span> _selectText:self immediately:YES];</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        }</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        else</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        {</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;            var point = CGPointMake([<span class="keyword">self</span> convertPointFromBase:[[CPApp currentEvent] locationInWindow]].x - [<span class="keyword">self</span> currentValueForThemeAttribute:@&quot;content-inset&quot;].left, 0),</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;                position = [<a class="code" href="interface_c_p_platform_string.html">CPPlatformString</a> charPositionOfString:[<span class="keyword">self</span> stringValue] withFont:[<span class="keyword">self</span> font] forPoint:point];</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;            [<span class="keyword">self</span> setSelectedRange:CPMakeRange(position, 0)];</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;        }</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        _willBecomeFirstResponderByClick = NO;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        [<span class="keyword">self</span> textDidFocus:[<a class="code" href="interface_c_p_notification.html">CPNotification</a> <a class="code" href="interface_c_p_notification.html#a85de5d79d60b13c0859bf8f1f6cda604">notificationWithName</a>:CPTextFieldDidFocusNotification <a class="code" href="interface_c_p_notification.html#a85de5d79d60b13c0859bf8f1f6cda604">object</a>:self <a class="code" href="interface_c_p_notification.html#a85de5d79d60b13c0859bf8f1f6cda604">userInfo</a>:nil]];</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    } <a class="code" href="interface_c_p_run_loop.html#a3362183f1d34e99c2432b190b4a49efb">argument</a>:nil <a class="code" href="interface_c_p_run_loop.html#a3362183f1d34e99c2432b190b4a49efb">order</a>:0 <a class="code" href="interface_c_p_run_loop.html#a3362183f1d34e99c2432b190b4a49efb">modes</a>:[CPDefaultRunLoopMode]];</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    <span class="keywordflow">return</span> YES;</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;}</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;- (void)_setEnableCSSSelection:(BOOL)shouldEnable</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;{</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;<span class="preprocessor">#if PLATFORM (DOM)</span></div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="_c_p_text_field_8j.html#a31796fa1cc8d42730021067884895902">CPTexFieldCurrentCSSSelectableField</a>)</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;        <a class="code" href="_c_p_text_field_8j.html#a31796fa1cc8d42730021067884895902">CPTexFieldCurrentCSSSelectableField</a>._DOMElement.style[CPBrowserStyleProperty(@&quot;user-select&quot;)] = <span class="stringliteral">@&quot;none&quot;</span>;</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    <a class="code" href="_c_p_text_field_8j.html#a31796fa1cc8d42730021067884895902">CPTexFieldCurrentCSSSelectableField</a> = <span class="keyword">self</span>;</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    _DOMElement.style[CPBrowserStyleProperty(@&quot;user-select&quot;)] = shouldEnable ? <span class="stringliteral">@&quot;text&quot;</span> : <span class="stringliteral">@&quot;none&quot;</span>;</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;}</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;- (void)_setCSSStyleForInputElement</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;{</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;<span class="preprocessor">#if PLATFORM(DOM)</span></div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    var element       = [<span class="keyword">self</span> _inputElement],</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;        font          = [<span class="keyword">self</span> currentValueForThemeAttribute:@&quot;font&quot;],</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        lineHeight    = [font defaultLineHeightForFont],</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;        contentRect   = [<span class="keyword">self</span> contentRectForBounds:[<span class="keyword">self</span> bounds]],</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;        verticalAlign = [<span class="keyword">self</span> currentValueForThemeAttribute:&quot;vertical-alignment&quot;],</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;        left          = CGRectGetMinX(contentRect);</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <span class="comment">// If the browser has a built in left padding, compensate for it. We need the input text to be exactly on top of the original text.</span></div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="_c_p_compatibility_8j.html#a1fbfe7ca6b2cef354ecfe78f6cfd6659">CPFeatureIsCompatible</a>(<a class="code" href="_c_p_compatibility_8j.html#a3b8c323b003e906eb02f0e535d24f585">CPInput1PxLeftPadding</a>))</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;        left -= 1;</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <span class="keywordflow">switch</span> (verticalAlign)</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    {</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="_c_p_control_8j.html#a4035543556fe7b0a5a5343ec3f106128">CPTopVerticalTextAlignment</a>:</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;            var topPoint = CGRectGetMinY(contentRect) + &quot;px&quot;;</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="_c_p_control_8j.html#a0edc061c14c3b788f351f1c467909ac5">CPCenterVerticalTextAlignment</a>:</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;            var topPoint = (CGRectGetMidY(contentRect) - (lineHeight / 2)) + &quot;px&quot;;</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="_c_p_control_8j.html#a3e5a840b60911edb23b417fcf53a88fa">CPBottomVerticalTextAlignment</a>:</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;            var topPoint = (CGRectGetMaxY(contentRect) - lineHeight) + &quot;px&quot;;</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;        <span class="keywordflow">default</span>:</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;            var topPoint = CGRectGetMinY(contentRect) + &quot;px&quot;;</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    }</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    <span class="keywordflow">if</span> ([<span class="keyword">self</span> hasThemeState:<a class="code" href="_c_p_text_field_8j.html#ace23af555767a4e15bdeb9ae1f86b5f4">CPTextFieldStatePlaceholder</a>])</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        element.style.color = [[<span class="keyword">self</span> valueForThemeAttribute:@&quot;text-color&quot; inState:CPTextFieldStatePlaceholder] cssString];</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;        element.style.color = [[<span class="keyword">self</span> valueForThemeAttribute:@&quot;text-color&quot; inState:CPThemeStateEditing] cssString];</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <span class="keywordflow">switch</span> ([<span class="keyword">self</span> alignment])</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    {</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="_c_p_text_8j.html#a1a27f1ba54d9210fd64849b846de7929">CPCenterTextAlignment</a>:</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;            element.style.textAlign = <span class="stringliteral">&quot;center&quot;</span>;</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="_c_p_text_8j.html#a7f9bbcc35a65106771e5661b570e5158">CPRightTextAlignment</a>:</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;            element.style.textAlign = <span class="stringliteral">&quot;right&quot;</span>;</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="_c_p_text_8j.html#a1fa43f931f7cf53966f522d0c4a46bef">CPNaturalTextAlignment</a>:</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;            element.style.textAlign = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;        <span class="keywordflow">default</span>:</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;            element.style.textAlign = <span class="stringliteral">&quot;left&quot;</span>;</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    }</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    var isTextArea  = element.nodeName.toUpperCase() == <span class="stringliteral">&quot;TEXTAREA&quot;</span>;</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    element.style.zIndex        = 1000;</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    element.style.top           = topPoint;</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    element.style.lineHeight    = ROUND(lineHeight) + &quot;px&quot;;</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    element.style.height        = isTextArea ? CGRectGetHeight(contentRect) + &quot;px&quot; : ROUND(lineHeight) + &quot;px&quot;;;</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    element.style.width         = CGRectGetWidth(contentRect) + &quot;px&quot;;</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    element.style.left          = left + &quot;px&quot;;</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    element.style.verticalAlign = <span class="stringliteral">&quot;top&quot;</span>;</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    element.style.cursor        = <span class="stringliteral">&quot;auto&quot;</span>;</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    element.style.font          = [font cssString];</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <span class="keywordflow">if</span> (isTextArea)</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;        element.style.whiteSpace = _wraps ? <span class="stringliteral">&quot;pre&quot;</span> : <span class="stringliteral">&quot;nowrap&quot;</span>;</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;}</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;</div><div class="line"><a name="l00792"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#a21221c598961c5bd41b4d5c161777f08">  792</a></span>&#160;- (BOOL)resignFirstResponder</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;{</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;<span class="preprocessor">#if PLATFORM(DOM)</span></div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <span class="comment">// We might have been the first responder without actually editing.</span></div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <span class="keywordflow">if</span> (_isEditing &amp;&amp; <a class="code" href="_c_p_text_field_8j.html#af75397458348bd7904b67bf33c418cc3">CPTextFieldInputOwner</a> === <span class="keyword">self</span>)</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    {</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;        var element = [<span class="keyword">self</span> _inputElement],</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;            newValue = element.value,</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;            error = <span class="stringliteral">@&quot;&quot;</span>;</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;        <span class="keywordflow">if</span> (newValue !== _stringValue)</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;        {</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;            [<span class="keyword">self</span> _setStringValue:newValue];</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;        }</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;        <span class="comment">// If there is a formatter, always give it a chance to reject the resignation,</span></div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;        <span class="comment">// even if the value has not changed.</span></div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;        <span class="keywordflow">if</span> ([<span class="keyword">self</span> _valueIsValid:newValue] === NO)</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;        {</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;            <span class="comment">// This will prevent to jump to the focused element</span></div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;            var previousScrollingOrigin = [<span class="keyword">self</span> _scrollToVisibleRectAndReturnPreviousOrigin];</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;            element.focus();</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;            [<span class="keyword">self</span> _restorePreviousScrollingOrigin:previousScrollingOrigin];</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;            <span class="keywordflow">return</span> NO;</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;        }</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    }</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    <span class="comment">// When we are no longer the first responder we don&#39;t worry about the key status of our window anymore.</span></div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    [<span class="keyword">self</span> _setObserveWindowKeyNotifications:NO];</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    <span class="keywordflow">if</span> ([[<span class="keyword">self</span> window] isKeyWindow])</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;        [<span class="keyword">self</span> _resignFirstKeyResponder];</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    _isEditing = NO;</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    <span class="keywordflow">if</span> ([<span class="keyword">self</span> isEditable])</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    {</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;        [<span class="keyword">self</span> <a class="code" href="interface_c_p_text_field.html#aeefcb9b9d91dd9898f1e850bbc84ef1a">textDidEndEditing</a>:[<a class="code" href="interface_c_p_notification.html">CPNotification</a> <a class="code" href="interface_c_p_notification.html#a85de5d79d60b13c0859bf8f1f6cda604">notificationWithName</a>:CPControlTextDidEndEditingNotification <a class="code" href="interface_c_p_notification.html#a85de5d79d60b13c0859bf8f1f6cda604">object</a>:self <a class="code" href="interface_c_p_notification.html#a85de5d79d60b13c0859bf8f1f6cda604">userInfo</a>:@{&quot;CPTextMovement&quot;: [<span class="keyword">self</span> _currentTextMovement]}]];</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;        <span class="keywordflow">if</span> ([<span class="keyword">self</span> sendsActionOnEndEditing])</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;            [<span class="keyword">self</span> <a class="code" href="interface_c_p_control.html#a929f38231fbaf20e55be493035090996">sendAction</a>:[<span class="keyword">self</span> <a class="code" href="interface_c_p_control.html#a5fa4c5742658ddf92bf797c07eda4704">action</a>] <a class="code" href="interface_c_p_control.html#a929f38231fbaf20e55be493035090996">to</a>:[<span class="keyword">self</span> <a class="code" href="interface_c_p_control.html#af9e1603a9c6e86d8ff0c79b63cbaa953">target</a>]];</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    }</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_text_field.html#a134c2773497e142b28849daf5997cfea">textDidBlur</a>:[<a class="code" href="interface_c_p_notification.html">CPNotification</a> <a class="code" href="interface_c_p_notification.html#a85de5d79d60b13c0859bf8f1f6cda604">notificationWithName</a>:CPTextFieldDidBlurNotification <a class="code" href="interface_c_p_notification.html#a85de5d79d60b13c0859bf8f1f6cda604">object</a>:self <a class="code" href="interface_c_p_notification.html#a85de5d79d60b13c0859bf8f1f6cda604">userInfo</a>:nil]];</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    <span class="keywordflow">return</span> YES;</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;}</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;- (void)_resignFirstKeyResponder</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;{</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    [<span class="keyword">self</span> unsetThemeState:CPThemeStateEditing];</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    <span class="comment">// Cache the formatted string</span></div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    _stringValue = [<span class="keyword">self</span> stringValue];</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    _willBecomeFirstResponderByClick = NO;</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    [<span class="keyword">self</span> _updatePlaceholderState];</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    [<span class="keyword">self</span> setNeedsLayout];</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;<span class="preprocessor">#if PLATFORM(DOM)</span></div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    var element = [<span class="keyword">self</span> _inputElement];</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    <a class="code" href="_c_p_text_field_8j.html#a65f24de4619fe487106b4e393ef06469">CPTextFieldInputResigning</a> = YES;</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="_c_p_text_field_8j.html#a9c077ecbffbdea5aea02335f91281a92">CPTextFieldInputIsActive</a>)</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;        element.blur();</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="_c_p_text_field_8j.html#af167eddeb6464661d8cdc1ffe75d6278">CPTextFieldInputDidBlur</a>)</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;        <a class="code" href="_c_p_text_field_8j.html#a92d704ae86a2b7d59a27904278e4da2d">CPTextFieldBlurHandler</a>();</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    <span class="keywordflow">if</span> (element.parentNode == _DOMElement)</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;        element.parentNode.removeChild(element);</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    <span class="comment">// Previosly, we unflagged CPTextFieldInputDidBlur and CPTextFieldInputResigning before</span></div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    <span class="comment">// the call to removeChild. This resulted in DOM exceptions in Chrome under certain conditions.</span></div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    <span class="comment">// See https://stackoverflow.com/questions/21926083/failed-to-execute-removechild-on-node</span></div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    <span class="comment">// for why we need to unflag CPTextFieldInputDidBlur and CPTextFieldInputResigning</span></div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    <span class="comment">// only after removing the element.</span></div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    <a class="code" href="_c_p_text_field_8j.html#af167eddeb6464661d8cdc1ffe75d6278">CPTextFieldInputDidBlur</a> = NO;</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    <a class="code" href="_c_p_text_field_8j.html#a65f24de4619fe487106b4e393ef06469">CPTextFieldInputResigning</a> = NO;</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    <a class="code" href="_c_p_text_field_8j.html#a9c077ecbffbdea5aea02335f91281a92">CPTextFieldInputIsActive</a> = NO;</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    <span class="keywordflow">if</span> (document.attachEvent)</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    {</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;        [[<span class="keyword">self</span> window] platformWindow]._DOMBodyElement.ondrag = <a class="code" href="_c_p_text_field_8j.html#aae90f20a85b685dca411c0e88d2c7684">CPTextFieldCachedDragFunction</a>;</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;        [[<span class="keyword">self</span> window] platformWindow]._DOMBodyElement.onselectstart = <a class="code" href="_c_p_text_field_8j.html#a37da027494bca1b803d182ad615db1b8">CPTextFieldCachedSelectStartFunction</a>;</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;        <a class="code" href="_c_p_text_field_8j.html#a37da027494bca1b803d182ad615db1b8">CPTextFieldCachedSelectStartFunction</a> = nil;</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;        <a class="code" href="_c_p_text_field_8j.html#aae90f20a85b685dca411c0e88d2c7684">CPTextFieldCachedDragFunction</a> = nil;</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    }</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;}</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;- (void)_setObserveWindowKeyNotifications:(BOOL)shouldObserve</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;{</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    <span class="keywordflow">if</span> (shouldObserve)</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    {</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;        [[<a class="code" href="interface_c_p_notification_center.html">CPNotificationCenter</a> <a class="code" href="interface_c_p_notification_center.html#a5abe725f1a1a48ac4cb1e45b6d9d50a8">defaultCenter</a>] <a class="code" href="interface_c_p_notification_center.html#a200d0ca44278be0327d26324bda1c4a6">addObserver</a>:self <a class="code" href="interface_c_p_notification_center.html#a200d0ca44278be0327d26324bda1c4a6">selector</a>:@selector(<a class="code" href="interface_c_p_notification_center.html#a200d0ca44278be0327d26324bda1c4a6">_windowDidResignKey</a>:) <a class="code" href="interface_c_p_notification_center.html#a200d0ca44278be0327d26324bda1c4a6">name</a>:CPWindowDidResignKeyNotification <a class="code" href="interface_c_p_notification_center.html#a200d0ca44278be0327d26324bda1c4a6">object</a>:[<span class="keyword">self</span> window]];</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;        [[<a class="code" href="interface_c_p_notification_center.html">CPNotificationCenter</a> <a class="code" href="interface_c_p_notification_center.html#a5abe725f1a1a48ac4cb1e45b6d9d50a8">defaultCenter</a>] <a class="code" href="interface_c_p_notification_center.html#a200d0ca44278be0327d26324bda1c4a6">addObserver</a>:self <a class="code" href="interface_c_p_notification_center.html#a200d0ca44278be0327d26324bda1c4a6">selector</a>:@selector(<a class="code" href="interface_c_p_notification_center.html#a200d0ca44278be0327d26324bda1c4a6">_windowDidBecomeKey</a>:) <a class="code" href="interface_c_p_notification_center.html#a200d0ca44278be0327d26324bda1c4a6">name</a>:CPWindowDidBecomeKeyNotification <a class="code" href="interface_c_p_notification_center.html#a200d0ca44278be0327d26324bda1c4a6">object</a>:[<span class="keyword">self</span> window]];</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    }</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    {</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;        [[<a class="code" href="interface_c_p_notification_center.html">CPNotificationCenter</a> <a class="code" href="interface_c_p_notification_center.html#a5abe725f1a1a48ac4cb1e45b6d9d50a8">defaultCenter</a>] <a class="code" href="interface_c_p_notification_center.html#a6a1a610cd3bd1fdc3eb6a9fe45d41ea7">removeObserver</a>:self <a class="code" href="interface_c_p_notification_center.html#a6a1a610cd3bd1fdc3eb6a9fe45d41ea7">name</a>:CPWindowDidResignKeyNotification <a class="code" href="interface_c_p_notification_center.html#a6a1a610cd3bd1fdc3eb6a9fe45d41ea7">object</a>:[<span class="keyword">self</span> window]];</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;        [[<a class="code" href="interface_c_p_notification_center.html">CPNotificationCenter</a> <a class="code" href="interface_c_p_notification_center.html#a5abe725f1a1a48ac4cb1e45b6d9d50a8">defaultCenter</a>] <a class="code" href="interface_c_p_notification_center.html#a6a1a610cd3bd1fdc3eb6a9fe45d41ea7">removeObserver</a>:self <a class="code" href="interface_c_p_notification_center.html#a6a1a610cd3bd1fdc3eb6a9fe45d41ea7">name</a>:CPWindowDidBecomeKeyNotification <a class="code" href="interface_c_p_notification_center.html#a6a1a610cd3bd1fdc3eb6a9fe45d41ea7">object</a>:[<span class="keyword">self</span> window]];</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    }</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;}</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;- (void)_removeObservers</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;{</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    <span class="keywordflow">if</span> (!_isObserving)</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    [<span class="keyword">super</span> _removeObservers];</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    [<span class="keyword">self</span> _setObserveWindowKeyNotifications:NO];</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;}</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;- (void)_addObservers</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;{</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    <span class="keywordflow">if</span> (_isObserving)</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    [<span class="keyword">super</span> _addObservers];</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    <span class="keywordflow">if</span> ([[<span class="keyword">self</span> window] firstResponder] === <span class="keyword">self</span>)</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;        [<span class="keyword">self</span> _setObserveWindowKeyNotifications:YES];</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;}</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;- (void)_windowDidResignKey:(<a class="code" href="interface_c_p_notification.html">CPNotification</a>)aNotification</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;{</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    <span class="keywordflow">if</span> (![[<span class="keyword">self</span> window] isKeyWindow])</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;        [<span class="keyword">self</span> _resignFirstKeyResponder];</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;}</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;- (void)_windowDidBecomeKey:(<a class="code" href="interface_c_p_notification.html">CPNotification</a>)aNotification</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;{</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    <span class="keywordflow">if</span> (!([<span class="keyword">self</span> isEnabled] &amp;&amp; [<span class="keyword">self</span> isEditable]))</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    var wind = [<span class="keyword">self</span> window];</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    <span class="keywordflow">if</span> ([wind isKeyWindow] &amp;&amp; [wind firstResponder] === <span class="keyword">self</span>)</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;        <span class="keywordflow">if</span> (![<span class="keyword">self</span> _becomeFirstKeyResponder])</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;            [wind makeFirstResponder:nil];</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;}</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;- (BOOL)_valueIsValid:(<a class="code" href="interface_c_p_string.html">CPString</a>)aValue</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;{</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;<span class="preprocessor">#if PLATFORM(DOM)</span></div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    var error = <span class="stringliteral">@&quot;&quot;</span>;</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    <span class="keywordflow">if</span> ([<span class="keyword">self</span> _setStringValue:aValue isNewValue:NO errorDescription:@ref(error)] === NO)</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    {</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;        var acceptInvalidValue = NO;</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;        <span class="keywordflow">if</span> (_implementedDelegateMethods &amp; <a class="code" href="_c_p_text_field_8j.html#aa248b7c973fa88bb5a5ff9e9a9cb5d09">CPTextFieldDelegate_control_didFailToFormatString_errorDescription_</a>)</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;            acceptInvalidValue = [_delegate control:self didFailToFormatString:aValue errorDescription:error];</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;        <span class="keywordflow">if</span> (acceptInvalidValue === NO)</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;            <span class="keywordflow">return</span> NO;</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    }</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    <span class="keywordflow">return</span> YES;</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;}</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;</div><div class="line"><a name="l00972"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#a4c7c0fd1c2c4ae6706d8701152839480">  972</a></span>&#160;- (BOOL)needsPanelToBecomeKey</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;{</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    <span class="keywordflow">return</span> [<span class="keyword">self</span> <a class="code" href="interface_c_p_text_field.html#a9cf8e6fa18aec8d3d52d9f1daeeebbba">acceptsFirstResponder</a>];</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;}</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;</div><div class="line"><a name="l00980"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#ae4ee2e3b073bacacbd919e6e62ac11e7">  980</a></span>&#160;- (BOOL)acceptsFirstMouse:(<a class="code" href="interface_c_p_event.html">CPEvent</a>)anEvent</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;{</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    <span class="keywordflow">return</span> [<span class="keyword">self</span> <a class="code" href="interface_c_p_text_field.html#a9cf8e6fa18aec8d3d52d9f1daeeebbba">acceptsFirstResponder</a>];</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;}</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;- (void)_didEdit</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;{</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    <span class="keywordflow">if</span> (!_isEditing)</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    {</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;        _isEditing = YES;</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;        [<span class="keyword">self</span> textDidBeginEditing:[<a class="code" href="interface_c_p_notification.html">CPNotification</a> <a class="code" href="interface_c_p_notification.html#a85de5d79d60b13c0859bf8f1f6cda604">notificationWithName</a>:CPControlTextDidBeginEditingNotification <a class="code" href="interface_c_p_notification.html#a85de5d79d60b13c0859bf8f1f6cda604">object</a>:self <a class="code" href="interface_c_p_notification.html#a85de5d79d60b13c0859bf8f1f6cda604">userInfo</a>:nil]];</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    }</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    [<span class="keyword">self</span> textDidChange:[<a class="code" href="interface_c_p_notification.html">CPNotification</a> <a class="code" href="interface_c_p_notification.html#a85de5d79d60b13c0859bf8f1f6cda604">notificationWithName</a>:CPControlTextDidChangeNotification <a class="code" href="interface_c_p_notification.html#a85de5d79d60b13c0859bf8f1f6cda604">object</a>:self <a class="code" href="interface_c_p_notification.html#a85de5d79d60b13c0859bf8f1f6cda604">userInfo</a>:nil]];</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;}</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;</div><div class="line"><a name="l00996"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#addc903ae6c3dce9354867ab292b0fe17">  996</a></span>&#160;- (void)mouseDown:(<a class="code" href="interface_c_p_event.html">CPEvent</a>)anEvent</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;{</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <span class="keywordflow">if</span> (![<span class="keyword">self</span> isEnabled])</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;        <span class="keywordflow">return</span> [[<span class="keyword">self</span> nextResponder] mouseDown:anEvent];</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    <span class="comment">// Don&#39;t track! (ever?)</span></div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    <span class="keywordflow">if</span> ([<span class="keyword">self</span> isEditable] &amp;&amp; [<span class="keyword">self</span> isEnabled])</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    {</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;        _willBecomeFirstResponderByClick = YES;</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;        [[<span class="keyword">self</span> <a class="code" href="class_c_p_view.html#ae83c8efd2cc2cfe0dd767c1a6bb6d0a7">window</a>] <a class="code" href="interface_c_p_window.html#a8fc7c3a24092c25057a4314694ef7c6d">makeFirstResponder</a>:self];</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    }</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ([<span class="keyword">self</span> isSelectable])</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    {</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;        [<span class="keyword">self</span> _setEnableCSSSelection:YES];</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;        <span class="keywordflow">if</span> (document.attachEvent)</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;        {</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;            <a class="code" href="_c_p_text_field_8j.html#a37da027494bca1b803d182ad615db1b8">CPTextFieldCachedSelectStartFunction</a> = [[<span class="keyword">self</span> <a class="code" href="class_c_p_view.html#ae83c8efd2cc2cfe0dd767c1a6bb6d0a7">window</a>] <a class="code" href="interface_c_p_window.html#a0aefd4e1b2119ed015fcf990b3f167b5">platformWindow</a>]._DOMBodyElement.onselectstart;</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;            <a class="code" href="_c_p_text_field_8j.html#aae90f20a85b685dca411c0e88d2c7684">CPTextFieldCachedDragFunction</a> = [[<span class="keyword">self</span> <a class="code" href="class_c_p_view.html#ae83c8efd2cc2cfe0dd767c1a6bb6d0a7">window</a>] <a class="code" href="interface_c_p_window.html#a0aefd4e1b2119ed015fcf990b3f167b5">platformWindow</a>]._DOMBodyElement.ondrag;</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;            [[<span class="keyword">self</span> <a class="code" href="class_c_p_view.html#ae83c8efd2cc2cfe0dd767c1a6bb6d0a7">window</a>] <a class="code" href="interface_c_p_window.html#a0aefd4e1b2119ed015fcf990b3f167b5">platformWindow</a>]._DOMBodyElement.ondrag = <span class="keyword">function</span> () {};</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;            [[<span class="keyword">self</span> <a class="code" href="class_c_p_view.html#ae83c8efd2cc2cfe0dd767c1a6bb6d0a7">window</a>] <a class="code" href="interface_c_p_window.html#a0aefd4e1b2119ed015fcf990b3f167b5">platformWindow</a>]._DOMBodyElement.onselectstart = <span class="keyword">function</span> () {};</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;        }</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;        <span class="keywordflow">return</span> [[[anEvent <a class="code" href="interface_c_p_event.html#af9a0e45bbaba9bc6587a222e74bf0703">window</a>] <a class="code" href="interface_c_p_window.html#a0aefd4e1b2119ed015fcf990b3f167b5">platformWindow</a>] _propagateCurrentDOMEvent:YES];</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    }</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;        <span class="keywordflow">return</span> [[<span class="keyword">self</span> nextResponder] mouseDown:anEvent];</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;}</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;</div><div class="line"><a name="l01024"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#a996b68335f85314a21a4d2064cf1e522"> 1024</a></span>&#160;- (void)mouseUp:(<a class="code" href="interface_c_p_event.html">CPEvent</a>)anEvent</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;{</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    <span class="keywordflow">if</span> (![<span class="keyword">self</span> isEnabled] || !([<span class="keyword">self</span> isSelectable] || [<span class="keyword">self</span> isEditable]))</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;        [[<span class="keyword">self</span> nextResponder] mouseUp:anEvent];</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ([<span class="keyword">self</span> isSelectable])</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    {</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;        <span class="keywordflow">if</span> (document.attachEvent)</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;        {</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;            [[<span class="keyword">self</span> <a class="code" href="class_c_p_view.html#ae83c8efd2cc2cfe0dd767c1a6bb6d0a7">window</a>] <a class="code" href="interface_c_p_window.html#a0aefd4e1b2119ed015fcf990b3f167b5">platformWindow</a>]._DOMBodyElement.ondrag = <a class="code" href="_c_p_text_field_8j.html#aae90f20a85b685dca411c0e88d2c7684">CPTextFieldCachedDragFunction</a>;</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;            [[<span class="keyword">self</span> <a class="code" href="class_c_p_view.html#ae83c8efd2cc2cfe0dd767c1a6bb6d0a7">window</a>] <a class="code" href="interface_c_p_window.html#a0aefd4e1b2119ed015fcf990b3f167b5">platformWindow</a>]._DOMBodyElement.onselectstart = <a class="code" href="_c_p_text_field_8j.html#a37da027494bca1b803d182ad615db1b8">CPTextFieldCachedSelectStartFunction</a>;</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;            <a class="code" href="_c_p_text_field_8j.html#a37da027494bca1b803d182ad615db1b8">CPTextFieldCachedSelectStartFunction</a> = nil;</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;            <a class="code" href="_c_p_text_field_8j.html#aae90f20a85b685dca411c0e88d2c7684">CPTextFieldCachedDragFunction</a> = nil;</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;        }</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;        <span class="comment">// TODO clickCount === 2 should select the clicked word.</span></div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;        <span class="keywordflow">if</span> ([[<a class="code" href="_c_p_application___constants_8j.html#a428912231c07effc32c420ee523bf0b7">CPApp</a> currentEvent] clickCount] === 3)</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;        {</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;            [<span class="keyword">self</span> <a class="code" href="interface_c_p_text_field.html#ab67c5ae4b907b48b49c4bf217986a136">selectText</a>:nil];</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;        }</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;        <span class="keywordflow">return</span> [[[anEvent <a class="code" href="interface_c_p_event.html#af9a0e45bbaba9bc6587a222e74bf0703">window</a>] <a class="code" href="interface_c_p_window.html#a0aefd4e1b2119ed015fcf990b3f167b5">platformWindow</a>] _propagateCurrentDOMEvent:YES];</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    }</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;}</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;</div><div class="line"><a name="l01051"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#aa6e2c4967bbd8624bc6d12e9ff7bee12"> 1051</a></span>&#160;- (void)rightMouseDown:(<a class="code" href="interface_c_p_event.html">CPEvent</a>)anEvent</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;{</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    <span class="keywordflow">if</span> ([<span class="keyword">self</span> menuForEvent:anEvent] || [[<span class="keyword">self</span> nextResponder] isKindOfClass:<a class="code" href="class_c_p_view.html">CPView</a>])</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;        [<span class="keyword">super</span> <a class="code" href="class_c_p_view.html#aba596dbf5a8260923f1d096ddc17e78c">rightMouseDown</a>:anEvent];</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;        [[[anEvent <a class="code" href="interface_c_p_event.html#af9a0e45bbaba9bc6587a222e74bf0703">window</a>] <a class="code" href="interface_c_p_window.html#a0aefd4e1b2119ed015fcf990b3f167b5">platformWindow</a>] _propagateContextMenuDOMEvent:YES];</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;}</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;</div><div class="line"><a name="l01059"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#a9b04b6e59988af3d04872b867564cc3c"> 1059</a></span>&#160;- (void)mouseDragged:(<a class="code" href="interface_c_p_event.html">CPEvent</a>)anEvent</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;{</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;    <span class="keywordflow">if</span> (![<span class="keyword">self</span> isEnabled] || !([<span class="keyword">self</span> isSelectable] || [<span class="keyword">self</span> isEditable]))</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;        [[<span class="keyword">self</span> nextResponder] mouseDragged:anEvent];</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ([<span class="keyword">self</span> isSelectable])</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;        <span class="keywordflow">return</span> [[[anEvent <a class="code" href="interface_c_p_event.html#af9a0e45bbaba9bc6587a222e74bf0703">window</a>] <a class="code" href="interface_c_p_window.html#a0aefd4e1b2119ed015fcf990b3f167b5">platformWindow</a>] _propagateCurrentDOMEvent:YES];</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;}</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;</div><div class="line"><a name="l01067"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#acc14403b1db8eefe503ef7512bc83104"> 1067</a></span>&#160;- (void)keyUp:(<a class="code" href="interface_c_p_event.html">CPEvent</a>)anEvent</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;{</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;    <span class="keywordflow">if</span> (!([<span class="keyword">self</span> isEnabled] &amp;&amp; [<span class="keyword">self</span> isEditable]))</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;<span class="preprocessor">#if PLATFORM(DOM)</span></div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;    var newValue = [<span class="keyword">self</span> _inputElement].value;</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    <span class="keywordflow">if</span> (newValue !== _stringValue)</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    {</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;        [<span class="keyword">self</span> _setStringValue:newValue];</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;        [<span class="keyword">self</span> _didEdit];</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    }</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    [[[<span class="keyword">self</span> <a class="code" href="class_c_p_view.html#ae83c8efd2cc2cfe0dd767c1a6bb6d0a7">window</a>] <a class="code" href="interface_c_p_window.html#a0aefd4e1b2119ed015fcf990b3f167b5">platformWindow</a>] _propagateCurrentDOMEvent:YES];</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;}</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;</div><div class="line"><a name="l01085"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#a84bb0a9f4d9342ed631a72d8cf536e76"> 1085</a></span>&#160;- (void)keyDown:(<a class="code" href="interface_c_p_event.html">CPEvent</a>)anEvent</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;{</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    <span class="keywordflow">if</span> (!([<span class="keyword">self</span> isEnabled] &amp;&amp; [<span class="keyword">self</span> isEditable]))</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    <span class="comment">// CPTextField uses an HTML input element to take the input so we need to</span></div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    <span class="comment">// propagate the dom event so the element is updated. This has to be done</span></div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    <span class="comment">// before interpretKeyEvents: though so individual commands have a chance</span></div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    <span class="comment">// to override this (escape to clear the text in a search field for example).</span></div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    [[[<span class="keyword">self</span> <a class="code" href="class_c_p_view.html#ae83c8efd2cc2cfe0dd767c1a6bb6d0a7">window</a>] <a class="code" href="interface_c_p_window.html#a0aefd4e1b2119ed015fcf990b3f167b5">platformWindow</a>] _propagateCurrentDOMEvent:YES];</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    <span class="comment">// Set a flag so that key handling methods (such as deleteBackward:)</span></div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    <span class="comment">// know they were invoked from a user event.</span></div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    _invokedByUserEvent = !!anEvent._DOMEvent;</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    [<span class="keyword">self</span> interpretKeyEvents:[anEvent]];</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    _invokedByUserEvent = NO;</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    [[<a class="code" href="interface_c_p_run_loop.html">CPRunLoop</a> <a class="code" href="interface_c_p_run_loop.html#aba93f1cef957bad4353ce060981c0b9d">currentRunLoop</a>] <a class="code" href="interface_c_p_run_loop.html#aad8e51e44d4c17634d8c45c1ca540217">limitDateForMode</a>:CPDefaultRunLoopMode];</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;}</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;</div><div class="line"><a name="l01114"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#a2ebacd6582d3d40c2348d41b98afc43c"> 1114</a></span>&#160;- (void)doCommandBySelector:(<span class="keywordtype">SEL</span>)aSelector</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;{</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    <span class="keywordflow">if</span> ([<span class="keyword">self</span> respondsToSelector:aSelector])</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;        [<span class="keyword">self</span> performSelector:aSelector];</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;}</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;</div><div class="line"><a name="l01120"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#a673631da87bf9cc2e6384c57a0bbd9a9"> 1120</a></span>&#160;- (void)insertNewline:(<span class="keywordtype">id</span>)sender</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;{</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    <span class="keywordflow">if</span> (!([<span class="keyword">self</span> isEnabled] &amp;&amp; [<span class="keyword">self</span> isEditable]))</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    var newValue = [<span class="keyword">self</span> _inputElement].value;</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    <span class="keywordflow">if</span> (newValue !== _stringValue)</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    {</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;        [<span class="keyword">self</span> _setStringValue:newValue];</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;        [<span class="keyword">self</span> _didEdit];</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    }</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    <span class="keywordflow">if</span> ([<span class="keyword">self</span> _valueIsValid:_stringValue])</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    {</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;        <span class="comment">// If _isEditing == YES then the target action can also be called via</span></div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;        <span class="comment">// resignFirstResponder, and it is possible that the target action</span></div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;        <span class="comment">// itself will change this textfield&#39;s responder status, so start by</span></div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;        <span class="comment">// setting the _isEditing flag to NO to prevent the target action being</span></div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;        <span class="comment">// called twice (once below and once from resignFirstResponder).</span></div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;        <span class="keywordflow">if</span> (_isEditing)</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;        {</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;            _isEditing = NO;</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;            [<span class="keyword">self</span> <a class="code" href="interface_c_p_text_field.html#aeefcb9b9d91dd9898f1e850bbc84ef1a">textDidEndEditing</a>:[<a class="code" href="interface_c_p_notification.html">CPNotification</a> <a class="code" href="interface_c_p_notification.html#a85de5d79d60b13c0859bf8f1f6cda604">notificationWithName</a>:CPControlTextDidEndEditingNotification <a class="code" href="interface_c_p_notification.html#a85de5d79d60b13c0859bf8f1f6cda604">object</a>:self <a class="code" href="interface_c_p_notification.html#a85de5d79d60b13c0859bf8f1f6cda604">userInfo</a>:@{&quot;CPTextMovement&quot;: [<span class="keyword">self</span> _currentTextMovement]}]];</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;        }</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;        <span class="comment">// If there is no target action, or the sendAction call returns</span></div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;        <span class="comment">// success.</span></div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;        <span class="keywordflow">if</span> (![<span class="keyword">self</span> action] || [<span class="keyword">self</span> sendAction:[<span class="keyword">self</span> action] to:[<span class="keyword">self</span> target]])</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;        {</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;            [<span class="keyword">self</span> <a class="code" href="interface_c_p_text_field.html#abb8df615ff419f4c919066254975a6d3">selectAll</a>:nil];</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;        }</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;    }</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    [[[<span class="keyword">self</span> <a class="code" href="class_c_p_view.html#ae83c8efd2cc2cfe0dd767c1a6bb6d0a7">window</a>] <a class="code" href="interface_c_p_window.html#a0aefd4e1b2119ed015fcf990b3f167b5">platformWindow</a>] _propagateCurrentDOMEvent:NO];</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;}</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;</div><div class="line"><a name="l01157"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#a16e978a456405696dab05b8dd80c6163"> 1157</a></span>&#160;- (void)insertNewlineIgnoringFieldEditor:(<span class="keywordtype">id</span>)sender</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;{</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;    [<span class="keyword">self</span> _insertCharacterIgnoringFieldEditor:CPNewlineCharacter];</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;}</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;</div><div class="line"><a name="l01162"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#ac11dfc53456160713ce6ec73d89e87cd"> 1162</a></span>&#160;- (void)insertTabIgnoringFieldEditor:(<span class="keywordtype">id</span>)sender</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;{</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;    [<span class="keyword">self</span> _insertCharacterIgnoringFieldEditor:CPTabCharacter];</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;}</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;- (void)_insertCharacterIgnoringFieldEditor:(<a class="code" href="interface_c_p_string.html">CPString</a>)aCharacter</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;{</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;    <span class="keywordflow">if</span> (!([<span class="keyword">self</span> isEnabled] &amp;&amp; [<span class="keyword">self</span> isEditable]))</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;<span class="preprocessor">#if PLATFORM(DOM)</span></div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;    var oldValue = _stringValue,</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;        range = [<span class="keyword">self</span> selectedRange],</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;        element = [<span class="keyword">self</span> _inputElement];</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;    <span class="comment">// we don&#39;t need to do this in case of textarea</span></div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;    <span class="comment">// or we will end up with 2 carriage returns</span></div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    <span class="keywordflow">if</span> (aCharacter != <a class="code" href="_c_p_text_8j.html#af404a1318823b69e89dfd318daed63ff">CPNewlineCharacter</a> || element.nodeName.toUpperCase() != <span class="stringliteral">&quot;TEXTAREA&quot;</span> || !<a class="code" href="_c_p_compatibility_8j.html#a1fbfe7ca6b2cef354ecfe78f6cfd6659">CPFeatureIsCompatible</a>(<a class="code" href="_c_p_compatibility_8j.html#a4b19b975a8d2bb099d44a51a90fef4f1">CPAltEnterTextAreaFeature</a>))</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;        element.value = [element.value stringByReplacingCharactersInRange:[<span class="keyword">self</span> selectedRange] withString:aCharacter];</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    [<span class="keyword">self</span> _setStringValue:element.value];</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    <span class="comment">// NOTE: _stringValue is now the current input element value</span></div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;    <a class="code" href="_c_a_backing_store_8j.html#ad2b049b1f6911d2ffffc0769dfe601e4">if</a> (oldValue !== _stringValue)</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    {</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;        [<span class="keyword">self</span> _didEdit];</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;    }</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;}</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;</div><div class="line"><a name="l01194"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#a134c2773497e142b28849daf5997cfea"> 1194</a></span>&#160;- (void)textDidBlur:(<a class="code" href="interface_c_p_notification.html">CPNotification</a>)note</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;{</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    <span class="comment">// this looks to prevent false propagation of notifications for other objects</span></div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    <span class="keywordflow">if</span> ([note <span class="keywordtype">object</span>] != <span class="keyword">self</span>)</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    <span class="keywordflow">if</span> (_implementedDelegateMethods &amp; <a class="code" href="_c_p_text_field_8j.html#a13a056ef1c399482c7cf8a27a985c10d">CPTextFieldDelegate_controlTextDidBlur_</a>)</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;        [_delegate controlTextDidBlur:note];</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    [[<a class="code" href="interface_c_p_notification_center.html">CPNotificationCenter</a> <a class="code" href="interface_c_p_notification_center.html#a5abe725f1a1a48ac4cb1e45b6d9d50a8">defaultCenter</a>] <a class="code" href="interface_c_p_notification_center.html#a2528b0b90f75d7263f9373d9cd896e94">postNotification</a>:note];</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;}</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;</div><div class="line"><a name="l01206"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#a6bf7dd92e0811f90ef7c543dc7864ff7"> 1206</a></span>&#160;- (void)textDidFocus:(<a class="code" href="interface_c_p_notification.html">CPNotification</a>)note</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;{</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    <span class="comment">// this looks to prevent false propagation of notifications for other objects</span></div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    <span class="keywordflow">if</span> ([note <span class="keywordtype">object</span>] !== <span class="keyword">self</span>)</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    <span class="keywordflow">if</span> (_implementedDelegateMethods &amp; <a class="code" href="_c_p_text_field_8j.html#a3353c16b8f9ac50c07fe417be8d616f6">CPTextFieldDelegate_controlTextDidFocus_</a>)</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;        [_delegate controlTextDidFocus:note];</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    [[<a class="code" href="interface_c_p_notification_center.html">CPNotificationCenter</a> <a class="code" href="interface_c_p_notification_center.html#a5abe725f1a1a48ac4cb1e45b6d9d50a8">defaultCenter</a>] <a class="code" href="interface_c_p_notification_center.html#a2528b0b90f75d7263f9373d9cd896e94">postNotification</a>:note];</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;}</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;</div><div class="line"><a name="l01218"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#a45cc146aff92ff9cb6cf443eceece751"> 1218</a></span>&#160;- (void)textDidChange:(<a class="code" href="interface_c_p_notification.html">CPNotification</a>)note</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;{</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;    <span class="keywordflow">if</span> ([note <span class="keywordtype">object</span>] !== <span class="keyword">self</span>)</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;    [<span class="keyword">self</span> _continuouslyReverseSetBinding];</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    <span class="keywordflow">if</span> (_implementedDelegateMethods &amp; <a class="code" href="_c_p_text_field_8j.html#a1356b4016b8b48424a553fca132d63ea">CPTextFieldDelegate_controlTextDidChange_</a>)</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;        [_delegate controlTextDidChange:note];</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    [<span class="keyword">super</span> <a class="code" href="interface_c_p_control.html#a3084d5a43bfe611aec6f514d544d803c">textDidChange</a>:note];</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;}</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;</div><div class="line"><a name="l01231"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#a6f9a5fb19df90edb112046f9e8debb7b"> 1231</a></span>&#160;- (void)textDidBeginEditing:(<a class="code" href="interface_c_p_notification.html">CPNotification</a>)note</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;{</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    <span class="comment">//this looks to prevent false propagation of notifications for other objects</span></div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;    <span class="keywordflow">if</span> ([note <span class="keywordtype">object</span>] != <span class="keyword">self</span>)</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    <span class="keywordflow">if</span> (_implementedDelegateMethods &amp; <a class="code" href="_c_p_text_field_8j.html#a3eefb45d611807698c520e80c20a1725">CPTextFieldDelegate_controlTextDidBeginEditing_</a>)</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;        [_delegate controlTextDidBeginEditing:[[<a class="code" href="interface_c_p_notification.html">CPNotification</a> <a class="code" href="class_c_p_object.html#aa6d290852c6a151058e8e82d053db475">alloc</a>] <a class="code" href="interface_c_p_notification.html#ae82791f0df782d1ca0e8ae0ab7676fec">initWithName</a>:CPControlTextDidBeginEditingNotification <a class="code" href="interface_c_p_notification.html#ae82791f0df782d1ca0e8ae0ab7676fec">object</a>:self <a class="code" href="interface_c_p_notification.html#ae82791f0df782d1ca0e8ae0ab7676fec">userInfo</a>:@{&quot;CPFieldEditor&quot;: [note <a class="code" href="interface_c_p_notification.html#a0a912e9648acf5e7f669aed339474158">object</a>]}]];</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    [<span class="keyword">super</span> <a class="code" href="interface_c_p_control.html#a35579be951c96fa16502009f0d7195ef">textDidBeginEditing</a>:note];</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;}</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;</div><div class="line"><a name="l01243"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#aeefcb9b9d91dd9898f1e850bbc84ef1a"> 1243</a></span>&#160;- (void)textDidEndEditing:(<a class="code" href="interface_c_p_notification.html">CPNotification</a>)note</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;{</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;    <span class="comment">//this looks to prevent false propagation of notifications for other objects</span></div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;    <span class="keywordflow">if</span> ([note <span class="keywordtype">object</span>] != <span class="keyword">self</span>)</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    [<span class="keyword">super</span> <a class="code" href="interface_c_p_control.html#a9677bed8133dc8d4b4e1c284c963e656">textDidEndEditing</a>:note];</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    <span class="keywordflow">if</span> (_implementedDelegateMethods &amp; <a class="code" href="_c_p_text_field_8j.html#ade056688e0d47749605c1d110eae58fb">CPTextFieldDelegate_controlTextDidEndEditing_</a>)</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;        [_delegate controlTextDidEndEditing:note];</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;}</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;</div><div class="line"><a name="l01258"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#a422f78e4fcbf4895f02d818add3978ee"> 1258</a></span>&#160;- (id)objectValue</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;{</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    <span class="keywordflow">return</span> [<span class="keyword">super</span> <a class="code" href="interface_c_p_control.html#a9065e987dc8cce608d1fe586dd036d25">objectValue</a>];</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;}</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;<span class="comment">    Sets the internal string value without updating the value in the input element.</span></div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;<span class="comment">    This should only be invoked when the underlying text element&#39;s value has changed.</span></div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;- (BOOL)_setStringValue:(<a class="code" href="interface_c_p_string.html">CPString</a>)aValue</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;{</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    <span class="keywordflow">return</span> [<span class="keyword">self</span> _setStringValue:aValue isNewValue:YES errorDescription:nil];</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;}</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;- (BOOL)_setStringValue:(<a class="code" href="interface_c_p_string.html">CPString</a>)aValue isNewValue:(BOOL)isNewValue errorDescription:(CPStringRef)anError</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;{</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    _stringValue = aValue;</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;    var objectValue = aValue,</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;        formatter = [<span class="keyword">self</span> formatter],</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;        result = YES;</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;    <span class="keywordflow">if</span> (formatter)</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    {</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;        var <span class="keywordtype">object</span> = nil;</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;        <span class="keywordflow">if</span> ([formatter getObjectValue:@ref(<span class="keywordtype">object</span>) forString:aValue errorDescription:anError])</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;            objectValue = <span class="keywordtype">object</span>;</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;        {</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;            objectValue = undefined;  <span class="comment">// Mark the value as invalid</span></div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;            result = NO;</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;        }</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;        isNewValue |= objectValue !== [<span class="keyword">super</span> objectValue];</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    }</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    <span class="keywordflow">if</span> (isNewValue)</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    {</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;        [<span class="keyword">self</span> willChangeValueForKey:@&quot;objectValue&quot;];</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;        [<span class="keyword">super</span> setObjectValue:objectValue];</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;        [<span class="keyword">self</span> _updatePlaceholderState];</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;        [<span class="keyword">self</span> didChangeValueForKey:@&quot;objectValue&quot;];</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    }</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    <span class="keywordflow">return</span> result;</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;}</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;</div><div class="line"><a name="l01310"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#a4e61e538ab0be1413e5f13cd39fa90ad"> 1310</a></span>&#160;- (void)setObjectValue:(<span class="keywordtype">id</span>)aValue</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;{</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;    [<span class="keyword">self</span> _setObjectValue:aValue useFormatter:YES];</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;}</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;- (void)_setObjectValue:(<span class="keywordtype">id</span>)aValue useFormatter:(BOOL)useFormatter</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;{</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;    [<span class="keyword">super</span> setObjectValue:aValue];</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    var formatter = [<span class="keyword">self</span> formatter];</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    <span class="keywordflow">if</span> (useFormatter &amp;&amp; formatter)</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;    {</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;        <span class="comment">// If there is a formatter, make sure the object value can be formatted successfully</span></div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;        var formattedString = [<span class="keyword">self</span> hasThemeState:CPThemeStateEditing] ? [formatter editingStringForObjectValue:aValue] : [formatter stringForObjectValue:aValue];</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;        <span class="keywordflow">if</span> (formattedString === nil)</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;        {</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;            var value = nil;</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;            <span class="comment">// Formatting failed, get an &quot;empty&quot; object by formatting an empty string.</span></div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;            <span class="comment">// If that fails, the value is undefined.</span></div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;            <span class="keywordflow">if</span> ([formatter getObjectValue:@ref(value) forString:<span class="stringliteral">@&quot;&quot;</span> errorDescription:nil] === NO)</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;                value = undefined;</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;            [<span class="keyword">super</span> setObjectValue:value];</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;            _stringValue = (value === nil || value === undefined) ? <span class="stringliteral">@&quot;&quot;</span> : String(value);</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;        }</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;            _stringValue = formattedString;</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;    }</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;        _stringValue = [<span class="keyword">self</span> stringValue];</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;<span class="preprocessor">#if PLATFORM(DOM)</span></div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="_c_p_text_field_8j.html#af75397458348bd7904b67bf33c418cc3">CPTextFieldInputOwner</a> === <span class="keyword">self</span> || [[<span class="keyword">self</span> window] firstResponder] === <span class="keyword">self</span>) &amp;&amp; [[<span class="keyword">self</span> window] isKeyWindow])</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;        [<span class="keyword">self</span> _inputElement].value = _stringValue;</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;    [<span class="keyword">self</span> _updatePlaceholderState];</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;}</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;- (void)_updatePlaceholderState</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;{</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;    <span class="keywordflow">if</span> (!_stringValue || _stringValue.<a class="code" href="interface_c_p_string.html#a995ca4d2f7167db0da2fad02a444ec73">length</a> === 0)</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;        [<span class="keyword">self</span> setThemeState:CPTextFieldStatePlaceholder];</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;        [<span class="keyword">self</span> unsetThemeState:CPTextFieldStatePlaceholder];</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;}</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;</div><div class="line"><a name="l01366"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#a3da0a821aa41434e59383fc020f4208b"> 1366</a></span>&#160;- (void)setPlaceholderString:(<a class="code" href="interface_c_p_string.html">CPString</a>)aStringValue</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;{</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;    <span class="keywordflow">if</span> (_placeholderString === aStringValue)</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;    _placeholderString = aStringValue;</div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;    <span class="comment">// Only update things if we need to show the placeholder</span></div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;    <span class="keywordflow">if</span> ([<span class="keyword">self</span> hasThemeState:<a class="code" href="_c_p_text_field_8j.html#ace23af555767a4e15bdeb9ae1f86b5f4">CPTextFieldStatePlaceholder</a>])</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;    {</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;        [<span class="keyword">self</span> <a class="code" href="class_c_p_view.html#a39431c7a00864c9ddfe57c191fd82ccf">setNeedsLayout</a>];</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;        [<span class="keyword">self</span> <a class="code" href="class_c_p_view.html#a695368bc818096a7ae173f955fa1bd2c">setNeedsDisplay</a>:YES];</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;    }</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;}</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;</div><div class="line"><a name="l01384"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#a70333a3ed2aea8b7ad8baf08269a751c"> 1384</a></span>&#160;- (<a class="code" href="interface_c_p_string.html">CPString</a>)placeholderString</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;{</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;    <span class="keywordflow">return</span> _placeholderString;</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;}</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;</div><div class="line"><a name="l01409"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#ad9c9298dfb4c9d577d574a90735e9e90"> 1409</a></span>&#160;- (void)sizeToFit</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;{</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;    [<span class="keyword">self</span> <a class="code" href="class_c_p_view.html#a8237df9b00fb6c4f84f6c2bef131293a">setFrameSize</a>:[<span class="keyword">self</span> _minimumFrameSize]];</div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;}</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;- (CGSize)_minimumFrameSize</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;{</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;    var frameSize = [<span class="keyword">self</span> frameSize],</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;        contentInset = [<span class="keyword">self</span> currentValueForThemeAttribute:@&quot;content-inset&quot;],</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;        minSize = [<span class="keyword">self</span> currentValueForThemeAttribute:@&quot;min-size&quot;],</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;        maxSize = [<span class="keyword">self</span> currentValueForThemeAttribute:@&quot;max-size&quot;],</div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;        lineBreakMode = [<span class="keyword">self</span> lineBreakMode],</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;        text = (_stringValue || <span class="stringliteral">@&quot; &quot;</span>),</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;        textSize = CGSizeMakeCopy(frameSize),</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;        font = [<span class="keyword">self</span> currentValueForThemeAttribute:@&quot;font&quot;];</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;    textSize.width -= contentInset.left + contentInset.right;</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;    textSize.height -= contentInset.top + contentInset.bottom;</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;    <span class="keywordflow">if</span> (frameSize.width !== 0 &amp;&amp;</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;        ![<span class="keyword">self</span> isBezeled]     &amp;&amp;</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;        (lineBreakMode === <a class="code" href="_c_p_control_8j.html#adfcc1b2b7891e0012b59d3d256bfdf46">CPLineBreakByWordWrapping</a> || lineBreakMode === <a class="code" href="_c_p_control_8j.html#a7c4803f36a6068ad5aea81cd0c751667">CPLineBreakByCharWrapping</a>))</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    {</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;        textSize = [text sizeWithFont:font inWidth:textSize.width];</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;    }</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;    {</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;        textSize = [text sizeWithFont:font];</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;        <span class="comment">// Account for possible fractional pixels at right edge</span></div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;        textSize.width += 1;</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;    }</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;    <span class="comment">// Account for possible fractional pixels at bottom edge</span></div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;    textSize.height += 1;</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;    frameSize.height = textSize.height + contentInset.top + contentInset.bottom;</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;    <span class="keywordflow">if</span> ([<span class="keyword">self</span> isBezeled])</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;    {</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;        frameSize.height = MAX(frameSize.height, minSize.height);</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;        <span class="keywordflow">if</span> (maxSize.width &gt; 0.0)</div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;            frameSize.width = MIN(frameSize.width, maxSize.width);</div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;        <span class="keywordflow">if</span> (maxSize.height &gt; 0.0)</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;            frameSize.height = MIN(frameSize.height, maxSize.height);</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;    }</div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;        frameSize.width = textSize.width + contentInset.left + contentInset.right;</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;    frameSize.width = MAX(frameSize.width, minSize.width);</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;    <span class="keywordflow">return</span> frameSize;</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;}</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;</div><div class="line"><a name="l01468"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#ab67c5ae4b907b48b49c4bf217986a136"> 1468</a></span>&#160;- (void)selectText:(<span class="keywordtype">id</span>)sender</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;{</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;    [<span class="keyword">self</span> _selectText:sender immediately:NO];</div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;}</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;</div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;- (void)_selectText:(<span class="keywordtype">id</span>)sender immediately:(BOOL)immediately</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;{</div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;    <span class="comment">// Selecting the text in a field makes it the first responder</span></div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;    <span class="keywordflow">if</span> ([<span class="keyword">self</span> isEditable] || [<span class="keyword">self</span> isSelectable])</div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;    {</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;        var wind = [<span class="keyword">self</span> window];</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;<span class="preprocessor">#if PLATFORM(DOM)</span></div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;        <span class="keywordflow">if</span> ([<span class="keyword">self</span> isEditable])</div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;        {</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;            var element = [<span class="keyword">self</span> _inputElement];</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;</div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;            <span class="keywordflow">if</span> ([wind firstResponder] === <span class="keyword">self</span>)</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;            {</div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;                <span class="keywordflow">if</span> (immediately)</div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;                    element.select();</div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;                    [[<a class="code" href="interface_c_p_run_loop.html">CPRunLoop</a> <a class="code" href="interface_c_p_run_loop.html#a72897726b6fe227f34337d696b20ec99">mainRunLoop</a>] <a class="code" href="interface_c_p_run_loop.html#a3362183f1d34e99c2432b190b4a49efb">performBlock</a>:function(){ element.select(); } <a class="code" href="interface_c_p_run_loop.html#a3362183f1d34e99c2432b190b4a49efb">argument</a>:nil <a class="code" href="interface_c_p_run_loop.html#a3362183f1d34e99c2432b190b4a49efb">order</a>:0 <a class="code" href="interface_c_p_run_loop.html#a3362183f1d34e99c2432b190b4a49efb">modes</a>:[CPDefaultRunLoopMode]];</div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;            }</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (wind !== nil &amp;&amp; [wind makeFirstResponder:<span class="keyword">self</span>])</div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;                [<span class="keyword">self</span> _selectText:sender immediately:immediately];</div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;        }</div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;        {</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;            [<span class="keyword">self</span> setSelectedRange:CPMakeRange(0, _stringValue.length)];</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;        }</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;        <span class="comment">// Even if we can&#39;t actually select the text we need to preserve the first</span></div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;        <span class="comment">// responder side effect.</span></div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;        <span class="keywordflow">if</span> (wind !== nil &amp;&amp; [wind firstResponder] !== <span class="keyword">self</span>)</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;            [wind makeFirstResponder:self];</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;    }</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;}</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;</div><div class="line"><a name="l01509"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#a853b68bc662ae703ed8b4a78c9c810bb"> 1509</a></span>&#160;- (void)copy:(<span class="keywordtype">id</span>)sender</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;{</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;    <span class="comment">// First write to the Cappuccino clipboard.</span></div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;    var stringToCopy = nil;</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;    <span class="keywordflow">if</span> ([<span class="keyword">self</span> isEditable])</div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;    {</div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;        var selectedRange = [<span class="keyword">self</span> <a class="code" href="interface_c_p_text_field.html#a5153afb138eec90b25f8060e835f808b">selectedRange</a>];</div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;</div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;        <span class="keywordflow">if</span> (selectedRange.length &lt; 1)</div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;</div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;        stringToCopy = [_stringValue substringWithRange:selectedRange];</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;    }</div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;    {</div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;        <span class="comment">// selectedRange won&#39;t work if we&#39;re displaying our text using a &lt;div&gt;. Instead we have to ask the browser</span></div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;        <span class="comment">// what&#39;s selected and hope it&#39;s right in a Cappuccino context as well.</span></div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;<span class="preprocessor">#if PLATFORM(DOM)</span></div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;        stringToCopy = [[[<span class="keyword">self</span> <a class="code" href="class_c_p_view.html#ae83c8efd2cc2cfe0dd767c1a6bb6d0a7">window</a>] <a class="code" href="interface_c_p_window.html#a0aefd4e1b2119ed015fcf990b3f167b5">platformWindow</a>] _selectedText];</div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;    }</div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;</div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;    var pasteboard = [<a class="code" href="interface_c_p_pasteboard.html">CPPasteboard</a> <a class="code" href="interface_c_p_pasteboard.html#a085d41e5f0d2c94888b0fab4647e07b8">generalPasteboard</a>];</div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;</div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;    [pasteboard declareTypes:[CPStringPboardType] owner:nil];</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;    [pasteboard setString:stringToCopy forType:CPStringPboardType];</div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;    <span class="keywordflow">if</span> ([<a class="code" href="interface_c_p_platform.html">CPPlatform</a> isBrowser])</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;    {</div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;        <span class="comment">// Then also allow the browser to capture the copied text into the system clipboard.</span></div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;        [[[<span class="keyword">self</span> <a class="code" href="class_c_p_view.html#ae83c8efd2cc2cfe0dd767c1a6bb6d0a7">window</a>] <a class="code" href="interface_c_p_window.html#a0aefd4e1b2119ed015fcf990b3f167b5">platformWindow</a>] _propagateCurrentDOMEvent:YES];</div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;    }</div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;}</div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;</div><div class="line"><a name="l01544"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#a885bfbc52cd77cc778ef8b02cd1d86fb"> 1544</a></span>&#160;- (void)cut:(<span class="keywordtype">id</span>)sender</div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;{</div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;    <span class="keywordflow">if</span> (![<span class="keyword">self</span> isEnabled])</div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;</div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_text_field.html#a853b68bc662ae703ed8b4a78c9c810bb">copy</a>:sender];</div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;</div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;    <span class="keywordflow">if</span> (![<span class="keyword">self</span> isEditable])</div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;</div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;    <span class="keywordflow">if</span> (![[<a class="code" href="_c_p_application___constants_8j.html#a428912231c07effc32c420ee523bf0b7">CPApp</a> currentEvent] _platformIsEffectingCutOrPaste])</div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;    {</div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;        [<span class="keyword">self</span> <a class="code" href="interface_c_p_text_field.html#a7e8c0f69115ed982429d3ddce7fb3d59">deleteBackward</a>:sender];</div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;    }</div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;    {</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;        <span class="comment">// Allow the browser&#39;s standard cut handling. This should also result in the deleteBackward: happening.</span></div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;        [[[<span class="keyword">self</span> <a class="code" href="class_c_p_view.html#ae83c8efd2cc2cfe0dd767c1a6bb6d0a7">window</a>] <a class="code" href="interface_c_p_window.html#a0aefd4e1b2119ed015fcf990b3f167b5">platformWindow</a>] _propagateCurrentDOMEvent:YES];</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;</div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;        <span class="comment">// If we don&#39;t have an oninput listener, we won&#39;t detect the change made by the cut and need to fake a key up &quot;soon&quot;.</span></div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="_c_p_compatibility_8j.html#a1fbfe7ca6b2cef354ecfe78f6cfd6659">CPFeatureIsCompatible</a>(<a class="code" href="_c_p_compatibility_8j.html#af00ffb5fce68299af8be1789d97867c8">CPInputOnInputEventFeature</a>))</div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;            [<a class="code" href="interface_c_p_timer.html">CPTimer</a> <a class="code" href="interface_c_p_timer.html#a6a4438b47dd6a2a2643b3c91cd0996d4">scheduledTimerWithTimeInterval</a>:0.0 <a class="code" href="interface_c_p_timer.html#a6a4438b47dd6a2a2643b3c91cd0996d4">target</a>:self <a class="code" href="interface_c_p_timer.html#a6a4438b47dd6a2a2643b3c91cd0996d4">selector</a>:@selector(<a class="code" href="interface_c_p_timer.html#a6a4438b47dd6a2a2643b3c91cd0996d4">keyUp</a>:) <a class="code" href="interface_c_p_timer.html#a6a4438b47dd6a2a2643b3c91cd0996d4">userInfo</a>:nil <a class="code" href="interface_c_p_timer.html#a6a4438b47dd6a2a2643b3c91cd0996d4">repeats</a>:NO];</div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;    }</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;}</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;</div><div class="line"><a name="l01569"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#a858a7567973f8b59dc093af2801fa5a6"> 1569</a></span>&#160;- (void)paste:(<span class="keywordtype">id</span>)sender</div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;{</div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;    <span class="keywordflow">if</span> (!([<span class="keyword">self</span> isEnabled] &amp;&amp; [<span class="keyword">self</span> isEditable]))</div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;</div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;    <span class="keywordflow">if</span> (![[<a class="code" href="_c_p_application___constants_8j.html#a428912231c07effc32c420ee523bf0b7">CPApp</a> currentEvent] _platformIsEffectingCutOrPaste])</div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;    {</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;        var pasteboard = [<a class="code" href="interface_c_p_pasteboard.html">CPPasteboard</a> <a class="code" href="interface_c_p_pasteboard.html#a085d41e5f0d2c94888b0fab4647e07b8">generalPasteboard</a>];</div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;</div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;        <span class="keywordflow">if</span> (![[pasteboard types] containsObject:<a class="code" href="_c_p_pasteboard_8j.html#acd5614f9dbe81f6c200152e81093f22e">CPStringPboardType</a>])</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;        [<span class="keyword">self</span> <a class="code" href="interface_c_p_text_field.html#a7e8c0f69115ed982429d3ddce7fb3d59">deleteBackward</a>:sender];</div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;</div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;        var selectedRange = [<span class="keyword">self</span> <a class="code" href="interface_c_p_text_field.html#a5153afb138eec90b25f8060e835f808b">selectedRange</a>],</div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;            pasteString = [pasteboard stringForType:CPStringPboardType],</div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;            newValue = [_stringValue stringByReplacingCharactersInRange:selectedRange withString:pasteString];</div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;</div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;        [<span class="keyword">self</span> <a class="code" href="interface_c_p_control.html#a4d4f2f22a6ff3a44a976929e388757fa">setStringValue</a>:newValue];</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;        [<span class="keyword">self</span> _didEdit];</div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;        [<span class="keyword">self</span> <a class="code" href="interface_c_p_text_field.html#a377c01f28034e6f080a1782e43e159c6">setSelectedRange</a>:CPMakeRange(selectedRange.location + pasteString.length, 0)];</div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;    }</div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;    <span class="comment">// If we don&#39;t have an oninput listener, we won&#39;t detect the change made by the cut and need to fake a key up &quot;soon&quot;.</span></div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;    {</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;        <span class="comment">// Allow the browser&#39;s standard paste handling.</span></div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;        [[[<span class="keyword">self</span> <a class="code" href="class_c_p_view.html#ae83c8efd2cc2cfe0dd767c1a6bb6d0a7">window</a>] <a class="code" href="interface_c_p_window.html#a0aefd4e1b2119ed015fcf990b3f167b5">platformWindow</a>] _propagateCurrentDOMEvent:YES];</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="_c_p_compatibility_8j.html#a1fbfe7ca6b2cef354ecfe78f6cfd6659">CPFeatureIsCompatible</a>(<a class="code" href="_c_p_compatibility_8j.html#af00ffb5fce68299af8be1789d97867c8">CPInputOnInputEventFeature</a>))</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;            [<a class="code" href="interface_c_p_timer.html">CPTimer</a> <a class="code" href="interface_c_p_timer.html#a6a4438b47dd6a2a2643b3c91cd0996d4">scheduledTimerWithTimeInterval</a>:0.0 <a class="code" href="interface_c_p_timer.html#a6a4438b47dd6a2a2643b3c91cd0996d4">target</a>:self <a class="code" href="interface_c_p_timer.html#a6a4438b47dd6a2a2643b3c91cd0996d4">selector</a>:@selector(<a class="code" href="interface_c_p_timer.html#a6a4438b47dd6a2a2643b3c91cd0996d4">keyUp</a>:) <a class="code" href="interface_c_p_timer.html#a6a4438b47dd6a2a2643b3c91cd0996d4">userInfo</a>:nil <a class="code" href="interface_c_p_timer.html#a6a4438b47dd6a2a2643b3c91cd0996d4">repeats</a>:NO];</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;    }</div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;}</div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;</div><div class="line"><a name="l01602"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#a5153afb138eec90b25f8060e835f808b"> 1602</a></span>&#160;- (CPRange)selectedRange</div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;{</div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;    <span class="comment">// TODO Need a way to figure out the selected range if we&#39;re not using an input. Need</span></div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;    <span class="comment">// to get whole document selection and somehow see which part is inside of this text field.</span></div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;    <span class="keywordflow">if</span> ([[<span class="keyword">self</span> window] firstResponder] !== <span class="keyword">self</span>)</div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__foundation.html#gab09805608dfb3449e840c3ce22d7e7fe">CPMakeRange</a>(0, 0);</div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;</div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;<span class="preprocessor">#if PLATFORM(DOM)</span></div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;</div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;    <span class="comment">// we wrap this in try catch because firefox will throw an exception in certain instances</span></div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;    <span class="keywordflow">try</span></div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;    {</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;        var inputElement = [<span class="keyword">self</span> _inputElement],</div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;            selectionStart = inputElement.selectionStart,</div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;            selectionEnd = inputElement.selectionEnd;</div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;</div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;        <span class="keywordflow">if</span> ([selectionStart isKindOfClass:<a class="code" href="interface_c_p_number.html">CPNumber</a>])</div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__foundation.html#gab09805608dfb3449e840c3ce22d7e7fe">CPMakeRange</a>(selectionStart, selectionEnd - selectionStart);</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;</div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;        <span class="comment">// browsers which don&#39;t support selectionStart/selectionEnd (aka IE).</span></div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;        var theDocument = inputElement.ownerDocument || inputElement.document,</div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;            selectionRange = theDocument.selection.createRange(),</div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;            range = inputElement.createTextRange();</div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;</div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;        <span class="keywordflow">if</span> (range.inRange(selectionRange))</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;        {</div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;            range.setEndPoint(<span class="stringliteral">&#39;EndToStart&#39;</span>, selectionRange);</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__foundation.html#gab09805608dfb3449e840c3ce22d7e7fe">CPMakeRange</a>(range.text.length, selectionRange.text.length);</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;        }</div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;    }</div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;    <span class="keywordflow">catch</span> (e)</div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;    {</div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;        <span class="comment">// fall through to the return</span></div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;    }</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;</div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__foundation.html#gab09805608dfb3449e840c3ce22d7e7fe">CPMakeRange</a>(0, 0);</div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;}</div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;</div><div class="line"><a name="l01642"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#a377c01f28034e6f080a1782e43e159c6"> 1642</a></span>&#160;- (void)setSelectedRange:(CPRange)aRange</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;{</div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;    <span class="keywordflow">if</span> (![[<span class="keyword">self</span> window] firstResponder] === <span class="keyword">self</span>)</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;<span class="preprocessor">#if PLATFORM(DOM)</span></div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;</div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;    <span class="keywordflow">if</span> (![<span class="keyword">self</span> isEditable])</div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;    {</div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;        <span class="comment">// No input element - selectable text field only.</span></div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;        var contentView = [<span class="keyword">self</span> <a class="code" href="class_c_p_view.html#ac6d4166f3a66421d846de62c00debdb1">layoutEphemeralSubviewNamed</a>:@&quot;content-view&quot;</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;                                         <a class="code" href="class_c_p_view.html#ac6d4166f3a66421d846de62c00debdb1">positioned</a>:CPWindowAbove</div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;                    <a class="code" href="class_c_p_view.html#ac6d4166f3a66421d846de62c00debdb1">relativeToEphemeralSubviewNamed</a>:@&quot;bezel-view&quot;];</div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;</div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;        <span class="keywordflow">if</span> (contentView)</div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;            [contentView setSelectedRange:aRange];</div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;    }</div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;    {</div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;        <span class="comment">// Input element</span></div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;        var inputElement = [<span class="keyword">self</span> _inputElement];</div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;</div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;        <span class="keywordflow">try</span></div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;        {</div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;            <span class="keywordflow">if</span> ([inputElement.selectionStart isKindOfClass:<a class="code" href="interface_c_p_number.html">CPNumber</a>])</div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;            {</div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;                inputElement.selectionStart = aRange.location;</div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;                inputElement.selectionEnd = <a class="code" href="group__foundation.html#ga9a9c6e53b2b0861cedbb77b5ab72e78f">CPMaxRange</a>(aRange);</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;            }</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;            {</div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;                <span class="comment">// browsers which don&#39;t support selectionStart/selectionEnd (aka IE).</span></div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;                var theDocument = inputElement.ownerDocument || inputElement.document,</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;                    existingRange = theDocument.selection.createRange(),</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;                    range = inputElement.createTextRange();</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;</div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;                <span class="keywordflow">if</span> (range.inRange(existingRange))</div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;                {</div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;                    range.collapse(<span class="keyword">true</span>);</div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;                    range.move(<span class="stringliteral">&#39;character&#39;</span>, aRange.location);</div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;                    range.moveEnd(<span class="stringliteral">&#39;character&#39;</span>, aRange.length);</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;                    range.select();</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;                }</div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;            }</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;        }</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;        <span class="keywordflow">catch</span> (e)</div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;        {</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;        }</div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;    }</div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;}</div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;</div><div class="line"><a name="l01694"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#abb8df615ff419f4c919066254975a6d3"> 1694</a></span>&#160;- (void)selectAll:(<span class="keywordtype">id</span>)sender</div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;{</div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_text_field.html#ab67c5ae4b907b48b49c4bf217986a136">selectText</a>:sender];</div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;}</div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;</div><div class="line"><a name="l01699"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#a7e8c0f69115ed982429d3ddce7fb3d59"> 1699</a></span>&#160;- (void)deleteBackward:(<span class="keywordtype">id</span>)sender</div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;{</div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;    <span class="keywordflow">if</span> (!([<span class="keyword">self</span> isEnabled] &amp;&amp; [<span class="keyword">self</span> isEditable]))</div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;</div><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;    var selectedRange = [<span class="keyword">self</span> <a class="code" href="interface_c_p_text_field.html#a5153afb138eec90b25f8060e835f808b">selectedRange</a>];</div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;</div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;    <span class="keywordflow">if</span> (selectedRange.length === 0)</div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;    {</div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;        <span class="keywordflow">if</span> (selectedRange.location &lt; 1)</div><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;</div><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;        <span class="comment">// Delete a single element backward from the insertion point if there&#39;s no selection.</span></div><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;        selectedRange.location -= 1;</div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;        selectedRange.length += 1;</div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;    }</div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;</div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;    [<span class="keyword">self</span> _replaceCharactersInRange:selectedRange withCharacters:@&quot;&quot;];</div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;}</div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;</div><div class="line"><a name="l01719"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#a8fde1dd7e5081bc5072a769e992af64a"> 1719</a></span>&#160;- (void)delete:(<span class="keywordtype">id</span>)sender</div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;{</div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;    <span class="keywordflow">if</span> (!([<span class="keyword">self</span> isEnabled] &amp;&amp; [<span class="keyword">self</span> isEditable]))</div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;</div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;    <span class="comment">// delete: only works when there&#39;s a selection (as opposed to deleteForward: and deleteBackward:).</span></div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;    var selectedRange = [<span class="keyword">self</span> <a class="code" href="interface_c_p_text_field.html#a5153afb138eec90b25f8060e835f808b">selectedRange</a>];</div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;</div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;    <span class="keywordflow">if</span> (selectedRange.length &lt; 1)</div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;</div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;    [<span class="keyword">self</span> _replaceCharactersInRange:selectedRange withCharacters:@&quot;&quot;];</div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;}</div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;</div><div class="line"><a name="l01733"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#a8ffe1ac0bf584be1a479e7c1cad966e4"> 1733</a></span>&#160;- (void)deleteForward:(<span class="keywordtype">id</span>)sender</div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;{</div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;    <span class="keywordflow">if</span> (!([<span class="keyword">self</span> isEnabled] &amp;&amp; [<span class="keyword">self</span> isEditable]))</div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;</div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;    var selectedRange = [<span class="keyword">self</span> <a class="code" href="interface_c_p_text_field.html#a5153afb138eec90b25f8060e835f808b">selectedRange</a>];</div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;</div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;    <span class="keywordflow">if</span> (selectedRange.length === 0)</div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;    {</div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;        <span class="keywordflow">if</span> (selectedRange.location &gt;= _stringValue.<a class="code" href="interface_c_p_string.html#a995ca4d2f7167db0da2fad02a444ec73">length</a>)</div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;</div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;        <span class="comment">// Delete a single element forward from the insertion point if there&#39;s no selection.</span></div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;        selectedRange.length += 1;</div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;    }</div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;</div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;    [<span class="keyword">self</span> _replaceCharactersInRange:selectedRange withCharacters:@&quot;&quot;];</div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;}</div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;</div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;- (void)_replaceCharactersInRange:(CPRange)range withCharacters:(<a class="code" href="interface_c_p_string.html">CPString</a>)characters</div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;{</div><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;    var newValue = [_stringValue stringByReplacingCharactersInRange:range withString:characters];</div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;</div><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;    <span class="keywordflow">if</span> (_invokedByUserEvent)</div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;    {</div><div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;        [<span class="keyword">self</span> _setStringValue:newValue];</div><div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;    }</div><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;    {</div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;        [<span class="keyword">self</span> _setObjectValue:newValue useFormatter:NO];</div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;        [<span class="keyword">self</span> setSelectedRange:CPMakeRange(range.location, 0)];</div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;</div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;<span class="preprocessor">#if PLATFORM(DOM)</span></div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;        <span class="comment">// Since we just performed the deletion manually, we don&#39;t need the browser to do anything else.</span></div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;        [[[<span class="keyword">self</span> window] platformWindow] _propagateCurrentDOMEvent:NO];</div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;    }</div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;</div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;    [<span class="keyword">self</span> _didEdit];</div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;}</div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;</div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;<span class="preprocessor">#pragma mark Setting the Delegate</span></div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;</div><div class="line"><a name="l01776"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#affaf9c514cb43f51f28b9c1375fa9448"> 1776</a></span>&#160;- (void)setDelegate:(<span class="keywordtype">id</span> &lt;CPTextFieldDelegate&gt;)aDelegate</div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;{</div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;    <span class="keywordflow">if</span> (_delegate === aDelegate)</div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;</div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;    _delegate = aDelegate;</div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;    _implementedDelegateMethods = 0;</div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;</div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;    <span class="keywordflow">if</span> ([_delegate respondsToSelector:<span class="keyword">@selector</span>(control:didFailToFormatString:errorDescription:)])</div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;        _implementedDelegateMethods |= <a class="code" href="_c_p_text_field_8j.html#aa248b7c973fa88bb5a5ff9e9a9cb5d09">CPTextFieldDelegate_control_didFailToFormatString_errorDescription_</a>;</div><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;</div><div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;    <span class="keywordflow">if</span> ([_delegate respondsToSelector:<span class="keyword">@selector</span>(controlTextDidBeginEditing:)])</div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;        _implementedDelegateMethods |= <a class="code" href="_c_p_text_field_8j.html#a3eefb45d611807698c520e80c20a1725">CPTextFieldDelegate_controlTextDidBeginEditing_</a>;</div><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;</div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;    <span class="keywordflow">if</span> ([_delegate respondsToSelector:<span class="keyword">@selector</span>(controlTextDidChange:)])</div><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;        _implementedDelegateMethods |= <a class="code" href="_c_p_text_field_8j.html#a1356b4016b8b48424a553fca132d63ea">CPTextFieldDelegate_controlTextDidChange_</a>;</div><div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;</div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;    <span class="keywordflow">if</span> ([_delegate respondsToSelector:<span class="keyword">@selector</span>(controlTextDidEndEditing:)])</div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;        _implementedDelegateMethods |= <a class="code" href="_c_p_text_field_8j.html#ade056688e0d47749605c1d110eae58fb">CPTextFieldDelegate_controlTextDidEndEditing_</a>;</div><div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;</div><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;    <span class="keywordflow">if</span> ([_delegate respondsToSelector:<span class="keyword">@selector</span>(controlTextDidFocus:)])</div><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;        _implementedDelegateMethods |= <a class="code" href="_c_p_text_field_8j.html#a3353c16b8f9ac50c07fe417be8d616f6">CPTextFieldDelegate_controlTextDidFocus_</a>;</div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;</div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;    <span class="keywordflow">if</span> ([_delegate respondsToSelector:<span class="keyword">@selector</span>(controlTextDidBlur:)])</div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;        _implementedDelegateMethods |= <a class="code" href="_c_p_text_field_8j.html#a13a056ef1c399482c7cf8a27a985c10d">CPTextFieldDelegate_controlTextDidBlur_</a>;</div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;}</div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;</div><div class="line"><a name="l01803"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#a59d1934f3bd92cca645846e34cf3dc2b"> 1803</a></span>&#160;- (id)<a class="code" href="_c_a_layer_8j.html#a6c98e239b6ba279cfc95c64db9de555c">delegate</a></div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;{</div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;    <span class="keywordflow">return</span> _delegate;</div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;}</div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;</div><div class="line"><a name="l01808"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#abbb54f512bbb38c203287cbe44df36f0"> 1808</a></span>&#160;- (CGRect)contentRectForBounds:(CGRect)bounds</div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;{</div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;    var contentInset = [<span class="keyword">self</span> currentValueForThemeAttribute:@&quot;content-inset&quot;];</div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;</div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;    <span class="keywordflow">return</span> CGRectInsetByInset(<a class="code" href="_c_a_layer_8j.html#a76e98e4f35c628cffcb1a388ec583bec">bounds</a>, contentInset);</div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;}</div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;</div><div class="line"><a name="l01815"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#a05ad936fc6f71457265a3605fcc5a5fa"> 1815</a></span>&#160;- (CGRect)bezelRectForBounds:(CGRect)bounds</div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;{</div><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;    var bezelInset = [<span class="keyword">self</span> currentValueForThemeAttribute:@&quot;bezel-inset&quot;];</div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;</div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;    <span class="keywordflow">return</span> CGRectInsetByInset(<a class="code" href="_c_a_layer_8j.html#a76e98e4f35c628cffcb1a388ec583bec">bounds</a>, bezelInset);</div><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;}</div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;</div><div class="line"><a name="l01822"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#a3268caa3292b8497b0d693b4f9ecf2f9"> 1822</a></span>&#160;- (CGRect)rectForEphemeralSubviewNamed:(<a class="code" href="interface_c_p_string.html">CPString</a>)aName</div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;{</div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;    <span class="keywordflow">if</span> (aName === <span class="stringliteral">&quot;bezel-view&quot;</span>)</div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;        <span class="keywordflow">return</span> [<span class="keyword">self</span> <a class="code" href="interface_c_p_text_field.html#a05ad936fc6f71457265a3605fcc5a5fa">bezelRectForBounds</a>:[<span class="keyword">self</span> <a class="code" href="class_c_p_view.html#af0bd55e12e5ac7ea4b137eae5f1829af">bounds</a>]];</div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;</div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (aName === <span class="stringliteral">&quot;content-view&quot;</span>)</div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;        <span class="keywordflow">return</span> [<span class="keyword">self</span> <a class="code" href="interface_c_p_text_field.html#abbb54f512bbb38c203287cbe44df36f0">contentRectForBounds</a>:[<span class="keyword">self</span> <a class="code" href="class_c_p_view.html#af0bd55e12e5ac7ea4b137eae5f1829af">bounds</a>]];</div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;</div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;    <span class="keywordflow">return</span> [<span class="keyword">super</span> <a class="code" href="class_c_p_view.html#ade645badc201b577294c35fbf260341d">rectForEphemeralSubviewNamed</a>:aName];</div><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;}</div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;</div><div class="line"><a name="l01833"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#a6a007fbaa54065a5934c77ff681861e4"> 1833</a></span>&#160;- (<a class="code" href="class_c_p_view.html">CPView</a>)createEphemeralSubviewNamed:(<a class="code" href="interface_c_p_string.html">CPString</a>)aName</div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;{</div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;    <span class="keywordflow">if</span> (aName === <span class="stringliteral">&quot;bezel-view&quot;</span>)</div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;    {</div><div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;        var view = [[<a class="code" href="class_c_p_view.html">CPView</a> alloc] initWithFrame:CGRectMakeZero()];</div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;</div><div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;        [view setHitTests:NO];</div><div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;</div><div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;        <span class="keywordflow">return</span> view;</div><div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;    }</div><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;    {</div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;        var view = [[_CPImageAndTextView alloc] initWithFrame:CGRectMakeZero()];</div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;</div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;        [view setHitTests:NO];</div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;</div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;        <span class="keywordflow">return</span> view;</div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;    }</div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;</div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;    <span class="keywordflow">return</span> [<span class="keyword">super</span> <a class="code" href="class_c_p_view.html#a341a7f0e27443caef4f11ac50d0ebfd4">createEphemeralSubviewNamed</a>:aName];</div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;}</div><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;</div><div class="line"><a name="l01855"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#a28243b74054ecd1f7a66b2b34a887785"> 1855</a></span>&#160;- (void)layoutSubviews</div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;{</div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;    var bezelView = [<span class="keyword">self</span> <a class="code" href="class_c_p_view.html#ac6d4166f3a66421d846de62c00debdb1">layoutEphemeralSubviewNamed</a>:@&quot;bezel-view&quot;</div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;                                           <a class="code" href="class_c_p_view.html#ac6d4166f3a66421d846de62c00debdb1">positioned</a>:CPWindowBelow</div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;                      <a class="code" href="class_c_p_view.html#ac6d4166f3a66421d846de62c00debdb1">relativeToEphemeralSubviewNamed</a>:@&quot;content-view&quot;];</div><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;</div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;    <span class="keywordflow">if</span> (bezelView)</div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;        [bezelView setBackgroundColor:[<span class="keyword">self</span> currentValueForThemeAttribute:@&quot;bezel-color&quot;]];</div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;</div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;    var contentView = [<span class="keyword">self</span> <a class="code" href="class_c_p_view.html#ac6d4166f3a66421d846de62c00debdb1">layoutEphemeralSubviewNamed</a>:@&quot;content-view&quot;</div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;                                             <a class="code" href="class_c_p_view.html#ac6d4166f3a66421d846de62c00debdb1">positioned</a>:CPWindowAbove</div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;                        <a class="code" href="class_c_p_view.html#ac6d4166f3a66421d846de62c00debdb1">relativeToEphemeralSubviewNamed</a>:@&quot;bezel-view&quot;];</div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;</div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;    <span class="keywordflow">if</span> (contentView)</div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;    {</div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;        [contentView setHidden:(_stringValue &amp;&amp; _stringValue.length &gt; 0) &amp;&amp; [<span class="keyword">self</span> hasThemeState:CPThemeStateEditing]];</div><div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;</div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;        var <span class="keywordtype">string</span> = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;</div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;        <span class="keywordflow">if</span> ([<span class="keyword">self</span> hasThemeState:<a class="code" href="_c_p_text_field_8j.html#ace23af555767a4e15bdeb9ae1f86b5f4">CPTextFieldStatePlaceholder</a>])</div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;            <span class="keywordtype">string</span> = [<span class="keyword">self</span> <a class="code" href="interface_c_p_text_field.html#a70333a3ed2aea8b7ad8baf08269a751c">placeholderString</a>];</div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;        {</div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;            <span class="keywordtype">string</span> = _stringValue;</div><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;</div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;            <span class="keywordflow">if</span> ([<span class="keyword">self</span> isSecure])</div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;                <span class="keywordtype">string</span> = <a class="code" href="_c_p_text_field_8j.html#a38dea2bda643ff60a88fce596e9cb064">secureStringForString</a>(<span class="keywordtype">string</span>);</div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;        }</div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;</div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;        [contentView setText:string];</div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;</div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;        [contentView setTextColor:[<span class="keyword">self</span> currentValueForThemeAttribute:@&quot;text-color&quot;]];</div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;        [contentView setFont:[<span class="keyword">self</span> currentValueForThemeAttribute:@&quot;font&quot;]];</div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;        [contentView setAlignment:[<span class="keyword">self</span> currentValueForThemeAttribute:@&quot;alignment&quot;]];</div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;        [contentView setVerticalAlignment:[<span class="keyword">self</span> currentValueForThemeAttribute:@&quot;vertical-alignment&quot;]];</div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;        [contentView setLineBreakMode:[<span class="keyword">self</span> currentValueForThemeAttribute:@&quot;line-break-mode&quot;]];</div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;        [contentView setTextShadowColor:[<span class="keyword">self</span> currentValueForThemeAttribute:@&quot;text-shadow-color&quot;]];</div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;        [contentView setTextShadowOffset:[<span class="keyword">self</span> currentValueForThemeAttribute:@&quot;text-shadow-offset&quot;]];</div><div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;    }</div><div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;</div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;    <span class="keywordflow">if</span> (_isEditing)</div><div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;        [<span class="keyword">self</span> _setCSSStyleForInputElement];</div><div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;}</div><div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;</div><div class="line"><a name="l01899"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#a86b3f3ad0b83d4d96db8146ef52dff21"> 1899</a></span>&#160;- (void)takeValueFromKeyPath:(<a class="code" href="interface_c_p_string.html">CPString</a>)aKeyPath ofObjects:(CPArray)objects</div><div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;{</div><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;    var count = objects.<a class="code" href="interface_c_p_string.html#a995ca4d2f7167db0da2fad02a444ec73">length</a>,</div><div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;        value = [objects[0] valueForKeyPath:aKeyPath];</div><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;</div><div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_control.html#a4d4f2f22a6ff3a44a976929e388757fa">setStringValue</a>:value];</div><div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_text_field.html#a3da0a821aa41434e59383fc020f4208b">setPlaceholderString</a>:@&quot;&quot;];</div><div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;</div><div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;    <span class="keywordflow">while</span> (count-- &gt; 1)</div><div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;        <span class="keywordflow">if</span> (value !== [objects[count] valueForKeyPath:aKeyPath])</div><div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;        {</div><div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;            [<span class="keyword">self</span> <a class="code" href="interface_c_p_text_field.html#a3da0a821aa41434e59383fc020f4208b">setPlaceholderString</a>:@&quot;Multiple Values&quot;];</div><div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;            [<span class="keyword">self</span> <a class="code" href="interface_c_p_control.html#a4d4f2f22a6ff3a44a976929e388757fa">setStringValue</a>:@&quot;&quot;];</div><div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;        }</div><div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;}</div><div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;</div><div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;<span class="preprocessor">#pragma mark Overrides</span></div><div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;</div><div class="line"><a name="l01922"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#a577b829bcb572e9337299d6559b07e1b"> 1922</a></span>&#160;- (void)setTextColor:(<a class="code" href="class_c_p_color.html">CPColor</a>)aColor</div><div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;{</div><div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;    <span class="comment">// We don&#39;t want to change the text-color of the placeHolder of the textField</span></div><div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;    var placeholderColor = [<span class="keyword">self</span> valueForThemeAttribute:@&quot;text-color&quot; inState:CPTextFieldStatePlaceholder];</div><div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;</div><div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;    [<span class="keyword">super</span> <a class="code" href="interface_c_p_control.html#a854b4f0dc6eb03d7a7d95efd0ae0be0b">setTextColor</a>:aColor];</div><div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;    [<span class="keyword">self</span> <a class="code" href="class_c_p_view.html#ae77ae0d40577cd26978e25497e0eb7b6">setValue</a>:placeholderColor <a class="code" href="class_c_p_view.html#ae77ae0d40577cd26978e25497e0eb7b6">forThemeAttribute</a>:@&quot;text-color&quot; <a class="code" href="class_c_p_view.html#ae77ae0d40577cd26978e25497e0eb7b6">inState</a>:CPTextFieldStatePlaceholder];</div><div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;}</div><div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;</div><div class="line"><a name="l01931"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#aed103ae91ba1e7e5369a698aed75abd4"> 1931</a></span>&#160;- (void)viewDidHide</div><div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;{</div><div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;    [<span class="keyword">super</span> <a class="code" href="class_c_p_view.html#aa01e0ec45a132ffc035d9d5223d58c1b">viewDidHide</a>];</div><div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;</div><div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;    <span class="keywordflow">if</span> ([[<span class="keyword">self</span> window] firstResponder] === <span class="keyword">self</span>)</div><div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;        [<span class="keyword">self</span> _resignFirstKeyResponder];</div><div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;}</div><div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;</div><div class="line"><a name="l01939"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#aa0ecef93ae86129d30f76c697e5ee51a"> 1939</a></span>&#160;- (void)viewDidUnhide</div><div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;{</div><div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;    [<span class="keyword">super</span> <a class="code" href="class_c_p_view.html#a86ec48e1eda747e4d99d0b5487011500">viewDidUnhide</a>];</div><div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;</div><div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;    <span class="keywordflow">if</span> ([<span class="keyword">self</span> isEditable] &amp;&amp; [[<span class="keyword">self</span> window] firstResponder] === <span class="keyword">self</span>)</div><div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;        [<span class="keyword">self</span> _becomeFirstKeyResponder];</div><div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;}</div><div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;</div><div class="line"><a name="l01947"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#a19d6c7fce2950cb633af67b26cedaab0"> 1947</a></span>&#160;- (BOOL)validateUserInterfaceItem:(<span class="keywordtype">id</span> <span class="comment">/*&lt;CPValidatedUserInterfaceItem&gt;*/</span>)anItem</div><div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;{</div><div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;    var theAction = [anItem action];</div><div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;</div><div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;    <span class="keywordflow">if</span> (![<span class="keyword">self</span> isEditable] &amp;&amp; (theAction == <span class="keyword">@selector</span>(cut:) || theAction == <span class="keyword">@selector</span>(paste:) || theAction == <span class="keyword">@selector</span>(<span class="keyword">delete</span>:)))</div><div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;        <span class="keywordflow">return</span> NO;</div><div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;</div><div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;    <span class="comment">// FIXME - [self selectedRange] is always empty if we&#39;re not an editable field, so we must assume yes here.</span></div><div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;    <span class="keywordflow">if</span> (![<span class="keyword">self</span> isEditable])</div><div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;        <span class="keywordflow">return</span> YES;</div><div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;</div><div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;    <span class="keywordflow">if</span> (theAction == <span class="keyword">@selector</span>(copy:) || theAction == <span class="keyword">@selector</span>(cut:) || theAction == <span class="keyword">@selector</span>(<span class="keyword">delete</span>:))</div><div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;        <span class="keywordflow">return</span> [<span class="keyword">self</span> <a class="code" href="interface_c_p_text_field.html#a5153afb138eec90b25f8060e835f808b">selectedRange</a>].length;</div><div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;</div><div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;    <span class="keywordflow">return</span> YES;</div><div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;}</div><div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;</div><div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;<span class="preprocessor">#pragma mark Private</span></div><div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;</div><div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;- (BOOL)_isWithinUsablePlatformRect</div><div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;{</div><div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;    <span class="comment">// Make sure the text field is completely within the platform window</span></div><div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;    <span class="comment">// so the browser will not scroll it into view.</span></div><div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;</div><div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;    var wind = [<span class="keyword">self</span> window];</div><div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;</div><div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;    <span class="comment">// If the field is not yet within a window, it can&#39;t be first responder</span></div><div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;    <span class="keywordflow">if</span> (!wind)</div><div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;        <span class="keywordflow">return</span> NO;</div><div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;</div><div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;    var scrollView = [<span class="keyword">self</span> enclosingScrollView],</div><div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;        previousContentViewBoundsOrigin;</div><div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;</div><div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;    <span class="comment">// Here we scroll to the textField, otherwise the textField could not be in the usable platformRect</span></div><div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;    var previousScrollingOrigin = [<span class="keyword">self</span> _scrollToVisibleRectAndReturnPreviousOrigin];</div><div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;</div><div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;    var <a class="code" href="_c_p_segmented_control_8j.html#a63fcc9e0dd97e8502cce685e88234e16">frame</a> = [<span class="keyword">self</span> convertRectToBase:[<span class="keyword">self</span> contentRectForBounds:[<span class="keyword">self</span> bounds]]],</div><div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;        usableRect = [[wind platformWindow] usableContentFrame];</div><div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;</div><div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;    <a class="code" href="_c_p_segmented_control_8j.html#a63fcc9e0dd97e8502cce685e88234e16">frame</a>.origin = [wind convertBaseToGlobal:frame.origin];</div><div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;</div><div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;    <span class="comment">// Here we restore the previous scrolling posiition</span></div><div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;    [<span class="keyword">self</span> _restorePreviousScrollingOrigin:previousScrollingOrigin];</div><div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;</div><div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;    <span class="keywordflow">return</span> (CGRectGetMinX(<a class="code" href="_c_p_segmented_control_8j.html#a63fcc9e0dd97e8502cce685e88234e16">frame</a>) &gt;= CGRectGetMinX(usableRect) &amp;&amp;</div><div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;            CGRectGetMaxX(<a class="code" href="_c_p_segmented_control_8j.html#a63fcc9e0dd97e8502cce685e88234e16">frame</a>) &lt;= CGRectGetMaxX(usableRect) &amp;&amp;</div><div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;            CGRectGetMinY(<a class="code" href="_c_p_segmented_control_8j.html#a63fcc9e0dd97e8502cce685e88234e16">frame</a>) &gt;= CGRectGetMinY(usableRect) &amp;&amp;</div><div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;            CGRectGetMaxY(<a class="code" href="_c_p_segmented_control_8j.html#a63fcc9e0dd97e8502cce685e88234e16">frame</a>) &lt;= CGRectGetMaxY(usableRect));</div><div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;}</div><div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;</div><div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;- (CGPoint)_scrollToVisibleRectAndReturnPreviousOrigin</div><div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;{</div><div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;    var scrollView = [<span class="keyword">self</span> enclosingScrollView],</div><div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;        previousContentViewBoundsOrigin;</div><div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;</div><div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;    <span class="comment">// Here we scroll to the textField, otherwise the textField could not be in the usable platformRect</span></div><div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;    <span class="keywordflow">if</span> ([scrollView isKindOfClass:[<a class="code" href="interface_c_p_scroll_view.html">CPScrollView</a> <span class="keyword">class</span>]])</div><div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;    {</div><div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;        previousContentViewBoundsOrigin = CGPointMakeCopy([[scrollView contentView] boundsOrigin]);</div><div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;</div><div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;        <span class="keywordflow">if</span> (![[<span class="keyword">self</span> superview] scrollRectToVisible:[<span class="keyword">self</span> <a class="code" href="_c_p_segmented_control_8j.html#a63fcc9e0dd97e8502cce685e88234e16">frame</a>]])</div><div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;            previousContentViewBoundsOrigin = nil;</div><div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;    }</div><div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;</div><div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;    <span class="keywordflow">return</span> previousContentViewBoundsOrigin;</div><div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;}</div><div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;</div><div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;- (void)_restorePreviousScrollingOrigin:(CGPoint)scrollingOrigin</div><div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;{</div><div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;    <span class="keywordflow">if</span> (scrollingOrigin)</div><div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;        [[[<span class="keyword">self</span> enclosingScrollView] contentView] setBoundsOrigin:scrollingOrigin];</div><div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;}</div><div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;</div><div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;<span class="keyword">@end</span></div><div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;</div><div class="line"><a name="l02028"></a><span class="lineno"><a class="line" href="_c_p_text_field_8j.html#a38dea2bda643ff60a88fce596e9cb064"> 2028</a></span>&#160;var <a class="code" href="_c_p_text_field_8j.html#a38dea2bda643ff60a88fce596e9cb064">secureStringForString</a> = <span class="keyword">function</span>(aString)</div><div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;{</div><div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;    <span class="comment">// This is true for when aString === &quot;&quot; and null/undefined.</span></div><div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;    <span class="keywordflow">if</span> (!aString)</div><div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;</div><div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;    <span class="keywordflow">return</span> Array(aString.length + 1).join(<a class="code" href="_c_p_text_field_8j.html#a980528c034ab9ad8a4fe446d70394a5c">CPSecureTextFieldCharacter</a>);</div><div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;};</div><div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;</div><div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;</div><div class="line"><a name="l02038"></a><span class="lineno"><a class="line" href="_c_p_text_field_8j.html#a2fe35991cd9780b24caaaa766fde85f2"> 2038</a></span>&#160;var <a class="code" href="_c_p_text_field_8j.html#a2fe35991cd9780b24caaaa766fde85f2">CPTextFieldIsEditableKey</a>            = <span class="stringliteral">&quot;CPTextFieldIsEditableKey&quot;</span>,</div><div class="line"><a name="l02039"></a><span class="lineno"><a class="line" href="_c_p_text_field_8j.html#a75dd4cf71fa94edf824baaa5a6bf408c"> 2039</a></span>&#160;    <a class="code" href="_c_p_text_field_8j.html#a75dd4cf71fa94edf824baaa5a6bf408c">CPTextFieldIsSelectableKey</a>          = <span class="stringliteral">&quot;CPTextFieldIsSelectableKey&quot;</span>,</div><div class="line"><a name="l02040"></a><span class="lineno"><a class="line" href="_c_p_text_field_8j.html#a4c2eb9e0557ddf7f9c4cd4e07d2c17c8"> 2040</a></span>&#160;    <a class="code" href="_c_p_text_field_8j.html#a4c2eb9e0557ddf7f9c4cd4e07d2c17c8">CPTextFieldIsBorderedKey</a>            = <span class="stringliteral">&quot;CPTextFieldIsBorderedKey&quot;</span>,</div><div class="line"><a name="l02041"></a><span class="lineno"><a class="line" href="_c_p_text_field_8j.html#a8c36c14dfda2f70ce2f65e27a7696df4"> 2041</a></span>&#160;    <a class="code" href="_c_p_text_field_8j.html#a8c36c14dfda2f70ce2f65e27a7696df4">CPTextFieldIsBezeledKey</a>             = <span class="stringliteral">&quot;CPTextFieldIsBezeledKey&quot;</span>,</div><div class="line"><a name="l02042"></a><span class="lineno"><a class="line" href="_c_p_text_field_8j.html#afc00109c001c17251046c0e5a86e96f2"> 2042</a></span>&#160;    <a class="code" href="_c_p_text_field_8j.html#afc00109c001c17251046c0e5a86e96f2">CPTextFieldBezelStyleKey</a>            = <span class="stringliteral">&quot;CPTextFieldBezelStyleKey&quot;</span>,</div><div class="line"><a name="l02043"></a><span class="lineno"><a class="line" href="_c_p_text_field_8j.html#af1e3f5a6aea1be5c29a3d7be4bb528a4"> 2043</a></span>&#160;    <a class="code" href="_c_p_text_field_8j.html#af1e3f5a6aea1be5c29a3d7be4bb528a4">CPTextFieldDrawsBackgroundKey</a>       = <span class="stringliteral">&quot;CPTextFieldDrawsBackgroundKey&quot;</span>,</div><div class="line"><a name="l02044"></a><span class="lineno"><a class="line" href="_c_p_text_field_8j.html#ac6d8bb04140e0152fc5b9d857937728b"> 2044</a></span>&#160;    <a class="code" href="_c_p_text_field_8j.html#ac6d8bb04140e0152fc5b9d857937728b">CPTextFieldLineBreakModeKey</a>         = <span class="stringliteral">&quot;CPTextFieldLineBreakModeKey&quot;</span>,</div><div class="line"><a name="l02045"></a><span class="lineno"><a class="line" href="_c_p_text_field_8j.html#ab87d71ccfa736740edb12b78c398484c"> 2045</a></span>&#160;    <a class="code" href="_c_p_text_field_8j.html#ab87d71ccfa736740edb12b78c398484c">CPTextFieldAlignmentKey</a>             = <span class="stringliteral">&quot;CPTextFieldAlignmentKey&quot;</span>,</div><div class="line"><a name="l02046"></a><span class="lineno"><a class="line" href="_c_p_text_field_8j.html#a4dcb1d5c1218deb66015b64667d560e8"> 2046</a></span>&#160;    <a class="code" href="_c_p_text_field_8j.html#a4dcb1d5c1218deb66015b64667d560e8">CPTextFieldBackgroundColorKey</a>       = <span class="stringliteral">&quot;CPTextFieldBackgroundColorKey&quot;</span>,</div><div class="line"><a name="l02047"></a><span class="lineno"><a class="line" href="_c_p_text_field_8j.html#adddc9a81ebb0fe95fe16902ca3c436f5"> 2047</a></span>&#160;    <a class="code" href="_c_p_text_field_8j.html#adddc9a81ebb0fe95fe16902ca3c436f5">CPTextFieldPlaceholderStringKey</a>     = <span class="stringliteral">&quot;CPTextFieldPlaceholderStringKey&quot;</span>,</div><div class="line"><a name="l02048"></a><span class="lineno"><a class="line" href="_c_p_text_field_8j.html#a7dc987ba37b27315a9b043e0c6b26c78"> 2048</a></span>&#160;    <a class="code" href="_c_p_text_field_8j.html#a7dc987ba37b27315a9b043e0c6b26c78">CPTextFieldUsesSingleLineMode</a>       = <span class="stringliteral">&quot;CPTextFieldUsesSingleLineMode&quot;</span>,</div><div class="line"><a name="l02049"></a><span class="lineno"><a class="line" href="_c_p_text_field_8j.html#aff1e4f3d41c4711b516d0305b561c8f2"> 2049</a></span>&#160;    <a class="code" href="_c_p_text_field_8j.html#aff1e4f3d41c4711b516d0305b561c8f2">CPTextFieldWraps</a>                    = <span class="stringliteral">&quot;CPTextFieldWraps&quot;</span>,</div><div class="line"><a name="l02050"></a><span class="lineno"><a class="line" href="_c_p_text_field_8j.html#a9180d6322de1e67c6edbaecd081e8a65"> 2050</a></span>&#160;    <a class="code" href="_c_p_text_field_8j.html#a9180d6322de1e67c6edbaecd081e8a65">CPTextFieldScrolls</a>                  = <span class="stringliteral">&quot;CPTextFieldScrolls&quot;</span>;</div><div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;</div><div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;</div><div class="line"><a name="l02053"></a><span class="lineno"><a class="line" href="category_c_p_text_field_07_c_p_coding_08.html"> 2053</a></span>&#160;<span class="keyword">@implementation </span><a class="code" href="category_c_p_text_field_07_c_p_coding_08.html">CPTextField (CPCoding)</a></div><div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;</div><div class="line"><a name="l02060"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#a483235418a05425a03cc8873db858085"> 2060</a></span>&#160;- (id)initWithCoder:(<a class="code" href="interface_c_p_coder.html">CPCoder</a>)aCoder</div><div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;{</div><div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;    <span class="keyword">self</span> = [<span class="keyword">super</span> <a class="code" href="interface_c_p_control.html#af4941048c1888b63d6919f6ee5367c15">initWithCoder</a>:aCoder];</div><div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;</div><div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">self</span>)</div><div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;    {</div><div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;        [<span class="keyword">self</span> <a class="code" href="interface_c_p_text_field.html#a074f65ecde05cdcec487476eaf99ee1c">setEditable</a>:[aCoder decodeBoolForKey:CPTextFieldIsEditableKey]];</div><div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;        [<span class="keyword">self</span> <a class="code" href="interface_c_p_text_field.html#a29e97c91c2249509c1ebe062daf0a157">setSelectable</a>:[aCoder decodeBoolForKey:CPTextFieldIsSelectableKey]];</div><div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;</div><div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;        [<span class="keyword">self</span> <a class="code" href="interface_c_p_text_field.html#aad11ed6d14ee4387a61ab08e4f91b509">setDrawsBackground</a>:[aCoder decodeBoolForKey:CPTextFieldDrawsBackgroundKey]];</div><div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;</div><div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;        [<span class="keyword">self</span> <a class="code" href="interface_c_p_text_field.html#acbfe4cc69711826967adcbb6b66d46c9">setTextFieldBackgroundColor</a>:[aCoder decodeObjectForKey:CPTextFieldBackgroundColorKey]];</div><div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;</div><div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;        [<span class="keyword">self</span> <a class="code" href="interface_c_p_control.html#ad724782eb78ecba3fcf2e50489a50969">setLineBreakMode</a>:[aCoder decodeIntForKey:CPTextFieldLineBreakModeKey]];</div><div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;        [<span class="keyword">self</span> <a class="code" href="interface_c_p_control.html#a7f7c0c9656dd0b2c9c1b920c4619d4d9">setAlignment</a>:[aCoder decodeIntForKey:CPTextFieldAlignmentKey]];</div><div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;</div><div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;        [<span class="keyword">self</span> <a class="code" href="interface_c_p_text_field.html#a3da0a821aa41434e59383fc020f4208b">setPlaceholderString</a>:[aCoder decodeObjectForKey:CPTextFieldPlaceholderStringKey]];</div><div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;</div><div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;        [<span class="keyword">self</span> _setUsesSingleLineMode:[aCoder decodeBoolForKey:CPTextFieldUsesSingleLineMode]];</div><div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;        [<span class="keyword">self</span> _setWraps:[aCoder decodeBoolForKey:CPTextFieldWraps]];</div><div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;        [<span class="keyword">self</span> _setScrolls:[aCoder decodeBoolForKey:CPTextFieldScrolls]];</div><div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;    }</div><div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;</div><div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">self</span>;</div><div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;}</div><div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;</div><div class="line"><a name="l02090"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#a5d34e8449ca52f02b155fe3cfd6debbc"> 2090</a></span>&#160;- (void)encodeWithCoder:(<a class="code" href="interface_c_p_coder.html">CPCoder</a>)aCoder</div><div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;{</div><div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;    [<span class="keyword">super</span> <a class="code" href="interface_c_p_control.html#a69e8aa13174c6c6f4f330cdc3b46ecd0">encodeWithCoder</a>:aCoder];</div><div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;</div><div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;    [aCoder encodeBool:_isEditable forKey:CPTextFieldIsEditableKey];</div><div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;    [aCoder encodeBool:_isSelectable forKey:CPTextFieldIsSelectableKey];</div><div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;</div><div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;    [aCoder encodeBool:_drawsBackground forKey:CPTextFieldDrawsBackgroundKey];</div><div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;</div><div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;    [aCoder encodeObject:_textFieldBackgroundColor forKey:CPTextFieldBackgroundColorKey];</div><div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;</div><div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;    [aCoder encodeInt:[<span class="keyword">self</span> <a class="code" href="interface_c_p_control.html#a111e7270bee843c12a139d8e32fda5f7">lineBreakMode</a>] forKey:CPTextFieldLineBreakModeKey];</div><div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;    [aCoder encodeInt:[<span class="keyword">self</span> <a class="code" href="interface_c_p_control.html#a2eb8d5153bd169296f25a9a6a0af9c18">alignment</a>] forKey:CPTextFieldAlignmentKey];</div><div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;</div><div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;    [aCoder encodeObject:_placeholderString forKey:CPTextFieldPlaceholderStringKey];</div><div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;</div><div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;    [aCoder encodeBool:_usesSingleLineMode forKey:CPTextFieldUsesSingleLineMode];</div><div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;    [aCoder encodeBool:_wraps forKey:CPTextFieldWraps];</div><div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;    [aCoder encodeBool:_scrolls forKey:CPTextFieldScrolls];</div><div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;}</div><div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;</div><div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;<span class="keyword">@end</span></div><div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;<span class="keyword">@implementation </span>_CPTextFieldValueBinder : <a class="code" href="interface_c_p_binder.html">CPBinder</a></div><div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;{</div><div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;    <span class="keywordtype">id</span> __doxygen__;</div><div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;}</div><div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;</div><div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;- (void)_updatePlaceholdersWithOptions:(<a class="code" href="interface_c_p_dictionary.html">CPDictionary</a>)options forBinding:(<a class="code" href="interface_c_p_string.html">CPString</a>)aBinding</div><div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;{</div><div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;    [<span class="keyword">super</span> _updatePlaceholdersWithOptions:options];</div><div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;</div><div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;    [<span class="keyword">self</span> _setPlaceholder:@&quot;Multiple Values&quot; forMarker:CPMultipleValuesMarker isDefault:YES];</div><div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;    [<span class="keyword">self</span> _setPlaceholder:@&quot;No Selection&quot; forMarker:CPNoSelectionMarker isDefault:YES];</div><div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;    [<span class="keyword">self</span> _setPlaceholder:@&quot;Not Applicable&quot; forMarker:CPNotApplicableMarker isDefault:YES];</div><div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;    [<span class="keyword">self</span> _setPlaceholder:@&quot;&quot; forMarker:CPNullMarker isDefault:YES];</div><div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;}</div><div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;</div><div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;- (void)setPlaceholderValue:(<span class="keywordtype">id</span>)aValue withMarker:(<a class="code" href="interface_c_p_string.html">CPString</a>)aMarker forBinding:(<a class="code" href="interface_c_p_string.html">CPString</a>)aBinding</div><div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;{</div><div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;    [_source setPlaceholderString:aValue];</div><div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;    [_source setObjectValue:nil];</div><div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;}</div><div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;</div><div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;- (void)setValue:(<span class="keywordtype">id</span>)aValue forBinding:(<a class="code" href="interface_c_p_string.html">CPString</a>)aBinding</div><div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;{</div><div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;    <span class="keywordflow">if</span> (!aValue || (aValue.isa &amp;&amp; [aValue isMemberOfClass:<a class="code" href="interface_c_p_null.html">CPNull</a>]))</div><div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;        [_source setPlaceholderString:[<span class="keyword">self</span> _placeholderForMarker:CPNullMarker]];</div><div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;</div><div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;    [_source setObjectValue:aValue];</div><div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;}</div><div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;</div><div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;- (void)reverseSetValueFor:(<a class="code" href="interface_c_p_string.html">CPString</a>)aBinding</div><div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;{</div><div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;    var destination = [_info objectForKey:CPObservedObjectKey],</div><div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;        keyPath     = [_info objectForKey:CPObservedKeyPathKey],</div><div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;        options     = [_info objectForKey:CPOptionsKey],</div><div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;        newValue    = [<span class="keyword">self</span> valueForBinding:aBinding],</div><div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;        value       = [destination valueForKeyPath:keyPath];</div><div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;</div><div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;    <span class="keywordflow">if</span> (CPIsControllerMarker(value) &amp;&amp; newValue === nil)</div><div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;</div><div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;    newValue = [<span class="keyword">self</span> reverseTransformValue:newValue withOptions:options];</div><div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;</div><div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;    [<span class="keyword">self</span> suppressSpecificNotificationFromObject:destination keyPath:keyPath];</div><div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;    [destination setValue:newValue forKeyPath:keyPath];</div><div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;    [<span class="keyword">self</span> unsuppressSpecificNotificationFromObject:destination keyPath:keyPath];</div><div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;}</div><div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;</div><div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;<span class="keyword">@end</span></div><div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;<span class="keyword">@implementation </span>_CPTextFieldPatternValueBinder : <a class="code" href="class_c_p_value_with_pattern_binding.html">CPValueWithPatternBinding</a></div><div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;{</div><div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;    <span class="keywordtype">id</span> __doxygen__;</div><div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;}</div><div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;</div><div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;- (void)setPlaceholderValue:(<span class="keywordtype">id</span>)aValue withMarker:(<a class="code" href="interface_c_p_string.html">CPString</a>)aMarker forBinding:(<a class="code" href="interface_c_p_string.html">CPString</a>)aBinding</div><div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;{</div><div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;    [_source setPlaceholderString:aValue];</div><div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;    [_source setObjectValue:nil];</div><div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;}</div><div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;</div><div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;- (void)setValue:(<span class="keywordtype">id</span>)aValue forBinding:(<a class="code" href="interface_c_p_string.html">CPString</a>)aBinding</div><div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;{</div><div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;    <span class="keywordflow">if</span> (!aValue || (aValue.isa &amp;&amp; [aValue isMemberOfClass:<a class="code" href="interface_c_p_null.html">CPNull</a>]))</div><div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;        [_source setPlaceholderString:[<span class="keyword">self</span> _placeholderForMarker:CPNullMarker]];</div><div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;</div><div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;    [_source setObjectValue:aValue];</div><div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;}</div><div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;</div><div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;<span class="keyword">@end</span></div><div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;</div><div class="line"><a name="l02181"></a><span class="lineno"><a class="line" href="category_c_p_text_field_07_c_p_tracking_area_08.html"> 2181</a></span>&#160;<span class="keyword">@implementation </span><a class="code" href="category_c_p_text_field_07_c_p_tracking_area_08.html">CPTextField (CPTrackingArea)</a></div><div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;{</div><div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;    <a class="code" href="interface_c_p_tracking_area.html">CPTrackingArea</a>      _textFieldTrackingArea;</div><div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;}</div><div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;</div><div class="line"><a name="l02186"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#ad8eaff6bdddbf2c424c090e3be9076d9"> 2186</a></span>&#160;- (void)updateTrackingAreas</div><div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;{</div><div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;    <span class="keywordflow">if</span> (_textFieldTrackingArea)</div><div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;    {</div><div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;        [<span class="keyword">self</span> <a class="code" href="class_c_p_view.html#a3ecef3547877f89ea0a66f86ce1a0d84">removeTrackingArea</a>:_textFieldTrackingArea];</div><div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;        _textFieldTrackingArea = nil;</div><div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;    }</div><div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;</div><div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;    <span class="keywordflow">if</span> ([<span class="keyword">self</span> isEnabled] &amp;&amp; (_isEditable || _isSelectable))</div><div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;    {</div><div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;        var myBounds     = CGRectMakeCopy([<span class="keyword">self</span> <a class="code" href="_c_a_layer_8j.html#a76e98e4f35c628cffcb1a388ec583bec">bounds</a>]),</div><div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;            contentInset = [<span class="keyword">self</span> currentValueForThemeAttribute:@&quot;content-inset&quot;];</div><div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;        </div><div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;        _textFieldTrackingArea = [[<a class="code" href="interface_c_p_tracking_area.html">CPTrackingArea</a> <a class="code" href="class_c_p_object.html#aa6d290852c6a151058e8e82d053db475">alloc</a>] <a class="code" href="interface_c_p_tracking_area.html#a89531a568f17c2573b345517ce34a414">initWithRect</a>:CGRectInsetByInset(myBounds, contentInset)</div><div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;                                                              <a class="code" href="interface_c_p_tracking_area.html#a89531a568f17c2573b345517ce34a414">options</a>:CPTrackingCursorUpdate | CPTrackingActiveInKeyWindow</div><div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;                                                                <a class="code" href="interface_c_p_tracking_area.html#a89531a568f17c2573b345517ce34a414">owner</a>:self</div><div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;                                                             <a class="code" href="interface_c_p_tracking_area.html#a89531a568f17c2573b345517ce34a414">userInfo</a>:nil];</div><div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;</div><div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;        [<span class="keyword">self</span> <a class="code" href="class_c_p_view.html#ae130b9540032c8fc5a96b01f0f793eb8">addTrackingArea</a>:_textFieldTrackingArea];</div><div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;    }</div><div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;    </div><div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;    [<span class="keyword">super</span> <a class="code" href="interface_c_p_control.html#a33a1fdc9f21b66c8f7d70a279c3342f5">updateTrackingAreas</a>];</div><div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;}</div><div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;</div><div class="line"><a name="l02210"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#a27389d4c82f6989e61ac3733ca1e541c"> 2210</a></span>&#160;- (void)cursorUpdate:(<a class="code" href="interface_c_p_event.html">CPEvent</a>)anEvent</div><div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;{</div><div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;    [[<a class="code" href="interface_c_p_cursor.html">CPCursor</a> <a class="code" href="interface_c_p_cursor.html#ad43813efaf020d6777702444386c8eb8">IBeamCursor</a>] <a class="code" href="interface_c_p_cursor.html#a6617eeea2bcccabd49bd0dc960ebbd30">set</a>];</div><div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;}</div><div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;</div><div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;<span class="keyword">@end</span></div><div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;</div><div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;<span class="preprocessor">#pragma mark -</span></div><div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;</div><div class="line"><a name="l02219"></a><span class="lineno"><a class="line" href="category_c_p_text_field_07_table_data_view_08.html"> 2219</a></span>&#160;<span class="keyword">@implementation </span><a class="code" href="category_c_p_text_field_07_table_data_view_08.html">CPTextField (TableDataView)</a></div><div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;</div><div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;<span class="comment">// We overide here _CPObject+Theme setValue:forThemeAttribute as CPTextField can be used as tableView data view</span></div><div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;<span class="comment">// So, when outside a table data view, setValue:forThemeAttribute should store the value with the CPThemeStateNormal (default behavior)</span></div><div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;<span class="comment">// When inside a table data view, it should store the value with the CPThemeStateTableDataView. If not, the value won&#39;t be used if the</span></div><div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;<span class="comment">// theme defined a value for this attribute for state CPThemeStateTableDataView</span></div><div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;</div><div class="line"><a name="l02226"></a><span class="lineno"><a class="line" href="interface_c_p_text_field.html#a291f7145465240af5d473cfe0e7b84d7"> 2226</a></span>&#160;- (void)setValue:(<span class="keywordtype">id</span>)aValue forThemeAttribute:(<a class="code" href="interface_c_p_string.html">CPString</a>)aName</div><div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;{</div><div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;    [<span class="keyword">super</span> <a class="code" href="class_c_p_view.html#acb272169a018d1f621a6f51b42bc2989">setValue</a>:aValue <a class="code" href="class_c_p_view.html#acb272169a018d1f621a6f51b42bc2989">forThemeAttribute</a>:aName];</div><div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;    [<span class="keyword">super</span> <a class="code" href="class_c_p_view.html#ae77ae0d40577cd26978e25497e0eb7b6">setValue</a>:aValue <a class="code" href="class_c_p_view.html#ae77ae0d40577cd26978e25497e0eb7b6">forThemeAttribute</a>:aName <a class="code" href="class_c_p_view.html#ae77ae0d40577cd26978e25497e0eb7b6">inState</a>:CPThemeStateTableDataView];</div><div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;}</div><div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;</div><div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;<span class="keyword">@end</span></div><div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;</div><div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;</div><div class="ttc" id="interface_c_p_event_html_af5f96235d926dc455c492ece4d907744"><div class="ttname"><a href="interface_c_p_event.html#af5f96235d926dc455c492ece4d907744">+[CPEvent keyEventWithType:location:modifierFlags:timestamp:windowNumber:context:characters:charactersIgnoringModifiers:isARepeat:keyCode:]</a></div><div class="ttdeci">CPEvent keyEventWithType:location:modifierFlags:timestamp:windowNumber:context:characters:charactersIgnoringModifiers:isARepeat:keyCode:(CPEventType anEventType, [location] CGPoint aPoint, [modifierFlags] unsigned int modifierFlags, [timestamp] CPTimeInterval aTimestamp, [windowNumber] int aWindowNumber, [context] CPGraphicsContext aGraphicsContext, [characters] CPString characters, [charactersIgnoringModifiers] CPString unmodCharacters, [isARepeat] BOOL repeatKey, [keyCode] unsigned short code)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_event_8j_source.html#l00106">CPEvent.j:106</a></div></div>
<div class="ttc" id="interface_c_p_scroll_view_html"><div class="ttname"><a href="interface_c_p_scroll_view.html">CPScrollView</a></div><div class="ttdef"><b>Definition:</b> <a href="_c_p_scroll_view_8h_source.html#l00002">CPScrollView.h:2</a></div></div>
<div class="ttc" id="interface_c_p_window_html_a8fc7c3a24092c25057a4314694ef7c6d"><div class="ttname"><a href="interface_c_p_window.html#a8fc7c3a24092c25057a4314694ef7c6d">-[CPWindow makeFirstResponder:]</a></div><div class="ttdeci">BOOL makeFirstResponder:(CPResponder aResponder)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_window_8j_source.html#l01632">CPWindow.j:1632</a></div></div>
<div class="ttc" id="interface_c_p_notification_html_a0a912e9648acf5e7f669aed339474158"><div class="ttname"><a href="interface_c_p_notification.html#a0a912e9648acf5e7f669aed339474158">-[CPNotification object]</a></div><div class="ttdeci">id object()</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_notification_8j_source.html#l00108">CPNotification.j:108</a></div></div>
<div class="ttc" id="interface_c_p_text_field_html_aad11ed6d14ee4387a61ab08e4f91b509"><div class="ttname"><a href="interface_c_p_text_field.html#aad11ed6d14ee4387a61ab08e4f91b509">-[CPTextField setDrawsBackground:]</a></div><div class="ttdeci">void setDrawsBackground:(BOOL shouldDrawBackground)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l00529">CPTextField.j:529</a></div></div>
<div class="ttc" id="_c_p_text_field_8j_html_ae82aacfd5c0ee01d1e5c98185c4b8dd3"><div class="ttname"><a href="_c_p_text_field_8j.html#ae82aacfd5c0ee01d1e5c98185c4b8dd3">CPTextFieldDOMStandardInputElement</a></div><div class="ttdeci">var CPTextFieldDOMStandardInputElement</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l00050">CPTextField.j:50</a></div></div>
<div class="ttc" id="interface_c_p_notification_center_html_a2528b0b90f75d7263f9373d9cd896e94"><div class="ttname"><a href="interface_c_p_notification_center.html#a2528b0b90f75d7263f9373d9cd896e94">-[CPNotificationCenter postNotification:]</a></div><div class="ttdeci">void postNotification:(CPNotification aNotification)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_notification_center_8j_source.html#l00162">CPNotificationCenter.j:162</a></div></div>
<div class="ttc" id="_c_p_text_field_8j_html_a4c2eb9e0557ddf7f9c4cd4e07d2c17c8"><div class="ttname"><a href="_c_p_text_field_8j.html#a4c2eb9e0557ddf7f9c4cd4e07d2c17c8">CPTextFieldIsBorderedKey</a></div><div class="ttdeci">var CPTextFieldIsBorderedKey</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l02040">CPTextField.j:2040</a></div></div>
<div class="ttc" id="category_c_p_string_07_c_p_text_field_additions_08_html"><div class="ttname"><a href="category_c_p_string_07_c_p_text_field_additions_08.html">CPString(CPTextFieldAdditions)</a></div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l00098">CPTextField.j:98</a></div></div>
<div class="ttc" id="_c_p_text_field_8j_html_a8c36c14dfda2f70ce2f65e27a7696df4"><div class="ttname"><a href="_c_p_text_field_8j.html#a8c36c14dfda2f70ce2f65e27a7696df4">CPTextFieldIsBezeledKey</a></div><div class="ttdeci">var CPTextFieldIsBezeledKey</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l02041">CPTextField.j:2041</a></div></div>
<div class="ttc" id="_c_p_text_field_8j_html_ab87d71ccfa736740edb12b78c398484c"><div class="ttname"><a href="_c_p_text_field_8j.html#ab87d71ccfa736740edb12b78c398484c">CPTextFieldAlignmentKey</a></div><div class="ttdeci">var CPTextFieldAlignmentKey</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l02045">CPTextField.j:2045</a></div></div>
<div class="ttc" id="interface_c_p_control_html_afabd1669f3c8a766cab14c0c8ab66753"><div class="ttname"><a href="interface_c_p_control.html#afabd1669f3c8a766cab14c0c8ab66753">-[CPControl isEnabled]</a></div><div class="ttdeci">BOOL isEnabled()</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_control_8j_source.html#l00970">CPControl.j:970</a></div></div>
<div class="ttc" id="class_c_p_view_html_af375db0002e118c71a6e138b63c9430a"><div class="ttname"><a href="class_c_p_view.html#af375db0002e118c71a6e138b63c9430a">-[CPView setThemeState:]</a></div><div class="ttdeci">BOOL setThemeState:(ThemeState aState)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_view_8j_source.html#l03255">CPView.j:3255</a></div></div>
<div class="ttc" id="_c_p_segmented_control_8j_html_a63fcc9e0dd97e8502cce685e88234e16"><div class="ttname"><a href="_c_p_segmented_control_8j.html#a63fcc9e0dd97e8502cce685e88234e16">frame</a></div><div class="ttdeci">CGRect frame</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_segmented_control_8j_source.html#l01128">CPSegmentedControl.j:1128</a></div></div>
<div class="ttc" id="_c_p_text_field_8j_html_a143de3d113515e4741399afe6aab2b71"><div class="ttname"><a href="_c_p_text_field_8j.html#a143de3d113515e4741399afe6aab2b71">CPTextFieldTextDidChangeValue</a></div><div class="ttdeci">var CPTextFieldTextDidChangeValue</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l00053">CPTextField.j:53</a></div></div>
<div class="ttc" id="interface_c_p_text_field_html_ab67c5ae4b907b48b49c4bf217986a136"><div class="ttname"><a href="interface_c_p_text_field.html#ab67c5ae4b907b48b49c4bf217986a136">-[CPTextField selectText:]</a></div><div class="ttdeci">void selectText:(id sender)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l01468">CPTextField.j:1468</a></div></div>
<div class="ttc" id="class_c_p_view_html_ae77ae0d40577cd26978e25497e0eb7b6"><div class="ttname"><a href="class_c_p_view.html#ae77ae0d40577cd26978e25497e0eb7b6">-[CPView setValue:forThemeAttribute:inState:]</a></div><div class="ttdeci">void setValue:forThemeAttribute:inState:(id aValue, [forThemeAttribute] CPString aName, [inState] ThemeState aState)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_view_8j_source.html#l03371">CPView.j:3371</a></div></div>
<div class="ttc" id="interface_c_p_null_html"><div class="ttname"><a href="interface_c_p_null.html">CPNull</a></div><div class="ttdoc">An object representation of nil. </div><div class="ttdef"><b>Definition:</b> <a href="_c_p_null_8h_source.html#l00002">CPNull.h:2</a></div></div>
<div class="ttc" id="_c_p_pasteboard_8j_html_acd5614f9dbe81f6c200152e81093f22e"><div class="ttname"><a href="_c_p_pasteboard_8j.html#acd5614f9dbe81f6c200152e81093f22e">CPStringPboardType</a></div><div class="ttdeci">CPStringPboardType</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_pasteboard_8j_source.html#l00037">CPPasteboard.j:37</a></div></div>
<div class="ttc" id="_c_p_text_field_8j_html_a37da027494bca1b803d182ad615db1b8"><div class="ttname"><a href="_c_p_text_field_8j.html#a37da027494bca1b803d182ad615db1b8">CPTextFieldCachedSelectStartFunction</a></div><div class="ttdeci">var CPTextFieldCachedSelectStartFunction</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l00057">CPTextField.j:57</a></div></div>
<div class="ttc" id="interface_c_p_text_field_html_a377c01f28034e6f080a1782e43e159c6"><div class="ttname"><a href="interface_c_p_text_field.html#a377c01f28034e6f080a1782e43e159c6">-[CPTextField setSelectedRange:]</a></div><div class="ttdeci">void setSelectedRange:(CPRange aRange)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l01642">CPTextField.j:1642</a></div></div>
<div class="ttc" id="interface_c_p_platform_html"><div class="ttname"><a href="interface_c_p_platform.html">CPPlatform</a></div><div class="ttdef"><b>Definition:</b> <a href="_c_p_platform_8h_source.html#l00002">CPPlatform.h:2</a></div></div>
<div class="ttc" id="_c_p_text_field_8j_html_a3eefb45d611807698c520e80c20a1725"><div class="ttname"><a href="_c_p_text_field_8j.html#a3eefb45d611807698c520e80c20a1725">CPTextFieldDelegate_controlTextDidBeginEditing_</a></div><div class="ttdeci">var CPTextFieldDelegate_controlTextDidBeginEditing_</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l00034">CPTextField.j:34</a></div></div>
<div class="ttc" id="interface_c_p_run_loop_html"><div class="ttname"><a href="interface_c_p_run_loop.html">CPRunLoop</a></div><div class="ttdoc">The main run loop for the application. </div><div class="ttdef"><b>Definition:</b> <a href="_c_p_run_loop_8h_source.html#l00002">CPRunLoop.h:2</a></div></div>
<div class="ttc" id="_c_p_text_8j_html_a7f9bbcc35a65106771e5661b570e5158"><div class="ttname"><a href="_c_p_text_8j.html#a7f9bbcc35a65106771e5661b570e5158">CPRightTextAlignment</a></div><div class="ttdeci">CPRightTextAlignment</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_8j_source.html#l00077">CPText.j:77</a></div></div>
<div class="ttc" id="interface_c_p_pasteboard_html_a085d41e5f0d2c94888b0fab4647e07b8"><div class="ttname"><a href="interface_c_p_pasteboard.html#a085d41e5f0d2c94888b0fab4647e07b8">+[CPPasteboard generalPasteboard]</a></div><div class="ttdeci">id generalPasteboard()</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_pasteboard_8j_source.html#l00083">CPPasteboard.j:83</a></div></div>
<div class="ttc" id="_c_p_text_field_8j_html_ade056688e0d47749605c1d110eae58fb"><div class="ttname"><a href="_c_p_text_field_8j.html#ade056688e0d47749605c1d110eae58fb">CPTextFieldDelegate_controlTextDidEndEditing_</a></div><div class="ttdeci">var CPTextFieldDelegate_controlTextDidEndEditing_</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l00036">CPTextField.j:36</a></div></div>
<div class="ttc" id="interface_c_p_text_field_html_aec03d9521a5ee224c1bc3ef7eba67ede"><div class="ttname"><a href="interface_c_p_text_field.html#aec03d9521a5ee224c1bc3ef7eba67ede">+[CPTextField labelWithTitle:theme:]</a></div><div class="ttdeci">CPTextField labelWithTitle:theme:(CPString aTitle, [theme] CPTheme aTheme)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l00205">CPTextField.j:205</a></div></div>
<div class="ttc" id="interface_c_p_notification_center_html_a200d0ca44278be0327d26324bda1c4a6"><div class="ttname"><a href="interface_c_p_notification_center.html#a200d0ca44278be0327d26324bda1c4a6">-[CPNotificationCenter addObserver:selector:name:object:]</a></div><div class="ttdeci">void addObserver:selector:name:object:(id anObserver, [selector] SEL aSelector, [name] CPString aNotificationName, [object] id anObject)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_notification_center_8j_source.html#l00077">CPNotificationCenter.j:77</a></div></div>
<div class="ttc" id="interface_c_p_control_html_ad724782eb78ecba3fcf2e50489a50969"><div class="ttname"><a href="interface_c_p_control.html#ad724782eb78ecba3fcf2e50489a50969">-[CPControl setLineBreakMode:]</a></div><div class="ttdeci">void setLineBreakMode:(CPLineBreakMode mode)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_control_8j_source.html#l00823">CPControl.j:823</a></div></div>
<div class="ttc" id="_c_p_text_field_8j_html_af75397458348bd7904b67bf33c418cc3"><div class="ttname"><a href="_c_p_text_field_8j.html#af75397458348bd7904b67bf33c418cc3">CPTextFieldInputOwner</a></div><div class="ttdeci">var CPTextFieldInputOwner</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l00052">CPTextField.j:52</a></div></div>
<div class="ttc" id="interface_c_p_window_html_ae3af926d15fa7e76e98f18e2797ea345"><div class="ttname"><a href="interface_c_p_window.html#ae3af926d15fa7e76e98f18e2797ea345">-[CPWindow firstResponder]</a></div><div class="ttdeci">CPResponder firstResponder()</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_window_8j_source.html#l01657">CPWindow.j:1657</a></div></div>
<div class="ttc" id="interface_c_p_control_html_a3084d5a43bfe611aec6f514d544d803c"><div class="ttname"><a href="interface_c_p_control.html#a3084d5a43bfe611aec6f514d544d803c">-[CPControl textDidChange:]</a></div><div class="ttdeci">void textDidChange:(CPNotification note)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_control_8j_source.html#l00703">CPControl.j:703</a></div></div>
<div class="ttc" id="_c_p_text_field_8j_html_a13a056ef1c399482c7cf8a27a985c10d"><div class="ttname"><a href="_c_p_text_field_8j.html#a13a056ef1c399482c7cf8a27a985c10d">CPTextFieldDelegate_controlTextDidBlur_</a></div><div class="ttdeci">var CPTextFieldDelegate_controlTextDidBlur_</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l00038">CPTextField.j:38</a></div></div>
<div class="ttc" id="_c_p_text_field_8j_html_a2bfe5c3c281772f51524be7c9e85b4c8"><div class="ttname"><a href="_c_p_text_field_8j.html#a2bfe5c3c281772f51524be7c9e85b4c8">CPTextFieldInputFunction</a></div><div class="ttdeci">var CPTextFieldInputFunction</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l00060">CPTextField.j:60</a></div></div>
<div class="ttc" id="_c_p_text_field_8j_html_af021b37581055ca75a0919c90346979a"><div class="ttname"><a href="_c_p_text_field_8j.html#af021b37581055ca75a0919c90346979a">CPTextFieldHandleBlur</a></div><div class="ttdeci">function CPTextFieldHandleBlur(anEvent, ownerRef)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l00090">CPTextField.j:90</a></div></div>
<div class="ttc" id="class_c_p_view_html_aa01e0ec45a132ffc035d9d5223d58c1b"><div class="ttname"><a href="class_c_p_view.html#aa01e0ec45a132ffc035d9d5223d58c1b">-[CPView viewDidHide]</a></div><div class="ttdeci">void viewDidHide()</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_view_8j_source.html#l01805">CPView.j:1805</a></div></div>
<div class="ttc" id="_c_p_compatibility_8j_html_af00ffb5fce68299af8be1789d97867c8"><div class="ttname"><a href="_c_p_compatibility_8j.html#af00ffb5fce68299af8be1789d97867c8">CPInputOnInputEventFeature</a></div><div class="ttdeci">CPInputOnInputEventFeature</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_compatibility_8j_source.html#l00077">CPCompatibility.j:77</a></div></div>
<div class="ttc" id="interface_c_p_text_field_html_abb8df615ff419f4c919066254975a6d3"><div class="ttname"><a href="interface_c_p_text_field.html#abb8df615ff419f4c919066254975a6d3">-[CPTextField selectAll:]</a></div><div class="ttdeci">void selectAll:(id sender)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l01694">CPTextField.j:1694</a></div></div>
<div class="ttc" id="_c_p_control_8j_html_a7c4803f36a6068ad5aea81cd0c751667"><div class="ttname"><a href="_c_p_control_8j.html#a7c4803f36a6068ad5aea81cd0c751667">CPLineBreakByCharWrapping</a></div><div class="ttdeci">CPLineBreakByCharWrapping</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_control_8j_source.html#l00046">CPControl.j:46</a></div></div>
<div class="ttc" id="interface_c_p_text_field_html_a4e5f5ec3c07f8ba83f03185cf28daccb"><div class="ttname"><a href="interface_c_p_text_field.html#a4e5f5ec3c07f8ba83f03185cf28daccb">+[CPTextField textFieldWithStringValue:placeholder:width:theme:]</a></div><div class="ttdeci">CPTextField textFieldWithStringValue:placeholder:width:theme:(CPString aStringValue, [placeholder] CPString aPlaceholder, [width] float aWidth, [theme] CPTheme aTheme)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l00162">CPTextField.j:162</a></div></div>
<div class="ttc" id="_c_a_layer_8j_html_a6c98e239b6ba279cfc95c64db9de555c"><div class="ttname"><a href="_c_a_layer_8j.html#a6c98e239b6ba279cfc95c64db9de555c">delegate</a></div><div class="ttdeci">id delegate()</div><div class="ttdef"><b>Definition:</b> <a href="_c_a_layer_8j_source.html#l00965">CALayer.j:965</a></div></div>
<div class="ttc" id="interface_c_p_control_html_a35579be951c96fa16502009f0d7195ef"><div class="ttname"><a href="interface_c_p_control.html#a35579be951c96fa16502009f0d7195ef">-[CPControl textDidBeginEditing:]</a></div><div class="ttdeci">void textDidBeginEditing:(CPNotification note)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_control_8j_source.html#l00694">CPControl.j:694</a></div></div>
<div class="ttc" id="interface_c_p_control_html_a9677bed8133dc8d4b4e1c284c963e656"><div class="ttname"><a href="interface_c_p_control.html#a9677bed8133dc8d4b4e1c284c963e656">-[CPControl textDidEndEditing:]</a></div><div class="ttdeci">void textDidEndEditing:(CPNotification note)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_control_8j_source.html#l00712">CPControl.j:712</a></div></div>
<div class="ttc" id="interface_c_p_control_html_a9fbb9581b79b7c03c97ca77b64c5f2f1"><div class="ttname"><a href="interface_c_p_control.html#a9fbb9581b79b7c03c97ca77b64c5f2f1">-[CPControl initWithFrame:]</a></div><div class="ttdeci">id initWithFrame:(CGRect aFrame)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_control_8j_source.html#l00183">CPControl.j:183</a></div></div>
<div class="ttc" id="class_c_p_view_html_af0bd55e12e5ac7ea4b137eae5f1829af"><div class="ttname"><a href="class_c_p_view.html#af0bd55e12e5ac7ea4b137eae5f1829af">-[CPView bounds]</a></div><div class="ttdeci">CGRect bounds()</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_view_8j_source.html#l01326">CPView.j:1326</a></div></div>
<div class="ttc" id="_c_p_text_field_8j_html_a03f3e71001d935245f780ead0bcb381b"><div class="ttname"><a href="_c_p_text_field_8j.html#a03f3e71001d935245f780ead0bcb381b">CPTextFieldDidBlurNotification</a></div><div class="ttdeci">CPTextFieldDidBlurNotification</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l00046">CPTextField.j:46</a></div></div>
<div class="ttc" id="interface_c_p_text_field_html_a7e8c0f69115ed982429d3ddce7fb3d59"><div class="ttname"><a href="interface_c_p_text_field.html#a7e8c0f69115ed982429d3ddce7fb3d59">-[CPTextField deleteBackward:]</a></div><div class="ttdeci">void deleteBackward:(id sender)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l01699">CPTextField.j:1699</a></div></div>
<div class="ttc" id="interface_c_p_text_field_html_a853b68bc662ae703ed8b4a78c9c810bb"><div class="ttname"><a href="interface_c_p_text_field.html#a853b68bc662ae703ed8b4a78c9c810bb">-[CPTextField copy:]</a></div><div class="ttdeci">void copy:(id sender)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l01509">CPTextField.j:1509</a></div></div>
<div class="ttc" id="interface_c_p_control_html_a4759ce600ff8a007685250a09713cab8"><div class="ttname"><a href="interface_c_p_control.html#a4759ce600ff8a007685250a09713cab8">-[CPControl setControlSize:]</a></div><div class="ttdeci">void setControlSize:(CPControlSize aControlSize)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_control_8j_source.html#l00211">CPControl.j:211</a></div></div>
<div class="ttc" id="interface_c_p_binder_html"><div class="ttname"><a href="interface_c_p_binder.html">CPBinder</a></div><div class="ttdef"><b>Definition:</b> <a href="_c_p_binder_8h_source.html#l00002">CPBinder.h:2</a></div></div>
<div class="ttc" id="interface_c_p_control_html_a68d3dc4f2d0a4fad8699fd5982cddc2d"><div class="ttname"><a href="interface_c_p_control.html#a68d3dc4f2d0a4fad8699fd5982cddc2d">-[CPControl setEnabled:]</a></div><div class="ttdeci">void setEnabled:(BOOL isEnabled)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_control_8j_source.html#l00959">CPControl.j:959</a></div></div>
<div class="ttc" id="_c_p_event___constants_8j_html_a00e117370b1d4dd6662eb83c4246e61a"><div class="ttname"><a href="_c_p_event___constants_8j.html#a00e117370b1d4dd6662eb83c4246e61a">CPKeyUpMask</a></div><div class="ttdeci">CPKeyUpMask</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_event___constants_8j_source.html#l00075">CPEvent_Constants.j:75</a></div></div>
<div class="ttc" id="class_c_p_view_html_acb272169a018d1f621a6f51b42bc2989"><div class="ttname"><a href="class_c_p_view.html#acb272169a018d1f621a6f51b42bc2989">-[CPView setValue:forThemeAttribute:]</a></div><div class="ttdeci">void setValue:forThemeAttribute:(id aValue, [forThemeAttribute] CPString aName)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_view_8j_source.html#l03384">CPView.j:3384</a></div></div>
<div class="ttc" id="_c_p_text_field_8j_html_a18028d3da1a74a3af4ae4300a688fd10"><div class="ttname"><a href="_c_p_text_field_8j.html#a18028d3da1a74a3af4ae4300a688fd10">CPTextFieldSquareBezel</a></div><div class="ttdeci">CPTextFieldBezelStyle CPTextFieldSquareBezel</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l00042">CPTextField.j:42</a></div></div>
<div class="ttc" id="interface_c_p_notification_center_html_a5abe725f1a1a48ac4cb1e45b6d9d50a8"><div class="ttname"><a href="interface_c_p_notification_center.html#a5abe725f1a1a48ac4cb1e45b6d9d50a8">+[CPNotificationCenter defaultCenter]</a></div><div class="ttdeci">CPNotificationCenter defaultCenter()</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_notification_center_8j_source.html#l00048">CPNotificationCenter.j:48</a></div></div>
<div class="ttc" id="interface_c_p_dictionary_html"><div class="ttname"><a href="interface_c_p_dictionary.html">CPDictionary</a></div><div class="ttdoc">A mutable key-value pair collection. </div><div class="ttdef"><b>Definition:</b> <a href="_c_p_dictionary_8h_source.html#l00002">CPDictionary.h:2</a></div></div>
<div class="ttc" id="class_c_p_view_html_aba596dbf5a8260923f1d096ddc17e78c"><div class="ttname"><a href="class_c_p_view.html#aba596dbf5a8260923f1d096ddc17e78c">-[CPView rightMouseDown:]</a></div><div class="ttdeci">void rightMouseDown:(CPEvent anEvent)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_view_8j_source.html#l01926">CPView.j:1926</a></div></div>
<div class="ttc" id="_c_p_text_field_8j_html_a75dd4cf71fa94edf824baaa5a6bf408c"><div class="ttname"><a href="_c_p_text_field_8j.html#a75dd4cf71fa94edf824baaa5a6bf408c">CPTextFieldIsSelectableKey</a></div><div class="ttdeci">var CPTextFieldIsSelectableKey</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l02039">CPTextField.j:2039</a></div></div>
<div class="ttc" id="interface_c_p_run_loop_html_aba93f1cef957bad4353ce060981c0b9d"><div class="ttname"><a href="interface_c_p_run_loop.html#aba93f1cef957bad4353ce060981c0b9d">+[CPRunLoop currentRunLoop]</a></div><div class="ttdeci">CPRunLoop currentRunLoop()</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_run_loop_8j_source.html#l00232">CPRunLoop.j:232</a></div></div>
<div class="ttc" id="interface_c_p_tracking_area_html"><div class="ttname"><a href="interface_c_p_tracking_area.html">CPTrackingArea</a></div><div class="ttdef"><b>Definition:</b> <a href="_c_p_tracking_area_8h_source.html#l00002">CPTrackingArea.h:2</a></div></div>
<div class="ttc" id="_c_p_text_field_8j_html_aff1e4f3d41c4711b516d0305b561c8f2"><div class="ttname"><a href="_c_p_text_field_8j.html#aff1e4f3d41c4711b516d0305b561c8f2">CPTextFieldWraps</a></div><div class="ttdeci">var CPTextFieldWraps</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l02049">CPTextField.j:2049</a></div></div>
<div class="ttc" id="interface_c_p_text_field_html_a074f65ecde05cdcec487476eaf99ee1c"><div class="ttname"><a href="interface_c_p_text_field.html#a074f65ecde05cdcec487476eaf99ee1c">-[CPTextField setEditable:]</a></div><div class="ttdeci">void setEditable:(BOOL shouldBeEditable)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l00373">CPTextField.j:373</a></div></div>
<div class="ttc" id="interface_c_p_text_field_html_a134c2773497e142b28849daf5997cfea"><div class="ttname"><a href="interface_c_p_text_field.html#a134c2773497e142b28849daf5997cfea">-[CPTextField textDidBlur:]</a></div><div class="ttdeci">void textDidBlur:(CPNotification note)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l01194">CPTextField.j:1194</a></div></div>
<div class="ttc" id="interface_c_p_cursor_html"><div class="ttname"><a href="interface_c_p_cursor.html">CPCursor</a></div><div class="ttdef"><b>Definition:</b> <a href="_c_p_cursor_8h_source.html#l00002">CPCursor.h:2</a></div></div>
<div class="ttc" id="_c_a_layer_8j_html_a76e98e4f35c628cffcb1a388ec583bec"><div class="ttname"><a href="_c_a_layer_8j.html#a76e98e4f35c628cffcb1a388ec583bec">bounds</a></div><div class="ttdeci">CGRect bounds()</div><div class="ttdef"><b>Definition:</b> <a href="_c_a_layer_8j_source.html#l00203">CALayer.j:203</a></div></div>
<div class="ttc" id="class_c_p_view_html_ae83c8efd2cc2cfe0dd767c1a6bb6d0a7"><div class="ttname"><a href="class_c_p_view.html#ae83c8efd2cc2cfe0dd767c1a6bb6d0a7">-[CPView window]</a></div><div class="ttdeci">CPWindow window()</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_view_8j_source.html#l00527">CPView.j:527</a></div></div>
<div class="ttc" id="interface_c_p_text_field_html_a5153afb138eec90b25f8060e835f808b"><div class="ttname"><a href="interface_c_p_text_field.html#a5153afb138eec90b25f8060e835f808b">-[CPTextField selectedRange]</a></div><div class="ttdeci">CPRange selectedRange()</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l01602">CPTextField.j:1602</a></div></div>
<div class="ttc" id="_c_p_text_field_8j_html_aae90f20a85b685dca411c0e88d2c7684"><div class="ttname"><a href="_c_p_text_field_8j.html#aae90f20a85b685dca411c0e88d2c7684">CPTextFieldCachedDragFunction</a></div><div class="ttdeci">var CPTextFieldCachedDragFunction</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l00058">CPTextField.j:58</a></div></div>
<div class="ttc" id="class_c_p_view_html_a341a7f0e27443caef4f11ac50d0ebfd4"><div class="ttname"><a href="class_c_p_view.html#a341a7f0e27443caef4f11ac50d0ebfd4">-[CPView createEphemeralSubviewNamed:]</a></div><div class="ttdeci">CPView createEphemeralSubviewNamed:(CPString aViewName)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_view_8j_source.html#l03397">CPView.j:3397</a></div></div>
<div class="ttc" id="_c_p_text_8j_html_a1fa43f931f7cf53966f522d0c4a46bef"><div class="ttname"><a href="_c_p_text_8j.html#a1fa43f931f7cf53966f522d0c4a46bef">CPNaturalTextAlignment</a></div><div class="ttdeci">CPNaturalTextAlignment</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_8j_source.html#l00080">CPText.j:80</a></div></div>
<div class="ttc" id="interface_c_p_notification_html_ae82791f0df782d1ca0e8ae0ab7676fec"><div class="ttname"><a href="interface_c_p_notification.html#ae82791f0df782d1ca0e8ae0ab7676fec">-[CPNotification initWithName:object:userInfo:]</a></div><div class="ttdeci">id initWithName:object:userInfo:(CPString aNotificationName, [object] id anObject, [userInfo] CPDictionary aUserInfo)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_notification_8j_source.html#l00083">CPNotification.j:83</a></div></div>
<div class="ttc" id="interface_c_p_text_field_html_a3da0a821aa41434e59383fc020f4208b"><div class="ttname"><a href="interface_c_p_text_field.html#a3da0a821aa41434e59383fc020f4208b">-[CPTextField setPlaceholderString:]</a></div><div class="ttdeci">void setPlaceholderString:(CPString aStringValue)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l01366">CPTextField.j:1366</a></div></div>
<div class="ttc" id="group__foundation_html_ga9a9c6e53b2b0861cedbb77b5ab72e78f"><div class="ttname"><a href="group__foundation.html#ga9a9c6e53b2b0861cedbb77b5ab72e78f">CPMaxRange</a></div><div class="ttdeci">function CPMaxRange(aRange)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_range_8j_source.html#l00070">CPRange.j:70</a></div></div>
<div class="ttc" id="interface_c_p_control_html"><div class="ttname"><a href="interface_c_p_control.html">CPControl</a></div><div class="ttdef"><b>Definition:</b> <a href="_c_p_control_8h_source.html#l00002">CPControl.h:2</a></div></div>
<div class="ttc" id="interface_c_p_string_html"><div class="ttname"><a href="interface_c_p_string.html">CPString</a></div><div class="ttdoc">An immutable string (collection of characters). </div><div class="ttdef"><b>Definition:</b> <a href="_foundation_8doc_2_c_p_string_8h_source.html#l00002">CPString.h:2</a></div></div>
<div class="ttc" id="interface_c_p_null_html_a589123ee618828f2e89a5776409e1592"><div class="ttname"><a href="interface_c_p_null.html#a589123ee618828f2e89a5776409e1592">+[CPNull null]</a></div><div class="ttdeci">CPNull null()</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_null_8j_source.html#l00051">CPNull.j:51</a></div></div>
<div class="ttc" id="_c_p_compatibility_8j_html_a4b19b975a8d2bb099d44a51a90fef4f1"><div class="ttname"><a href="_c_p_compatibility_8j.html#a4b19b975a8d2bb099d44a51a90fef4f1">CPAltEnterTextAreaFeature</a></div><div class="ttdeci">CPAltEnterTextAreaFeature</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_compatibility_8j_source.html#l00081">CPCompatibility.j:81</a></div></div>
<div class="ttc" id="_c_a_backing_store_8j_html_ad2b049b1f6911d2ffffc0769dfe601e4"><div class="ttname"><a href="_c_a_backing_store_8j.html#ad2b049b1f6911d2ffffc0769dfe601e4">if</a></div><div class="ttdeci">if(CPFeatureIsCompatible(CPHTMLCanvasFeature))</div><div class="ttdef"><b>Definition:</b> <a href="_c_a_backing_store_8j_source.html#l00032">CABackingStore.j:32</a></div></div>
<div class="ttc" id="interface_c_p_run_loop_html_a72897726b6fe227f34337d696b20ec99"><div class="ttname"><a href="interface_c_p_run_loop.html#a72897726b6fe227f34337d696b20ec99">+[CPRunLoop mainRunLoop]</a></div><div class="ttdeci">CPRunLoop mainRunLoop()</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_run_loop_8j_source.html#l00240">CPRunLoop.j:240</a></div></div>
<div class="ttc" id="_c_p_text_field_8j_html_a9c077ecbffbdea5aea02335f91281a92"><div class="ttname"><a href="_c_p_text_field_8j.html#a9c077ecbffbdea5aea02335f91281a92">CPTextFieldInputIsActive</a></div><div class="ttdeci">var CPTextFieldInputIsActive</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l00056">CPTextField.j:56</a></div></div>
<div class="ttc" id="interface_c_p_control_html_a929f38231fbaf20e55be493035090996"><div class="ttname"><a href="interface_c_p_control.html#a929f38231fbaf20e55be493035090996">-[CPControl sendAction:to:]</a></div><div class="ttdeci">BOOL sendAction:to:(SEL anAction, [to] id anObject)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_control_8j_source.html#l00319">CPControl.j:319</a></div></div>
<div class="ttc" id="_c_p_compatibility_8j_html_a1fbfe7ca6b2cef354ecfe78f6cfd6659"><div class="ttname"><a href="_c_p_compatibility_8j.html#a1fbfe7ca6b2cef354ecfe78f6cfd6659">CPFeatureIsCompatible</a></div><div class="ttdeci">function CPFeatureIsCompatible(aFeature)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_compatibility_8j_source.html#l00311">CPCompatibility.j:311</a></div></div>
<div class="ttc" id="interface_c_p_control_html_a5fa4c5742658ddf92bf797c07eda4704"><div class="ttname"><a href="interface_c_p_control.html#a5fa4c5742658ddf92bf797c07eda4704">-[CPControl action]</a></div><div class="ttdeci">SEL action()</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_control_8j_source.html#l00290">CPControl.j:290</a></div></div>
<div class="ttc" id="interface_c_p_control_html_af4941048c1888b63d6919f6ee5367c15"><div class="ttname"><a href="interface_c_p_control.html#af4941048c1888b63d6919f6ee5367c15">-[CPControl initWithCoder:]</a></div><div class="ttdeci">id initWithCoder:(CPCoder aCoder)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_control_8j_source.html#l01092">CPControl.j:1092</a></div></div>
<div class="ttc" id="_c_p_text_field_8j_html_afc00109c001c17251046c0e5a86e96f2"><div class="ttname"><a href="_c_p_text_field_8j.html#afc00109c001c17251046c0e5a86e96f2">CPTextFieldBezelStyleKey</a></div><div class="ttdeci">var CPTextFieldBezelStyleKey</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l02042">CPTextField.j:2042</a></div></div>
<div class="ttc" id="interface_c_p_run_loop_html_a3362183f1d34e99c2432b190b4a49efb"><div class="ttname"><a href="interface_c_p_run_loop.html#a3362183f1d34e99c2432b190b4a49efb">-[CPRunLoop performBlock:argument:order:modes:]</a></div><div class="ttdeci">void performBlock:argument:order:modes:(Function aBlock, [argument] id anArgument, [order] int anOrder, [modes] CPArray modes)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_run_loop_8j_source.html#l00270">CPRunLoop.j:270</a></div></div>
<div class="ttc" id="interface_c_p_text_field_html"><div class="ttname"><a href="interface_c_p_text_field.html">CPTextField</a></div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8h_source.html#l00002">CPTextField.h:2</a></div></div>
<div class="ttc" id="interface_c_p_text_field_html_a9cf8e6fa18aec8d3d52d9f1daeeebbba"><div class="ttname"><a href="interface_c_p_text_field.html#a9cf8e6fa18aec8d3d52d9f1daeeebbba">-[CPTextField acceptsFirstResponder]</a></div><div class="ttdeci">BOOL acceptsFirstResponder()</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l00590">CPTextField.j:590</a></div></div>
<div class="ttc" id="interface_c_p_control_html_a854b4f0dc6eb03d7a7d95efd0ae0be0b"><div class="ttname"><a href="interface_c_p_control.html#a854b4f0dc6eb03d7a7d95efd0ae0be0b">-[CPControl setTextColor:]</a></div><div class="ttdeci">void setTextColor:(CPColor aColor)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_control_8j_source.html#l00841">CPControl.j:841</a></div></div>
<div class="ttc" id="class_c_p_color_html"><div class="ttname"><a href="class_c_p_color.html">CPColor</a></div><div class="ttdef"><b>Definition:</b> <a href="_c_p_color_8j_source.html#l00077">CPColor.j:77</a></div></div>
<div class="ttc" id="_c_p_text_field_8j_html_a3fe3e9244edde860c925603f0f5c9108"><div class="ttname"><a href="_c_p_text_field_8j.html#a3fe3e9244edde860c925603f0f5c9108">CPTextFieldDOMPasswordInputElement</a></div><div class="ttdeci">var CPTextFieldDOMPasswordInputElement</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l00051">CPTextField.j:51</a></div></div>
<div class="ttc" id="interface_c_p_text_field_html_abbb54f512bbb38c203287cbe44df36f0"><div class="ttname"><a href="interface_c_p_text_field.html#abbb54f512bbb38c203287cbe44df36f0">-[CPTextField contentRectForBounds:]</a></div><div class="ttdeci">CGRect contentRectForBounds:(CGRect bounds)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l01808">CPTextField.j:1808</a></div></div>
<div class="ttc" id="interface_c_p_text_field_html_a1e2b51581d192251faa9a6900dcda64d"><div class="ttname"><a href="interface_c_p_text_field.html#a1e2b51581d192251faa9a6900dcda64d">-[CPTextField isEditable]</a></div><div class="ttdeci">BOOL isEditable()</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l00403">CPTextField.j:403</a></div></div>
<div class="ttc" id="class_c_p_view_html_a695368bc818096a7ae173f955fa1bd2c"><div class="ttname"><a href="class_c_p_view.html#a695368bc818096a7ae173f955fa1bd2c">-[CPView setNeedsDisplay:]</a></div><div class="ttdeci">void setNeedsDisplay:(BOOL aFlag)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_view_8j_source.html#l02597">CPView.j:2597</a></div></div>
<div class="ttc" id="_c_p_text_field_8j_html_adddc9a81ebb0fe95fe16902ca3c436f5"><div class="ttname"><a href="_c_p_text_field_8j.html#adddc9a81ebb0fe95fe16902ca3c436f5">CPTextFieldPlaceholderStringKey</a></div><div class="ttdeci">var CPTextFieldPlaceholderStringKey</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l02047">CPTextField.j:2047</a></div></div>
<div class="ttc" id="_c_p_text_field_8j_html_a1356b4016b8b48424a553fca132d63ea"><div class="ttname"><a href="_c_p_text_field_8j.html#a1356b4016b8b48424a553fca132d63ea">CPTextFieldDelegate_controlTextDidChange_</a></div><div class="ttdeci">var CPTextFieldDelegate_controlTextDidChange_</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l00035">CPTextField.j:35</a></div></div>
<div class="ttc" id="_c_p_text_field_8j_html_a83312094a6f7f1255a156d27cc88a4a9"><div class="ttname"><a href="_c_p_text_field_8j.html#a83312094a6f7f1255a156d27cc88a4a9">CPTextFieldStateRounded</a></div><div class="ttdeci">CPTextFieldStateRounded</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l00110">CPTextField.j:110</a></div></div>
<div class="ttc" id="interface_c_p_control_html_a2eb8d5153bd169296f25a9a6a0af9c18"><div class="ttname"><a href="interface_c_p_control.html#a2eb8d5153bd169296f25a9a6a0af9c18">-[CPControl alignment]</a></div><div class="ttdeci">CPTextAlignment alignment()</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_control_8j_source.html#l00784">CPControl.j:784</a></div></div>
<div class="ttc" id="_c_p_text_field_8j_html_a980528c034ab9ad8a4fe446d70394a5c"><div class="ttname"><a href="_c_p_text_field_8j.html#a980528c034ab9ad8a4fe446d70394a5c">CPSecureTextFieldCharacter</a></div><div class="ttdeci">var CPSecureTextFieldCharacter</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l00063">CPTextField.j:63</a></div></div>
<div class="ttc" id="category_c_p_text_field_07_c_p_tracking_area_08_html"><div class="ttname"><a href="category_c_p_text_field_07_c_p_tracking_area_08.html">CPTextField(CPTrackingArea)</a></div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l02181">CPTextField.j:2181</a></div></div>
<div class="ttc" id="interface_c_p_text_field_html_a05ad936fc6f71457265a3605fcc5a5fa"><div class="ttname"><a href="interface_c_p_text_field.html#a05ad936fc6f71457265a3605fcc5a5fa">-[CPTextField bezelRectForBounds:]</a></div><div class="ttdeci">CGRect bezelRectForBounds:(CGRect bounds)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l01815">CPTextField.j:1815</a></div></div>
<div class="ttc" id="interface_c_p_event_html_af9a0e45bbaba9bc6587a222e74bf0703"><div class="ttname"><a href="interface_c_p_event.html#af9a0e45bbaba9bc6587a222e74bf0703">-[CPEvent window]</a></div><div class="ttdeci">CPWindow window()</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_event_8j_source.html#l00341">CPEvent.j:341</a></div></div>
<div class="ttc" id="_c_p_application___constants_8j_html_a428912231c07effc32c420ee523bf0b7"><div class="ttname"><a href="_c_p_application___constants_8j.html#a428912231c07effc32c420ee523bf0b7">CPApp</a></div><div class="ttdeci">CPApp</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_application___constants_8j_source.html#l00023">CPApplication_Constants.j:23</a></div></div>
<div class="ttc" id="interface_c_p_string_html_a995ca4d2f7167db0da2fad02a444ec73"><div class="ttname"><a href="interface_c_p_string.html#a995ca4d2f7167db0da2fad02a444ec73">-[CPString length]</a></div><div class="ttdeci">int length()</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_string_8j_source.html#l00186">CPString.j:186</a></div></div>
<div class="ttc" id="_c_p_control_8j_html_a4035543556fe7b0a5a5343ec3f106128"><div class="ttname"><a href="_c_p_control_8j.html#a4035543556fe7b0a5a5343ec3f106128">CPTopVerticalTextAlignment</a></div><div class="ttdeci">CPVerticalTextAlignment CPTopVerticalTextAlignment</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_control_8j_source.html#l00053">CPControl.j:53</a></div></div>
<div class="ttc" id="_c_p_text_field_8j_html_a38dea2bda643ff60a88fce596e9cb064"><div class="ttname"><a href="_c_p_text_field_8j.html#a38dea2bda643ff60a88fce596e9cb064">secureStringForString</a></div><div class="ttdeci">var secureStringForString</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l02028">CPTextField.j:2028</a></div></div>
<div class="ttc" id="interface_c_p_control_html_a4d4f2f22a6ff3a44a976929e388757fa"><div class="ttname"><a href="interface_c_p_control.html#a4d4f2f22a6ff3a44a976929e388757fa">-[CPControl setStringValue:]</a></div><div class="ttdeci">void setStringValue:(CPString aString)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_control_8j_source.html#l00629">CPControl.j:629</a></div></div>
<div class="ttc" id="interface_c_p_notification_html"><div class="ttname"><a href="interface_c_p_notification.html">CPNotification</a></div><div class="ttdoc">A notification that can be posted to a CPNotificationCenter. </div><div class="ttdef"><b>Definition:</b> <a href="_c_p_notification_8h_source.html#l00002">CPNotification.h:2</a></div></div>
<div class="ttc" id="interface_c_p_timer_html_a6a4438b47dd6a2a2643b3c91cd0996d4"><div class="ttname"><a href="interface_c_p_timer.html#a6a4438b47dd6a2a2643b3c91cd0996d4">+[CPTimer scheduledTimerWithTimeInterval:target:selector:userInfo:repeats:]</a></div><div class="ttdeci">CPTimer scheduledTimerWithTimeInterval:target:selector:userInfo:repeats:(CPTimeInterval seconds, [target] id aTarget, [selector] SEL aSelector, [userInfo] id userInfo, [repeats] BOOL shouldRepeat)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_timer_8j_source.html#l00058">CPTimer.j:58</a></div></div>
<div class="ttc" id="interface_c_p_run_loop_html_aad8e51e44d4c17634d8c45c1ca540217"><div class="ttname"><a href="interface_c_p_run_loop.html#aad8e51e44d4c17634d8c45c1ca540217">-[CPRunLoop limitDateForMode:]</a></div><div class="ttdeci">CPDate limitDateForMode:(CPString aMode)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_run_loop_8j_source.html#l00342">CPRunLoop.j:342</a></div></div>
<div class="ttc" id="_c_p_text_field_8j_html_a50bacf57c023263265f5f1e7e681489d"><div class="ttname"><a href="_c_p_text_field_8j.html#a50bacf57c023263265f5f1e7e681489d">CPTextFieldRoundedBezel</a></div><div class="ttdeci">CPTextFieldRoundedBezel</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l00043">CPTextField.j:43</a></div></div>
<div class="ttc" id="_c_p_text_field_8j_html_a2fe35991cd9780b24caaaa766fde85f2"><div class="ttname"><a href="_c_p_text_field_8j.html#a2fe35991cd9780b24caaaa766fde85f2">CPTextFieldIsEditableKey</a></div><div class="ttdeci">var CPTextFieldIsEditableKey</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l02038">CPTextField.j:2038</a></div></div>
<div class="ttc" id="interface_c_p_theme_html_a19028d2f26f8d89be574ebdbdcfa5f16"><div class="ttname"><a href="interface_c_p_theme.html#a19028d2f26f8d89be574ebdbdcfa5f16">+[CPTheme defaultTheme]</a></div><div class="ttdeci">CPTheme defaultTheme()</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_theme_8j_source.html#l00044">CPTheme.j:44</a></div></div>
<div class="ttc" id="class_c_p_multiple_value_and_binding_html"><div class="ttname"><a href="class_c_p_multiple_value_and_binding.html">CPMultipleValueAndBinding</a></div><div class="ttdef"><b>Definition:</b> <a href="_c_p_key_value_binding_8j_source.html#l00574">CPKeyValueBinding.j:574</a></div></div>
<div class="ttc" id="class_c_p_view_html_a39431c7a00864c9ddfe57c191fd82ccf"><div class="ttname"><a href="class_c_p_view.html#a39431c7a00864c9ddfe57c191fd82ccf">-[CPView setNeedsLayout]</a></div><div class="ttdeci">void setNeedsLayout()</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_view_8j_source.html#l02748">CPView.j:2748</a></div></div>
<div class="ttc" id="interface_c_p_control_html_af9e1603a9c6e86d8ff0c79b63cbaa953"><div class="ttname"><a href="interface_c_p_control.html#af9e1603a9c6e86d8ff0c79b63cbaa953">-[CPControl target]</a></div><div class="ttdeci">id target()</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_control_8j_source.html#l00308">CPControl.j:308</a></div></div>
<div class="ttc" id="_c_p_control_8j_html_a3e5a840b60911edb23b417fcf53a88fa"><div class="ttname"><a href="_c_p_control_8j.html#a3e5a840b60911edb23b417fcf53a88fa">CPBottomVerticalTextAlignment</a></div><div class="ttdeci">CPBottomVerticalTextAlignment</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_control_8j_source.html#l00055">CPControl.j:55</a></div></div>
<div class="ttc" id="_c_p_text_field_8j_html_a466714c4a6b20cb20c10d1816a630f76"><div class="ttname"><a href="_c_p_text_field_8j.html#a466714c4a6b20cb20c10d1816a630f76">CPTextFieldDOMCurrentElement</a></div><div class="ttdeci">var CPTextFieldDOMCurrentElement</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l00048">CPTextField.j:48</a></div></div>
<div class="ttc" id="interface_c_p_platform_string_html"><div class="ttname"><a href="interface_c_p_platform_string.html">CPPlatformString</a></div><div class="ttdef"><b>Definition:</b> <a href="_c_p_platform_string_8h_source.html#l00002">CPPlatformString.h:2</a></div></div>
<div class="ttc" id="interface_c_p_timer_html"><div class="ttname"><a href="interface_c_p_timer.html">CPTimer</a></div><div class="ttdoc">A timer object that can send a message after the given time interval. </div><div class="ttdef"><b>Definition:</b> <a href="_c_p_timer_8h_source.html#l00002">CPTimer.h:2</a></div></div>
<div class="ttc" id="interface_c_p_pasteboard_html"><div class="ttname"><a href="interface_c_p_pasteboard.html">CPPasteboard</a></div><div class="ttdef"><b>Definition:</b> <a href="_c_p_pasteboard_8h_source.html#l00002">CPPasteboard.h:2</a></div></div>
<div class="ttc" id="interface_c_p_coder_html"><div class="ttname"><a href="interface_c_p_coder.html">CPCoder</a></div><div class="ttdoc">Defines methods for use when archiving &amp; restoring (enc/decoding). </div><div class="ttdef"><b>Definition:</b> <a href="_c_p_coder_8h_source.html#l00002">CPCoder.h:2</a></div></div>
<div class="ttc" id="interface_c_p_text_field_html_a3f30f1a468f04f40871971bf9f16a203"><div class="ttname"><a href="interface_c_p_text_field.html#a3f30f1a468f04f40871971bf9f16a203">-[CPTextField isSelectable]</a></div><div class="ttdeci">BOOL isSelectable()</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l00437">CPTextField.j:437</a></div></div>
<div class="ttc" id="interface_c_p_control_html_a7f7c0c9656dd0b2c9c1b920c4619d4d9"><div class="ttname"><a href="interface_c_p_control.html#a7f7c0c9656dd0b2c9c1b920c4619d4d9">-[CPControl setAlignment:]</a></div><div class="ttdeci">void setAlignment:(CPTextAlignment alignment)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_control_8j_source.html#l00776">CPControl.j:776</a></div></div>
<div class="ttc" id="class_c_p_view_html_a24c41e71d0fd83439e66df0b3f07279c"><div class="ttname"><a href="class_c_p_view.html#a24c41e71d0fd83439e66df0b3f07279c">-[CPView unsetThemeState:]</a></div><div class="ttdeci">BOOL unsetThemeState:(ThemeState aState)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_view_8j_source.html#l03268">CPView.j:3268</a></div></div>
<div class="ttc" id="interface_c_p_notification_center_html"><div class="ttname"><a href="interface_c_p_notification_center.html">CPNotificationCenter</a></div><div class="ttdoc">Sends messages (CPNotification) between objects. </div><div class="ttdef"><b>Definition:</b> <a href="_c_p_notification_center_8h_source.html#l00002">CPNotificationCenter.h:2</a></div></div>
<div class="ttc" id="interface_c_p_notification_html_a85de5d79d60b13c0859bf8f1f6cda604"><div class="ttname"><a href="interface_c_p_notification.html#a85de5d79d60b13c0859bf8f1f6cda604">+[CPNotification notificationWithName:object:userInfo:]</a></div><div class="ttdeci">CPNotification notificationWithName:object:userInfo:(CPString aNotificationName, [object] id anObject, [userInfo] CPDictionary aUserInfo)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_notification_8j_source.html#l00050">CPNotification.j:50</a></div></div>
<div class="ttc" id="interface_c_p_text_field_html_a70333a3ed2aea8b7ad8baf08269a751c"><div class="ttname"><a href="interface_c_p_text_field.html#a70333a3ed2aea8b7ad8baf08269a751c">-[CPTextField placeholderString]</a></div><div class="ttdeci">CPString placeholderString()</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l01384">CPTextField.j:1384</a></div></div>
<div class="ttc" id="class_c_p_view_html_ae130b9540032c8fc5a96b01f0f793eb8"><div class="ttname"><a href="class_c_p_view.html#ae130b9540032c8fc5a96b01f0f793eb8">-[CPView addTrackingArea:]</a></div><div class="ttdeci">void addTrackingArea:(CPTrackingArea trackingArea)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_view_8j_source.html#l03552">CPView.j:3552</a></div></div>
<div class="ttc" id="interface_c_p_theme_html"><div class="ttname"><a href="interface_c_p_theme.html">CPTheme</a></div><div class="ttdef"><b>Definition:</b> <a href="_c_p_theme_8h_source.html#l00002">CPTheme.h:2</a></div></div>
<div class="ttc" id="interface_c_p_text_field_html_a29e97c91c2249509c1ebe062daf0a157"><div class="ttname"><a href="interface_c_p_text_field.html#a29e97c91c2249509c1ebe062daf0a157">-[CPTextField setSelectable:]</a></div><div class="ttdeci">void setSelectable:(BOOL aFlag)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l00427">CPTextField.j:427</a></div></div>
<div class="ttc" id="_c_p_text_8j_html_af404a1318823b69e89dfd318daed63ff"><div class="ttname"><a href="_c_p_text_8j.html#af404a1318823b69e89dfd318daed63ff">CPNewlineCharacter</a></div><div class="ttdeci">CPNewlineCharacter</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_8j_source.html#l00052">CPText.j:52</a></div></div>
<div class="ttc" id="interface_c_p_control_html_a111e7270bee843c12a139d8e32fda5f7"><div class="ttname"><a href="interface_c_p_control.html#a111e7270bee843c12a139d8e32fda5f7">-[CPControl lineBreakMode]</a></div><div class="ttdeci">CPLineBreakMode lineBreakMode()</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_control_8j_source.html#l00831">CPControl.j:831</a></div></div>
<div class="ttc" id="interface_c_p_event_html_a0370261e16fa1b67388c1a027efff02a"><div class="ttname"><a href="interface_c_p_event.html#a0370261e16fa1b67388c1a027efff02a">+[CPEvent currentTimestamp]</a></div><div class="ttdeci">CPTimeInterval currentTimestamp()</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_event_8j_source.html#l00084">CPEvent.j:84</a></div></div>
<div class="ttc" id="interface_c_p_text_field_html_a291f7145465240af5d473cfe0e7b84d7"><div class="ttname"><a href="interface_c_p_text_field.html#a291f7145465240af5d473cfe0e7b84d7">-[CPTextField setValue:forThemeAttribute:]</a></div><div class="ttdeci">void setValue:forThemeAttribute:(id aValue, [forThemeAttribute] CPString aName)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l02226">CPTextField.j:2226</a></div></div>
<div class="ttc" id="_c_p_text_field_8j_html_a3353c16b8f9ac50c07fe417be8d616f6"><div class="ttname"><a href="_c_p_text_field_8j.html#a3353c16b8f9ac50c07fe417be8d616f6">CPTextFieldDelegate_controlTextDidFocus_</a></div><div class="ttdeci">var CPTextFieldDelegate_controlTextDidFocus_</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l00037">CPTextField.j:37</a></div></div>
<div class="ttc" id="_c_p_text_field_8j_html_ac6d8bb04140e0152fc5b9d857937728b"><div class="ttname"><a href="_c_p_text_field_8j.html#ac6d8bb04140e0152fc5b9d857937728b">CPTextFieldLineBreakModeKey</a></div><div class="ttdeci">var CPTextFieldLineBreakModeKey</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l02044">CPTextField.j:2044</a></div></div>
<div class="ttc" id="_c_p_text_field_8j_html_a92d704ae86a2b7d59a27904278e4da2d"><div class="ttname"><a href="_c_p_text_field_8j.html#a92d704ae86a2b7d59a27904278e4da2d">CPTextFieldBlurHandler</a></div><div class="ttdeci">var CPTextFieldBlurHandler</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l00059">CPTextField.j:59</a></div></div>
<div class="ttc" id="interface_c_p_text_field_html_aeefcb9b9d91dd9898f1e850bbc84ef1a"><div class="ttname"><a href="interface_c_p_text_field.html#aeefcb9b9d91dd9898f1e850bbc84ef1a">-[CPTextField textDidEndEditing:]</a></div><div class="ttdeci">void textDidEndEditing:(CPNotification note)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l01243">CPTextField.j:1243</a></div></div>
<div class="ttc" id="interface_c_p_text_field_html_a39ab8403f2a79143a33cb5d47cd1cc4f"><div class="ttname"><a href="interface_c_p_text_field.html#a39ab8403f2a79143a33cb5d47cd1cc4f">+[CPTextField roundedTextFieldWithStringValue:placeholder:width:theme:]</a></div><div class="ttdeci">CPTextField roundedTextFieldWithStringValue:placeholder:width:theme:(CPString aStringValue, [placeholder] CPString aPlaceholder, [width] float aWidth, [theme] CPTheme aTheme)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l00183">CPTextField.j:183</a></div></div>
<div class="ttc" id="_c_p_text_field_8j_html_af167eddeb6464661d8cdc1ffe75d6278"><div class="ttname"><a href="_c_p_text_field_8j.html#af167eddeb6464661d8cdc1ffe75d6278">CPTextFieldInputDidBlur</a></div><div class="ttdeci">var CPTextFieldInputDidBlur</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l00055">CPTextField.j:55</a></div></div>
<div class="ttc" id="_c_p_control_8j_html_adfcc1b2b7891e0012b59d3d256bfdf46"><div class="ttname"><a href="_c_p_control_8j.html#adfcc1b2b7891e0012b59d3d256bfdf46">CPLineBreakByWordWrapping</a></div><div class="ttdeci">CPLineBreakMode CPLineBreakByWordWrapping</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_control_8j_source.html#l00045">CPControl.j:45</a></div></div>
<div class="ttc" id="class_c_p_view_html_a8237df9b00fb6c4f84f6c2bef131293a"><div class="ttname"><a href="class_c_p_view.html#a8237df9b00fb6c4f84f6c2bef131293a">-[CPView setFrameSize:]</a></div><div class="ttdeci">void setFrameSize:(CGSize aSize)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_view_8j_source.html#l01124">CPView.j:1124</a></div></div>
<div class="ttc" id="_c_p_text_field_8j_html_a7dc987ba37b27315a9b043e0c6b26c78"><div class="ttname"><a href="_c_p_text_field_8j.html#a7dc987ba37b27315a9b043e0c6b26c78">CPTextFieldUsesSingleLineMode</a></div><div class="ttdeci">var CPTextFieldUsesSingleLineMode</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l02048">CPTextField.j:2048</a></div></div>
<div class="ttc" id="_c_p_text_field_8j_html_ad22e4e00c0d5410a28572c9ea9fc8315"><div class="ttname"><a href="_c_p_text_field_8j.html#ad22e4e00c0d5410a28572c9ea9fc8315">CPTextFieldDOMTextAreaElement</a></div><div class="ttdeci">var CPTextFieldDOMTextAreaElement</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l00049">CPTextField.j:49</a></div></div>
<div class="ttc" id="interface_c_p_text_field_html_ad8eaff6bdddbf2c424c090e3be9076d9"><div class="ttname"><a href="interface_c_p_text_field.html#ad8eaff6bdddbf2c424c090e3be9076d9">-[CPTextField updateTrackingAreas]</a></div><div class="ttdeci">void updateTrackingAreas()</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l02186">CPTextField.j:2186</a></div></div>
<div class="ttc" id="_c_p_text_field_8j_html_ace23af555767a4e15bdeb9ae1f86b5f4"><div class="ttname"><a href="_c_p_text_field_8j.html#ace23af555767a4e15bdeb9ae1f86b5f4">CPTextFieldStatePlaceholder</a></div><div class="ttdeci">CPTextFieldStatePlaceholder</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l00111">CPTextField.j:111</a></div></div>
<div class="ttc" id="interface_c_p_notification_center_html_a6a1a610cd3bd1fdc3eb6a9fe45d41ea7"><div class="ttname"><a href="interface_c_p_notification_center.html#a6a1a610cd3bd1fdc3eb6a9fe45d41ea7">-[CPNotificationCenter removeObserver:name:object:]</a></div><div class="ttdeci">void removeObserver:name:object:(id anObserver, [name] CPString aNotificationName, [object] id anObject)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_notification_center_8j_source.html#l00141">CPNotificationCenter.j:141</a></div></div>
<div class="ttc" id="_c_p_text_field_8j_html_a31796fa1cc8d42730021067884895902"><div class="ttname"><a href="_c_p_text_field_8j.html#a31796fa1cc8d42730021067884895902">CPTexFieldCurrentCSSSelectableField</a></div><div class="ttdeci">var CPTexFieldCurrentCSSSelectableField</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l00061">CPTextField.j:61</a></div></div>
<div class="ttc" id="interface_c_p_cursor_html_a6617eeea2bcccabd49bd0dc960ebbd30"><div class="ttname"><a href="interface_c_p_cursor.html#a6617eeea2bcccabd49bd0dc960ebbd30">-[CPCursor set]</a></div><div class="ttdeci">void set()</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_cursor_8j_source.html#l00128">CPCursor.j:128</a></div></div>
<div class="ttc" id="_c_p_text_field_8j_html_af1e3f5a6aea1be5c29a3d7be4bb528a4"><div class="ttname"><a href="_c_p_text_field_8j.html#af1e3f5a6aea1be5c29a3d7be4bb528a4">CPTextFieldDrawsBackgroundKey</a></div><div class="ttdeci">var CPTextFieldDrawsBackgroundKey</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l02043">CPTextField.j:2043</a></div></div>
<div class="ttc" id="interface_c_p_event_html"><div class="ttname"><a href="interface_c_p_event.html">CPEvent</a></div><div class="ttdef"><b>Definition:</b> <a href="_c_p_event_8h_source.html#l00002">CPEvent.h:2</a></div></div>
<div class="ttc" id="interface_c_p_text_field_html_acbfe4cc69711826967adcbb6b66d46c9"><div class="ttname"><a href="interface_c_p_text_field.html#acbfe4cc69711826967adcbb6b66d46c9">-[CPTextField setTextFieldBackgroundColor:]</a></div><div class="ttdeci">void setTextFieldBackgroundColor:(CPColor aColor)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l00552">CPTextField.j:552</a></div></div>
<div class="ttc" id="_c_p_text_field_8j_html_a4dcb1d5c1218deb66015b64667d560e8"><div class="ttname"><a href="_c_p_text_field_8j.html#a4dcb1d5c1218deb66015b64667d560e8">CPTextFieldBackgroundColorKey</a></div><div class="ttdeci">var CPTextFieldBackgroundColorKey</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l02046">CPTextField.j:2046</a></div></div>
<div class="ttc" id="_c_p_event___constants_8j_html_a0cb2d4bf26a5dcd356dbf102a37f316b"><div class="ttname"><a href="_c_p_event___constants_8j.html#a0cb2d4bf26a5dcd356dbf102a37f316b">CPKeyDownMask</a></div><div class="ttdeci">CPKeyDownMask</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_event___constants_8j_source.html#l00074">CPEvent_Constants.j:74</a></div></div>
<div class="ttc" id="interface_c_p_tracking_area_html_a89531a568f17c2573b345517ce34a414"><div class="ttname"><a href="interface_c_p_tracking_area.html#a89531a568f17c2573b345517ce34a414">-[CPTrackingArea initWithRect:options:owner:userInfo:]</a></div><div class="ttdeci">CPTrackingArea initWithRect:options:owner:userInfo:(CGRect aRect, [options] CPTrackingAreaOptions options, [owner] id owner, [userInfo] CPDictionary userInfo)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_tracking_area_8j_source.html#l00077">CPTrackingArea.j:77</a></div></div>
<div class="ttc" id="_c_p_text_8j_html_a1a27f1ba54d9210fd64849b846de7929"><div class="ttname"><a href="_c_p_text_8j.html#a1a27f1ba54d9210fd64849b846de7929">CPCenterTextAlignment</a></div><div class="ttdeci">CPCenterTextAlignment</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_8j_source.html#l00078">CPText.j:78</a></div></div>
<div class="ttc" id="class_c_p_value_with_pattern_binding_html"><div class="ttname"><a href="class_c_p_value_with_pattern_binding.html">CPValueWithPatternBinding</a></div><div class="ttdef"><b>Definition:</b> <a href="_c_p_key_value_binding_8j_source.html#l00820">CPKeyValueBinding.j:820</a></div></div>
<div class="ttc" id="interface_c_p_window_html_a0aefd4e1b2119ed015fcf990b3f167b5"><div class="ttname"><a href="interface_c_p_window.html#a0aefd4e1b2119ed015fcf990b3f167b5">-[CPWindow platformWindow]</a></div><div class="ttdeci">CPPlatformWindow platformWindow()</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_window_8j_source.html#l00389">CPWindow.j:389</a></div></div>
<div class="ttc" id="category_c_p_text_field_07_c_p_coding_08_html"><div class="ttname"><a href="category_c_p_text_field_07_c_p_coding_08.html">CPTextField(CPCoding)</a></div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l02053">CPTextField.j:2053</a></div></div>
<div class="ttc" id="interface_c_p_control_html_a33a1fdc9f21b66c8f7d70a279c3342f5"><div class="ttname"><a href="interface_c_p_control.html#a33a1fdc9f21b66c8f7d70a279c3342f5">-[CPControl updateTrackingAreas]</a></div><div class="ttdeci">void updateTrackingAreas()</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_control_8j_source.html#l01056">CPControl.j:1056</a></div></div>
<div class="ttc" id="_c_p_text_field_8j_html_af7a1afda2e12f9d6a5bdfe9e954a4594"><div class="ttname"><a href="_c_p_text_field_8j.html#af7a1afda2e12f9d6a5bdfe9e954a4594">CPTextFieldDidFocusNotification</a></div><div class="ttdeci">CPTextFieldDidFocusNotification</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l00045">CPTextField.j:45</a></div></div>
<div class="ttc" id="_c_p_text_field_8j_html_a65f24de4619fe487106b4e393ef06469"><div class="ttname"><a href="_c_p_text_field_8j.html#a65f24de4619fe487106b4e393ef06469">CPTextFieldInputResigning</a></div><div class="ttdeci">var CPTextFieldInputResigning</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l00054">CPTextField.j:54</a></div></div>
<div class="ttc" id="interface_c_p_number_html"><div class="ttname"><a href="interface_c_p_number.html">CPNumber</a></div><div class="ttdoc">A bridged object to native Javascript numbers. </div><div class="ttdef"><b>Definition:</b> <a href="_c_p_number_8h_source.html#l00002">CPNumber.h:2</a></div></div>
<div class="ttc" id="class_c_p_view_html_a86ec48e1eda747e4d99d0b5487011500"><div class="ttname"><a href="class_c_p_view.html#a86ec48e1eda747e4d99d0b5487011500">-[CPView viewDidUnhide]</a></div><div class="ttdeci">void viewDidUnhide()</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_view_8j_source.html#l01819">CPView.j:1819</a></div></div>
<div class="ttc" id="interface_c_p_control_html_a69e8aa13174c6c6f4f330cdc3b46ecd0"><div class="ttname"><a href="interface_c_p_control.html#a69e8aa13174c6c6f4f330cdc3b46ecd0">-[CPControl encodeWithCoder:]</a></div><div class="ttdeci">void encodeWithCoder:(CPCoder aCoder)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_control_8j_source.html#l01121">CPControl.j:1121</a></div></div>
<div class="ttc" id="category_c_p_text_field_07_table_data_view_08_html"><div class="ttname"><a href="category_c_p_text_field_07_table_data_view_08.html">CPTextField(TableDataView)</a></div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l02219">CPTextField.j:2219</a></div></div>
<div class="ttc" id="_c_p_text_field_8j_html_a9180d6322de1e67c6edbaecd081e8a65"><div class="ttname"><a href="_c_p_text_field_8j.html#a9180d6322de1e67c6edbaecd081e8a65">CPTextFieldScrolls</a></div><div class="ttdeci">var CPTextFieldScrolls</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l02050">CPTextField.j:2050</a></div></div>
<div class="ttc" id="group__foundation_html_gab09805608dfb3449e840c3ce22d7e7fe"><div class="ttname"><a href="group__foundation.html#gab09805608dfb3449e840c3ce22d7e7fe">CPMakeRange</a></div><div class="ttdeci">CPRange function CPMakeRange(location, length)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_range_8j_source.html#l00037">CPRange.j:37</a></div></div>
<div class="ttc" id="_c_p_text_field_8j_html_a5ed61015ba53c8bd466a7418c9c18040"><div class="ttname"><a href="_c_p_text_field_8j.html#a5ed61015ba53c8bd466a7418c9c18040">CPTextFieldBlurFunction</a></div><div class="ttdeci">function CPTextFieldBlurFunction(anEvent, owner, domElement, inputElement, resigning, didBlurRef)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l00065">CPTextField.j:65</a></div></div>
<div class="ttc" id="interface_c_p_control_html_a9065e987dc8cce608d1fe586dd036d25"><div class="ttname"><a href="interface_c_p_control.html#a9065e987dc8cce608d1fe586dd036d25">-[CPControl objectValue]</a></div><div class="ttdeci">id objectValue()</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_control_8j_source.html#l00526">CPControl.j:526</a></div></div>
<div class="ttc" id="_c_p_text_field_8j_html_aa248b7c973fa88bb5a5ff9e9a9cb5d09"><div class="ttname"><a href="_c_p_text_field_8j.html#aa248b7c973fa88bb5a5ff9e9a9cb5d09">CPTextFieldDelegate_control_didFailToFormatString_errorDescription_</a></div><div class="ttdeci">var CPTextFieldDelegate_control_didFailToFormatString_errorDescription_</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_text_field_8j_source.html#l00033">CPTextField.j:33</a></div></div>
<div class="ttc" id="interface_c_p_cursor_html_ad43813efaf020d6777702444386c8eb8"><div class="ttname"><a href="interface_c_p_cursor.html#ad43813efaf020d6777702444386c8eb8">+[CPCursor IBeamCursor]</a></div><div class="ttdeci">CPCursor IBeamCursor()</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_cursor_8j_source.html#l00256">CPCursor.j:256</a></div></div>
<div class="ttc" id="class_c_p_view_html_ac6d4166f3a66421d846de62c00debdb1"><div class="ttname"><a href="class_c_p_view.html#ac6d4166f3a66421d846de62c00debdb1">-[CPView layoutEphemeralSubviewNamed:positioned:relativeToEphemeralSubviewNamed:]</a></div><div class="ttdeci">CPView layoutEphemeralSubviewNamed:positioned:relativeToEphemeralSubviewNamed:(CPString aViewName, [positioned] CPWindowOrderingMode anOrderingMode, [relativeToEphemeralSubviewNamed] CPString relativeToViewName)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_view_8j_source.html#l03407">CPView.j:3407</a></div></div>
<div class="ttc" id="class_c_p_view_html_a3ecef3547877f89ea0a66f86ce1a0d84"><div class="ttname"><a href="class_c_p_view.html#a3ecef3547877f89ea0a66f86ce1a0d84">-[CPView removeTrackingArea:]</a></div><div class="ttdeci">void removeTrackingArea:(CPTrackingArea trackingArea)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_view_8j_source.html#l03570">CPView.j:3570</a></div></div>
<div class="ttc" id="_c_p_control_8j_html_a0edc061c14c3b788f351f1c467909ac5"><div class="ttname"><a href="_c_p_control_8j.html#a0edc061c14c3b788f351f1c467909ac5">CPCenterVerticalTextAlignment</a></div><div class="ttdeci">CPCenterVerticalTextAlignment</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_control_8j_source.html#l00054">CPControl.j:54</a></div></div>
<div class="ttc" id="class_c_p_object_html_aa6d290852c6a151058e8e82d053db475"><div class="ttname"><a href="class_c_p_object.html#aa6d290852c6a151058e8e82d053db475">+[CPObject alloc]</a></div><div class="ttdeci">id alloc()</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_object_8j_source.html#l00130">CPObject.j:130</a></div></div>
<div class="ttc" id="class_c_p_view_html_ade645badc201b577294c35fbf260341d"><div class="ttname"><a href="class_c_p_view.html#ade645badc201b577294c35fbf260341d">-[CPView rectForEphemeralSubviewNamed:]</a></div><div class="ttdeci">CGRect rectForEphemeralSubviewNamed:(CPString aViewName)</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_view_8j_source.html#l03402">CPView.j:3402</a></div></div>
<div class="ttc" id="class_c_p_view_html"><div class="ttname"><a href="class_c_p_view.html">CPView</a></div><div class="ttdef"><b>Definition:</b> <a href="_c_p_view_8j_source.html#l00137">CPView.j:137</a></div></div>
<div class="ttc" id="_c_p_compatibility_8j_html_a3b8c323b003e906eb02f0e535d24f585"><div class="ttname"><a href="_c_p_compatibility_8j.html#a3b8c323b003e906eb02f0e535d24f585">CPInput1PxLeftPadding</a></div><div class="ttdeci">CPInput1PxLeftPadding</div><div class="ttdef"><b>Definition:</b> <a href="_c_p_compatibility_8j_source.html#l00076">CPCompatibility.j:76</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_0e4e8176c2dd688a0cdab60948de03e6.html">AppKit</a></li><li class="navelem"><a class="el" href="_c_p_text_field_8j.html">CPTextField.j</a></li>
    <li class="footer">Generated on Mon Sep 10 2018 12:09:57 for API by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
