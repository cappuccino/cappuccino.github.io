<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>API: AppKit/CPTableView.j Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">API
   &#160;<span id="projectnumber">0.9.8</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_c_p_table_view_8j_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">CPTableView.j</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_c_p_table_view_8j.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * CPTableView.j</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * AppKit</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * Created by Francisco Tolmasky.</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * Copyright 2009, 280 North, Inc.</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * This library is free software; you can redistribute it and/or</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * modify it under the terms of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * License as published by the Free Software Foundation; either</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * version 2.1 of the License, or (at your option) any later version.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * This library is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * Lesser General Public License for more details.</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * You should have received a copy of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * License along with this library; if not, write to the Free Software</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;@global <a class="code" href="_c_p_application___constants_8j.html#a428912231c07effc32c420ee523bf0b7">CPApp</a></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div>
<div class="line"><a name="l00029"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a1072332a3d94b2f9cf3da8d57f05ddcb">   29</a></span>&#160;<a class="code" href="_c_p_table_view_8j.html#a1072332a3d94b2f9cf3da8d57f05ddcb">CPTableViewColumnDidMoveNotification</a>        = <span class="stringliteral">@&quot;CPTableViewColumnDidMoveNotification&quot;</span>;</div>
<div class="line"><a name="l00030"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#ad35f7c5fbd420b1766b470df7df236ed">   30</a></span>&#160;<a class="code" href="_c_p_table_view_8j.html#ad35f7c5fbd420b1766b470df7df236ed">CPTableViewColumnDidResizeNotification</a>      = <span class="stringliteral">@&quot;CPTableViewColumnDidResizeNotification&quot;</span>;</div>
<div class="line"><a name="l00031"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a51f328a6630fa3c37dd97e3ebcd47bad">   31</a></span>&#160;<a class="code" href="_c_p_table_view_8j.html#a51f328a6630fa3c37dd97e3ebcd47bad">CPTableViewSelectionDidChangeNotification</a>   = <span class="stringliteral">@&quot;CPTableViewSelectionDidChangeNotification&quot;</span>;</div>
<div class="line"><a name="l00032"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a05ad281074c809f38e75ada2b2ac510f">   32</a></span>&#160;<a class="code" href="_c_p_table_view_8j.html#a05ad281074c809f38e75ada2b2ac510f">CPTableViewSelectionIsChangingNotification</a>  = <span class="stringliteral">@&quot;CPTableViewSelectionIsChangingNotification&quot;</span>;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div>
<div class="line"><a name="l00034"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a79c288910d3f547d5433a6946cec05bc">   34</a></span>&#160;var <a class="code" href="_c_p_table_view_8j.html#a79c288910d3f547d5433a6946cec05bc">CPTableViewDataSource_numberOfRowsInTableView_</a>                                                      = 1 &lt;&lt; 0,</div>
<div class="line"><a name="l00035"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a23288f0ff7ed53d22d474f4248c733b1">   35</a></span>&#160;    <a class="code" href="_c_p_table_view_8j.html#a23288f0ff7ed53d22d474f4248c733b1">CPTableViewDataSource_tableView_objectValueForTableColumn_row_</a>                                      = 1 &lt;&lt; 1,</div>
<div class="line"><a name="l00036"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a9f25c28df39dca590ad108beb6b4b48b">   36</a></span>&#160;    <a class="code" href="_c_p_table_view_8j.html#a9f25c28df39dca590ad108beb6b4b48b">CPTableViewDataSource_tableView_setObjectValue_forTableColumn_row_</a>                                  = 1 &lt;&lt; 2,</div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a71f4aae1a37e8503f63542e1d977edce">   37</a></span>&#160;    <a class="code" href="_c_p_table_view_8j.html#a71f4aae1a37e8503f63542e1d977edce">CPTableViewDataSource_tableView_acceptDrop_row_dropOperation_</a>                                       = 1 &lt;&lt; 3,</div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a70eaee52bd8ae42e829dc246bfffa90f">   38</a></span>&#160;    <a class="code" href="_c_p_table_view_8j.html#a70eaee52bd8ae42e829dc246bfffa90f">CPTableViewDataSource_tableView_namesOfPromisedFilesDroppedAtDestination_forDraggedRowsWithIndexes_</a> = 1 &lt;&lt; 4,</div>
<div class="line"><a name="l00039"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a4f6917aa9754d8c13c933ae043ca4963">   39</a></span>&#160;    <a class="code" href="_c_p_table_view_8j.html#a4f6917aa9754d8c13c933ae043ca4963">CPTableViewDataSource_tableView_validateDrop_proposedRow_proposedDropOperation_</a>                     = 1 &lt;&lt; 5,</div>
<div class="line"><a name="l00040"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a3fb0a731ef8cca0484830f426bcbe81f">   40</a></span>&#160;    <a class="code" href="_c_p_table_view_8j.html#a3fb0a731ef8cca0484830f426bcbe81f">CPTableViewDataSource_tableView_writeRowsWithIndexes_toPasteboard_</a>                                  = 1 &lt;&lt; 6,</div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a3270c812883a130ed7efbc0f119a8ec7">   41</a></span>&#160;    <a class="code" href="_c_p_table_view_8j.html#a3270c812883a130ed7efbc0f119a8ec7">CPTableViewDataSource_tableView_sortDescriptorsDidChange_</a>                                           = 1 &lt;&lt; 7;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a17dd3c2f77d47e02db83a2643962e03f">   43</a></span>&#160;var <a class="code" href="_c_p_table_view_8j.html#a17dd3c2f77d47e02db83a2643962e03f">CPTableViewDelegate_selectionShouldChangeInTableView_</a>                                               = 1 &lt;&lt; 0,</div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a72bc603668aee3f7140a5fa4f2e66679">   44</a></span>&#160;    <a class="code" href="_c_p_table_view_8j.html#a72bc603668aee3f7140a5fa4f2e66679">CPTableViewDelegate_tableView_viewForTableColumn_row_</a>                                               = 1 &lt;&lt; 1,</div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a50ccc5dbd574a129aca4b61924308813">   45</a></span>&#160;    <a class="code" href="_c_p_table_view_8j.html#a50ccc5dbd574a129aca4b61924308813">CPTableViewDelegate_tableView_dataViewForTableColumn_row_</a>                                           = 1 &lt;&lt; 2,</div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a11302327c1511f3a71d93e494794c655">   46</a></span>&#160;    <a class="code" href="_c_p_table_view_8j.html#a11302327c1511f3a71d93e494794c655">CPTableViewDelegate_tableView_didClickTableColumn_</a>                                                  = 1 &lt;&lt; 3,</div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#ac6764797b21b0862c8ea1223c05626c2">   47</a></span>&#160;    <a class="code" href="_c_p_table_view_8j.html#ac6764797b21b0862c8ea1223c05626c2">CPTableViewDelegate_tableView_didDragTableColumn_</a>                                                   = 1 &lt;&lt; 4,</div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#afd61c24dda7ceebc29da34fa3b5f4a3a">   48</a></span>&#160;    <a class="code" href="_c_p_table_view_8j.html#afd61c24dda7ceebc29da34fa3b5f4a3a">CPTableViewDelegate_tableView_heightOfRow_</a>                                                          = 1 &lt;&lt; 5,</div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a1b2d38c75129c936b93b4163a5a32889">   49</a></span>&#160;    <a class="code" href="_c_p_table_view_8j.html#a1b2d38c75129c936b93b4163a5a32889">CPTableViewDelegate_tableView_isGroupRow_</a>                                                           = 1 &lt;&lt; 6,</div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a53db520f3c6c396184ef32c5a586b027">   50</a></span>&#160;    <a class="code" href="_c_p_table_view_8j.html#a53db520f3c6c396184ef32c5a586b027">CPTableViewDelegate_tableView_mouseDownInHeaderOfTableColumn_</a>                                       = 1 &lt;&lt; 7,</div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#abf8671c1652c48238dc5c04fc9550a62">   51</a></span>&#160;    <a class="code" href="_c_p_table_view_8j.html#abf8671c1652c48238dc5c04fc9550a62">CPTableViewDelegate_tableView_nextTypeSelectMatchFromRow_toRow_forString_</a>                           = 1 &lt;&lt; 8,</div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a87a639d266ecdd1db204b2b3e3d0e97d">   52</a></span>&#160;    <a class="code" href="_c_p_table_view_8j.html#a87a639d266ecdd1db204b2b3e3d0e97d">CPTableViewDelegate_tableView_selectionIndexesForProposedSelection_</a>                                 = 1 &lt;&lt; 9,</div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a13a5d77ea463b7ee16d106bdf440baef">   53</a></span>&#160;    <a class="code" href="_c_p_table_view_8j.html#a13a5d77ea463b7ee16d106bdf440baef">CPTableViewDelegate_tableView_shouldEditTableColumn_row_</a>                                            = 1 &lt;&lt; 10,</div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#aaea951ab19dc11a096a69b28cc216e38">   54</a></span>&#160;    <a class="code" href="_c_p_table_view_8j.html#aaea951ab19dc11a096a69b28cc216e38">CPTableViewDelegate_tableView_shouldSelectRow_</a>                                                      = 1 &lt;&lt; 11,</div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a40e46e56c68f00ce2e3fe0c2dce75577">   55</a></span>&#160;    <a class="code" href="_c_p_table_view_8j.html#a40e46e56c68f00ce2e3fe0c2dce75577">CPTableViewDelegate_tableView_shouldSelectTableColumn_</a>                                              = 1 &lt;&lt; 12,</div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a47c3d5fa0d018996943ef98b80ffd3ed">   56</a></span>&#160;    <a class="code" href="_c_p_table_view_8j.html#a47c3d5fa0d018996943ef98b80ffd3ed">CPTableViewDelegate_tableView_shouldShowViewExpansionForTableColumn_row_</a>                            = 1 &lt;&lt; 13,</div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a84373538a8878335c8efedfc6a73dfda">   57</a></span>&#160;    <a class="code" href="_c_p_table_view_8j.html#a84373538a8878335c8efedfc6a73dfda">CPTableViewDelegate_tableView_shouldTrackView_forTableColumn_row_</a>                                   = 1 &lt;&lt; 14,</div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a90bdeeee16a3591df2596384e4f627e3">   58</a></span>&#160;    <a class="code" href="_c_p_table_view_8j.html#a90bdeeee16a3591df2596384e4f627e3">CPTableViewDelegate_tableView_shouldTypeSelectForEvent_withCurrentSearchString_</a>                     = 1 &lt;&lt; 15,</div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a106983f227bb2afdff8e05449a4ea33a">   59</a></span>&#160;    <a class="code" href="_c_p_table_view_8j.html#a106983f227bb2afdff8e05449a4ea33a">CPTableViewDelegate_tableView_toolTipForView_rect_tableColumn_row_mouseLocation_</a>                    = 1 &lt;&lt; 16,</div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a8a84faf4826019c8a187588890360704">   60</a></span>&#160;    <a class="code" href="_c_p_table_view_8j.html#a8a84faf4826019c8a187588890360704">CPTableViewDelegate_tableView_typeSelectStringForTableColumn_row_</a>                                   = 1 &lt;&lt; 17,</div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#ad543a1b68132942313c20a9414cb508c">   61</a></span>&#160;    <a class="code" href="_c_p_table_view_8j.html#ad543a1b68132942313c20a9414cb508c">CPTableViewDelegate_tableView_willDisplayView_forTableColumn_row_</a>                                   = 1 &lt;&lt; 18,</div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a85137871fafd4a59dc04c5ccdc3bd1b7">   62</a></span>&#160;    <a class="code" href="_c_p_table_view_8j.html#a85137871fafd4a59dc04c5ccdc3bd1b7">CPTableViewDelegate_tableView_willRemoveView_forTableColumn_row_</a>                                    = 1 &lt;&lt; 19,</div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a79853e5ccf7715294f3ff8e63c5dbc1d">   63</a></span>&#160;    <a class="code" href="_c_p_table_view_8j.html#a79853e5ccf7715294f3ff8e63c5dbc1d">CPTableViewDelegate_tableViewColumnDidMove_</a>                                                         = 1 &lt;&lt; 20,</div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a0aaac5c622dc409e714d5e6400f212ed">   64</a></span>&#160;    <a class="code" href="_c_p_table_view_8j.html#a0aaac5c622dc409e714d5e6400f212ed">CPTableViewDelegate_tableViewColumnDidResize_</a>                                                       = 1 &lt;&lt; 21,</div>
<div class="line"><a name="l00065"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a0e92f5ab48715248e82afe1bd74528b7">   65</a></span>&#160;    <a class="code" href="_c_p_table_view_8j.html#a0e92f5ab48715248e82afe1bd74528b7">CPTableViewDelegate_tableViewSelectionDidChange_</a>                                                    = 1 &lt;&lt; 22,</div>
<div class="line"><a name="l00066"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#ac80a4fc92d5dd3f875a79b2c44b55ed3">   66</a></span>&#160;    <a class="code" href="_c_p_table_view_8j.html#ac80a4fc92d5dd3f875a79b2c44b55ed3">CPTableViewDelegate_tableViewSelectionIsChanging_</a>                                                   = 1 &lt;&lt; 23,</div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#add563e75f969fc2b9f4367b8a2db3fa4">   67</a></span>&#160;    <a class="code" href="_c_p_table_view_8j.html#add563e75f969fc2b9f4367b8a2db3fa4">CPTableViewDelegate_tableViewMenuForTableColumn_row_</a>                                                = 1 &lt;&lt; 24,</div>
<div class="line"><a name="l00068"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a589a91e50a648a4ab40d99311cbdfaf4">   68</a></span>&#160;    <a class="code" href="_c_p_table_view_8j.html#a589a91e50a648a4ab40d99311cbdfaf4">CPTableViewDelegate_tableView_shouldReorderColumn_toColumn_</a>                                         = 1 &lt;&lt; 25;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">//CPTableViewDraggingDestinationFeedbackStyles</span></div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a7d721e523dd8ab8740aff52cb54efa91">   71</a></span>&#160;<a class="code" href="_c_p_table_view_8j.html#a7d721e523dd8ab8740aff52cb54efa91">CPTableViewDraggingDestinationFeedbackStyleNone</a> = -1;</div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a4b9131f16846d5b2e77fbb2d855f48c1">   72</a></span>&#160;<a class="code" href="_c_p_table_view_8j.html#a4b9131f16846d5b2e77fbb2d855f48c1">CPTableViewDraggingDestinationFeedbackStyleRegular</a> = 0;</div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a5c1e1977569dc9ea54f519916529114b">   73</a></span>&#160;<a class="code" href="_c_p_table_view_8j.html#a5c1e1977569dc9ea54f519916529114b">CPTableViewDraggingDestinationFeedbackStyleSourceList</a> = 1;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">//CPTableViewDropOperations</span></div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a279093eafa50075a94c202e0dd51861a">   76</a></span>&#160;<a class="code" href="_c_p_table_view_8j.html#a279093eafa50075a94c202e0dd51861a">CPTableViewDropOn</a> = 0;</div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a4c2d1434c8bc5b937eeb47b55f5c74d0">   77</a></span>&#160;<a class="code" href="_c_p_table_view_8j.html#a4c2d1434c8bc5b937eeb47b55f5c74d0">CPTableViewDropAbove</a> = 1;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#ada5bc5795efd9616ee12493f704326f3">   79</a></span>&#160;<a class="code" href="_c_p_table_view_8j.html#ada5bc5795efd9616ee12493f704326f3">CPSourceListGradient</a> = <span class="stringliteral">@&quot;CPSourceListGradient&quot;</span>;</div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#adce48404c5e3cd2d4d0c138e5e1a0bfe">   80</a></span>&#160;<a class="code" href="_c_p_table_view_8j.html#adce48404c5e3cd2d4d0c138e5e1a0bfe">CPSourceListTopLineColor</a> = <span class="stringliteral">@&quot;CPSourceListTopLineColor&quot;</span>;</div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a465d9d7df4346c4d8a82919df3c8f938">   81</a></span>&#160;<a class="code" href="_c_p_table_view_8j.html#a465d9d7df4346c4d8a82919df3c8f938">CPSourceListBottomLineColor</a> = <span class="stringliteral">@&quot;CPSourceListBottomLineColor&quot;</span>;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">// TODO: add docs</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a01cb9ff2b6562f83a7f4073abf81f7ce">   85</a></span>&#160;<a class="code" href="_c_p_table_view_8j.html#a01cb9ff2b6562f83a7f4073abf81f7ce">CPTableViewSelectionHighlightStyleNone</a> = -1;</div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#aca8acc7a64967150badd9c4b7c6eedf9">   86</a></span>&#160;<a class="code" href="_c_p_table_view_8j.html#aca8acc7a64967150badd9c4b7c6eedf9">CPTableViewSelectionHighlightStyleRegular</a> = 0;</div>
<div class="line"><a name="l00087"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a9b1494c16eb023b6a546dc0fb584fce7">   87</a></span>&#160;<a class="code" href="_c_p_table_view_8j.html#a9b1494c16eb023b6a546dc0fb584fce7">CPTableViewSelectionHighlightStyleSourceList</a> = 1;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#aa39cb0e13ea617a0962d2b72bbbedd81">   89</a></span>&#160;<a class="code" href="_c_p_table_view_8j.html#aa39cb0e13ea617a0962d2b72bbbedd81">CPTableViewGridNone</a>                     = 0;</div>
<div class="line"><a name="l00090"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#af147002e8b12fcaf12a2df975edb95b5">   90</a></span>&#160;<a class="code" href="_c_p_table_view_8j.html#af147002e8b12fcaf12a2df975edb95b5">CPTableViewSolidVerticalGridLineMask</a>    = 1 &lt;&lt; 0;</div>
<div class="line"><a name="l00091"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#acc262027919f5d8fa9961299c57e4887">   91</a></span>&#160;<a class="code" href="_c_p_table_view_8j.html#acc262027919f5d8fa9961299c57e4887">CPTableViewSolidHorizontalGridLineMask</a>  = 1 &lt;&lt; 1;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div>
<div class="line"><a name="l00093"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#ad0b8e7aa32705666ec47cfdb3fdbdeef">   93</a></span>&#160;<a class="code" href="_c_p_table_view_8j.html#ad0b8e7aa32705666ec47cfdb3fdbdeef">CPTableViewNoColumnAutoresizing</a> = 0;</div>
<div class="line"><a name="l00094"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a8f4ff5bd6c8f021a249d46098015f486">   94</a></span>&#160;<a class="code" href="_c_p_table_view_8j.html#a8f4ff5bd6c8f021a249d46098015f486">CPTableViewUniformColumnAutoresizingStyle</a> = 1; <span class="comment">// FIX ME: This is FUBAR</span></div>
<div class="line"><a name="l00095"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a14105ece8d41c22e1552964bc8c97224">   95</a></span>&#160;<a class="code" href="_c_p_table_view_8j.html#a14105ece8d41c22e1552964bc8c97224">CPTableViewSequentialColumnAutoresizingStyle</a> = 2;</div>
<div class="line"><a name="l00096"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a48dbe0f6475c9d66899227d2bbaad37a">   96</a></span>&#160;<a class="code" href="_c_p_table_view_8j.html#a48dbe0f6475c9d66899227d2bbaad37a">CPTableViewReverseSequentialColumnAutoresizingStyle</a> = 3;</div>
<div class="line"><a name="l00097"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a0f472ac2d7a9f96e5ad5ec35e8d4af3f">   97</a></span>&#160;<a class="code" href="_c_p_table_view_8j.html#a0f472ac2d7a9f96e5ad5ec35e8d4af3f">CPTableViewLastColumnOnlyAutoresizingStyle</a> = 4;</div>
<div class="line"><a name="l00098"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a2817258659933aa465a18e1798822134">   98</a></span>&#160;<a class="code" href="_c_p_table_view_8j.html#a2817258659933aa465a18e1798822134">CPTableViewFirstColumnOnlyAutoresizingStyle</a> = 5;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div>
<div class="line"><a name="l00100"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#aa0c3e20940452d04b6708ec8b82b482b">  100</a></span>&#160;<span class="preprocessor">#define NUMBER_OF_COLUMNS() (_tableColumns.length)</span></div>
<div class="line"><a name="l00101"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a8d863ee1b9f1e447c7ee408af11b8f22">  101</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define UPDATE_COLUMN_RANGES_IF_NECESSARY() \</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="preprocessor">    if (_dirtyTableColumnRangeIndex !== CPNotFound) \</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="preprocessor">        [self _recalculateTableColumnRanges];</span></div>
<div class="line"><a name="l00104"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a3c9003b0a97bc491df8b6ec7b02f4120">  104</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define FULL_ROW_HEIGHT() (_rowHeight + _intercellSpacing.height)</span></div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#ab67d9cc3b304f1a524c1b0fb0f76986d">  105</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define ROW_BOTTOM(__heightInfo) (__heightInfo.y + __heightInfo.height + _intercellSpacing.height)</span></div>
<div class="line"><a name="l00106"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#ac2bcf5323fa10cbacadb5b100067b443">  106</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define HAS_VARIABLE_ROW_HEIGHTS()  (_implementedDelegateMethods &amp; CPTableViewDelegate_tableView_heightOfRow_)</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div>
<div class="line"><a name="l00109"></a><span class="lineno"><a class="code" href="protocol_c_p_table_view_data_source-p.html">  109</a></span>&#160;<span class="keyword">@protocol </span><a class="code" href="protocol_c_p_table_view_data_source-p.html">CPTableViewDataSource</a> &lt;<a class="code" href="class_c_p_object.html">CPObject</a>&gt;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="keyword">@optional</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;- (BOOL)<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:(<a class="code" href="interface_c_p_table_view.html">CPTableView</a>)aTableView acceptDrop:(<span class="keywordtype">id</span> &lt;<a class="code" href="interface_c_p_dragging_info.html">CPDraggingInfo</a>&gt;)info row:(CPInteger)aRowIndex dropOperation:(CPTableViewDropOperation)operation;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;- (BOOL)<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:(<a class="code" href="interface_c_p_table_view.html">CPTableView</a>)aTableView writeRowsWithIndexes:(<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a>)rowIndexes toPasteboard:(<a class="code" href="interface_c_p_pasteboard.html">CPPasteboard</a>)pboard;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;- (CPArray)<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:(<a class="code" href="interface_c_p_table_view.html">CPTableView</a>)aTableView namesOfPromisedFilesDroppedAtDestination:(<a class="code" href="interface_c_p_u_r_l.html">CPURL</a>)dropDestination forDraggedRowsWithIndexes:(<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a>)anIndexSet;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;- (CPDragOperation)<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:(<a class="code" href="interface_c_p_table_view.html">CPTableView</a>)aTableView validateDrop:(<span class="keywordtype">id</span> &lt;<a class="code" href="interface_c_p_dragging_info.html">CPDraggingInfo</a>&gt;)info proposedRow:(CPInteger)aRowIndex proposedDropOperation:(CPTableViewDropOperation)anOperation;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;- (CPInteger)numberOfRowsInTableView:(<a class="code" href="interface_c_p_table_view.html">CPTableView</a>)aTableView;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;- (id)<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:(<a class="code" href="interface_c_p_table_view.html">CPTableView</a>)aTableView objectValueForTableColumn:(<a class="code" href="interface_c_p_table_column.html">CPTableColumn</a>)aTableColumn row:(CPInteger)aRowIndex;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;- (void)<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:(<a class="code" href="interface_c_p_table_view.html">CPTableView</a>)aTableView setObjectValue:(<span class="keywordtype">id</span>)anObjectValue forTableColumn:(<a class="code" href="interface_c_p_table_column.html">CPTableColumn</a>)aTableColumn row:(CPInteger)aRowIndex;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;- (void)<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:(<a class="code" href="interface_c_p_table_view.html">CPTableView</a>)aTableView sortDescriptorsDidChange:(CPArray)oldDescriptors;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="keyword">@end</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div>
<div class="line"><a name="l00123"></a><span class="lineno"><a class="code" href="protocol_c_p_table_view_delegate-p.html">  123</a></span>&#160;<span class="keyword">@protocol </span><a class="code" href="protocol_c_p_table_view_delegate-p.html">CPTableViewDelegate</a> &lt;<a class="code" href="class_c_p_object.html">CPObject</a>&gt;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="keyword">@optional</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;- (BOOL)selectionShouldChangeInTableView:(<a class="code" href="interface_c_p_table_view.html">CPTableView</a>)aTableView;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;- (BOOL)<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:(<a class="code" href="interface_c_p_table_view.html">CPTableView</a>)aTableView isGroupRow:(CPInteger)aRowIndex;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;- (BOOL)<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:(<a class="code" href="interface_c_p_table_view.html">CPTableView</a>)aTableView shouldEditTableColumn:(<a class="code" href="interface_c_p_table_column.html">CPTableColumn</a>)aTableView row:(CPInteger)aRowIndex;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;- (BOOL)<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:(<a class="code" href="interface_c_p_table_view.html">CPTableView</a>)aTableView shouldReorderColumn:(CPInteger)columnIndex toColumn:(NSInteger)newColumnIndex;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;- (BOOL)<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:(<a class="code" href="interface_c_p_table_view.html">CPTableView</a>)aTableView shouldSelectRow:(CPInteger)aRowIndex;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;- (BOOL)<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:(<a class="code" href="interface_c_p_table_view.html">CPTableView</a>)aTableView shouldSelectTableColumn:(<a class="code" href="interface_c_p_table_column.html">CPTableColumn</a>)aTableColumn;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;- (BOOL)<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:(<a class="code" href="interface_c_p_table_view.html">CPTableView</a>)aTableView shouldShowViewExpansionForTableColumn:(<a class="code" href="interface_c_p_table_column.html">CPTableColumn</a>)aTableColumn row:(CPInteger)aRowIndex;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;- (BOOL)<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:(<a class="code" href="interface_c_p_table_view.html">CPTableView</a>)aTableView shouldTrackView:(<a class="code" href="interface_c_p_view.html">CPView</a>)aView forTableColumn:(<a class="code" href="interface_c_p_table_column.html">CPTableColumn</a>)aTableColumn row:(CPInteger)aRowIndex;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;- (BOOL)<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:(<a class="code" href="interface_c_p_table_view.html">CPTableView</a>)aTableView shouldTypeSelectForEvent:(<a class="code" href="interface_c_p_event.html">CPEvent</a>)anEvent withCurrentSearchString:(<a class="code" href="interface_c_p_string.html" title="An immutable string (collection of characters). ">CPString</a>)searchString;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;- (<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a>)<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:(<a class="code" href="interface_c_p_table_view.html">CPTableView</a>)aTableView selectionIndexesForProposedSelection:(<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a>)proposedSelectionIndexes;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;- (CPInteger)<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:(<a class="code" href="interface_c_p_table_view.html">CPTableView</a>)aTableView nextTypeSelectMatchFromRow:(CPInteger)startRow toRow:(CPInteger)endRow forString:(<a class="code" href="interface_c_p_string.html" title="An immutable string (collection of characters). ">CPString</a>)searchString;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;- (<a class="code" href="interface_c_p_menu.html">CPMenu</a>)tableViewMenuForTableColumn:(<a class="code" href="interface_c_p_table_column.html">CPTableColumn</a>)aTableColumn row:(CPInteger)aRowIndex;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;- (<a class="code" href="interface_c_p_string.html" title="An immutable string (collection of characters). ">CPString</a>)<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:(<a class="code" href="interface_c_p_table_view.html">CPTableView</a>)aTableView toolTipForView:(<a class="code" href="interface_c_p_view.html">CPView</a>)aView rect:(CGRect)aRect tableColumn:(<a class="code" href="interface_c_p_table_column.html">CPTableColumn</a>)aTableColumn row:(CPInteger)aRowIndex mouseLocation:(CGPoint)mouseLocation;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;- (<a class="code" href="interface_c_p_string.html" title="An immutable string (collection of characters). ">CPString</a>)<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:(<a class="code" href="interface_c_p_table_view.html">CPTableView</a>)aTableView typeSelectStringForTableColumn:(<a class="code" href="interface_c_p_table_column.html">CPTableColumn</a>)aTableColumn row:(CPInteger)aRowIndex;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;- (<a class="code" href="interface_c_p_view.html">CPView</a>)<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:(<a class="code" href="interface_c_p_table_view.html">CPTableView</a>)aTableView dataViewForTableColumn:(<a class="code" href="interface_c_p_table_column.html">CPTableColumn</a>)aTableColumn row:(CPInteger)aRowIndex;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;- (<a class="code" href="interface_c_p_view.html">CPView</a>)<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:(<a class="code" href="interface_c_p_table_view.html">CPTableView</a>)aTableView viewForTableColumn:(<a class="code" href="interface_c_p_table_column.html">CPTableColumn</a>)aTableColumn row:(CPInteger)aRowIndex;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;- (float)<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:(<a class="code" href="interface_c_p_table_view.html">CPTableView</a>)aTableView heightOfRow:(CPInteger)aRowIndex;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;- (void)<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:(<a class="code" href="interface_c_p_table_view.html">CPTableView</a>)aTableView didClickTableColumn:(<a class="code" href="interface_c_p_table_column.html">CPTableColumn</a>)aTableColumn;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;- (void)<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:(<a class="code" href="interface_c_p_table_view.html">CPTableView</a>)aTableView didDragTableColumn:(<a class="code" href="interface_c_p_table_column.html">CPTableColumn</a>)aTableColumn;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;- (void)<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:(<a class="code" href="interface_c_p_table_view.html">CPTableView</a>)aTableView mouseDownInHeaderOfTableColumn:(<a class="code" href="interface_c_p_table_column.html">CPTableColumn</a>)aTableColumn;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;- (void)<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:(<a class="code" href="interface_c_p_table_view.html">CPTableView</a>)aTableView willDisplayView:(<a class="code" href="interface_c_p_view.html">CPView</a>)aView forTableColumn:(<a class="code" href="interface_c_p_table_column.html">CPTableColumn</a>)aTableColumn row:(CPInteger)aRowIndex;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;- (void)<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:(<a class="code" href="interface_c_p_table_view.html">CPTableView</a>)aTableView willRemoveView:(<a class="code" href="interface_c_p_view.html">CPView</a>)aView forTableColumn:(<a class="code" href="interface_c_p_table_column.html">CPTableColumn</a>)aTableColumn row:(CPInteger)aRowIndex;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;- (void)tableViewSelectionDidChange:(<a class="code" href="interface_c_p_notification.html" title="A notification that can be posted to a CPNotificationCenter. ">CPNotification</a>)aNotification;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;- (void)tableViewSelectionIsChanging:(<a class="code" href="interface_c_p_notification.html" title="A notification that can be posted to a CPNotificationCenter. ">CPNotification</a>)aNotification;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="keyword">@end</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="keyword">@implementation </span>_CPTableDrawView : <a class="code" href="interface_c_p_view.html">CPView</a></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;{</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordtype">id</span> _tableView;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;}</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;- (id)initWithTableView:(<a class="code" href="interface_c_p_table_view.html">CPTableView</a>)aTableView</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;{</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keyword">self</span> = [<span class="keyword">super</span> init];</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">self</span>)</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        _tableView = aTableView;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">self</span>;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;}</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;- (void)drawRect:(CGRect)aRect</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;{</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    var <a class="code" href="_c_p_segmented_control_8j.html#a63fcc9e0dd97e8502cce685e88234e16">frame</a> = [<span class="keyword">self</span> frame],</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        context = [[<a class="code" href="interface_c_p_graphics_context.html">CPGraphicsContext</a> <a class="code" href="interface_c_p_graphics_context.html#a378dafc8fb951053dd6877fb45e87f61">currentContext</a>] <a class="code" href="interface_c_p_graphics_context.html#a92895bd939c04da463d02425bec83f0b">graphicsPort</a>];</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <a class="code" href="group__coregraphics.html#ga2351bbe153eb35f881d0de33de240e02">CGContextTranslateCTM</a>(context, -CGRectGetMinX(<a class="code" href="_c_p_segmented_control_8j.html#a63fcc9e0dd97e8502cce685e88234e16">frame</a>), -CGRectGetMinY(<a class="code" href="_c_p_segmented_control_8j.html#a63fcc9e0dd97e8502cce685e88234e16">frame</a>));</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    [_tableView _drawRect:aRect];</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;}</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="keyword">@end</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="keyword">@implementation </span><a class="code" href="interface_c_p_table_view.html">CPTableView</a> : <a class="code" href="interface_c_p_control.html">CPControl</a></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;{</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    id &lt;CPTableViewDataSource&gt;  _dataSource;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    CPInteger                   _implementedDataSourceMethods;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    id &lt;CPTableViewDelegate&gt;    _delegate;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    CPInteger                   _implementedDelegateMethods;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    CPArray                     _tableColumns;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    CPArray                     _tableColumnRanges;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    CPInteger                   _dirtyTableColumnRangeIndex;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    CPInteger                   _numberOfHiddenColumns;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    BOOL                        _reloadAllRows;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    BOOL                        _invalidateObjectValuesCache;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    Object                      _objectValues;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    CGRect                      _exposedRect;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a>                  _exposedRows;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a>                  _exposedColumns;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    Object                      _dataViewsForRows;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    Object                      _cachedDataViews;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <a class="code" href="interface_c_p_dictionary.html" title="A mutable key-value pair collection. ">CPDictionary</a>                _archivedDataViews;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    Object                      _unavailable_custom_cibs;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="comment">//Configuring Behavior</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    BOOL                        _allowsColumnReordering;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    BOOL                        _allowsColumnResizing;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    BOOL                        _allowsColumnSelection;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    BOOL                        _allowsMultipleSelection;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    BOOL                        _allowsEmptySelection;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    CPArray                     _sortDescriptors;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="comment">//Setting Display Attributes</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    CGSize                      _intercellSpacing;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keywordtype">float</span>                       _rowHeight;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    BOOL                        _usesAlternatingRowBackgroundColors;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    CPArray                     _alternatingRowBackgroundColors;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keywordtype">unsigned</span>                    _selectionHighlightStyle;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <a class="code" href="interface_c_p_color.html">CPColor</a>                     _unfocusedSelectionHighlightColor;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <a class="code" href="interface_c_p_dictionary.html" title="A mutable key-value pair collection. ">CPDictionary</a>                _unfocusedSourceListSelectionColor;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <a class="code" href="interface_c_p_table_column.html">CPTableColumn</a>               _currentHighlightedTableColumn;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="keywordtype">unsigned</span>                    _gridStyleMask;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keywordtype">unsigned</span>                    _numberOfRows;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a>                  _groupRows;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    CPArray                     _cachedRowHeights;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="comment">// Persistence</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <a class="code" href="interface_c_p_string.html" title="An immutable string (collection of characters). ">CPString</a>                    _autosaveName;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    BOOL                        _autosaveTableColumns;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <a class="code" href="interface_c_p_table_header_view.html">CPTableHeaderView</a>           _headerView;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    _CPCornerView               _cornerView;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a>                  _selectedColumnIndexes;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a>                  _selectedRowIndexes;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    CPInteger                   _selectionAnchorRow;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    CPInteger                   _lastSelectedRow;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a>                  _previouslySelectedRowIndexes;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    CGPoint                     _startTrackingPoint;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <a class="code" href="interface_c_p_date.html" title="A representation of a single point in time. ">CPDate</a>                      _startTrackingTimestamp;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    BOOL                        _trackingPointMovedOutOfClickSlop;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    CPInteger                   _editingRow;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    CPInteger                   _editingColumn;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    _CPTableDrawView            _tableDrawView;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="keywordtype">SEL</span>                         _doubleAction;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    CPInteger                   _clickedRow;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    CPInteger                   _clickedColumn;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keywordtype">unsigned</span>                    _columnAutoResizingStyle;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="keywordtype">int</span>                         _lastTrackedRowIndex;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    CGPoint                     _originalMouseDownPoint;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    BOOL                        _verticalMotionCanDrag;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="keywordtype">unsigned</span>                    _destinationDragStyle;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    BOOL                        _isSelectingSession;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a>                  _draggedRowIndexes;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    BOOL                        _wasSelectionBroken;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    _CPDropOperationDrawingView _dropOperationFeedbackView;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    CPDragOperation             _dragOperationDefaultMask;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="keywordtype">int</span>                         _retargetedDropRow;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    CPDragOperation             _retargetedDropOperation;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    BOOL                        _disableAutomaticResizing;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    BOOL                        _lastColumnShouldSnap;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    BOOL                        _implementsCustomDrawRow;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    BOOL                        _isViewBased;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    BOOL                        _contentBindingExplicitlySet;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="keywordtype">SEL</span>                         _viewForTableColumnRowSelector;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    CPInteger                   _draggedColumnIndex;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    BOOL                        _draggedColumnIsSelected;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    BOOL                        _needsDifferedTableColumnRemove;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    CPArray                     _differedColumnDataToRemove;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    Function                    _BlockDeselectView;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    Function                    _BlockSelectView;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <a class="code" href="interface_c_p_view.html">CPView</a>                      _observedClipView;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;}</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div>
<div class="line"><a name="l00315"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a81b5265425a8e9b2b928e61f85c76d5c">  315</a></span>&#160;+ (<a class="code" href="interface_c_p_string.html" title="An immutable string (collection of characters). ">CPString</a>)defaultThemeClass</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;{</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">@&quot;tableview&quot;</span>;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;}</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div>
<div class="line"><a name="l00323"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#af5f6153870a5e1fc938fec8a25376efd">  323</a></span>&#160;+ (<a class="code" href="interface_c_p_dictionary.html" title="A mutable key-value pair collection. ">CPDictionary</a>)themeAttributes</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;{</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="keywordflow">return</span> @{</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;            <span class="stringliteral">@&quot;alternating-row-colors&quot;</span>: [<a class="code" href="interface_c_p_null.html" title="An object representation of nil. ">CPNull</a> <a class="code" href="interface_c_p_null.html#a589123ee618828f2e89a5776409e1592">null</a>],</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            <span class="stringliteral">@&quot;grid-color&quot;</span>: [<a class="code" href="interface_c_p_null.html" title="An object representation of nil. ">CPNull</a> <a class="code" href="interface_c_p_null.html#a589123ee618828f2e89a5776409e1592">null</a>],</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;            <span class="stringliteral">@&quot;grid-line-thickness&quot;</span>: 1.0,</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;            <span class="stringliteral">@&quot;highlighted-grid-color&quot;</span>: [<a class="code" href="interface_c_p_null.html" title="An object representation of nil. ">CPNull</a> <a class="code" href="interface_c_p_null.html#a589123ee618828f2e89a5776409e1592">null</a>],</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;            <span class="stringliteral">@&quot;selection-color&quot;</span>: [<a class="code" href="interface_c_p_null.html" title="An object representation of nil. ">CPNull</a> <a class="code" href="interface_c_p_null.html#a589123ee618828f2e89a5776409e1592">null</a>],</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;            <span class="stringliteral">@&quot;sourcelist-selection-color&quot;</span>: [<a class="code" href="interface_c_p_null.html" title="An object representation of nil. ">CPNull</a> <a class="code" href="interface_c_p_null.html#a589123ee618828f2e89a5776409e1592">null</a>],</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;            <span class="stringliteral">@&quot;sort-image&quot;</span>: [<a class="code" href="interface_c_p_null.html" title="An object representation of nil. ">CPNull</a> <a class="code" href="interface_c_p_null.html#a589123ee618828f2e89a5776409e1592">null</a>],</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;            <span class="stringliteral">@&quot;sort-image-reversed&quot;</span>: [<a class="code" href="interface_c_p_null.html" title="An object representation of nil. ">CPNull</a> <a class="code" href="interface_c_p_null.html#a589123ee618828f2e89a5776409e1592">null</a>],</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;            <span class="stringliteral">@&quot;selection-radius&quot;</span>: [<a class="code" href="interface_c_p_null.html" title="An object representation of nil. ">CPNull</a> <a class="code" href="interface_c_p_null.html#a589123ee618828f2e89a5776409e1592">null</a>],</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;            <span class="stringliteral">@&quot;image-generic-file&quot;</span>: [<a class="code" href="interface_c_p_null.html" title="An object representation of nil. ">CPNull</a> <a class="code" href="interface_c_p_null.html#a589123ee618828f2e89a5776409e1592">null</a>],</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;            <span class="stringliteral">@&quot;default-row-height&quot;</span>: 25.0,</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;            <span class="stringliteral">@&quot;dropview-on-background-color&quot;</span>: [<a class="code" href="interface_c_p_null.html" title="An object representation of nil. ">CPNull</a> <a class="code" href="interface_c_p_null.html#a589123ee618828f2e89a5776409e1592">null</a>],</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;            <span class="stringliteral">@&quot;dropview-on-border-color&quot;</span>: [<a class="code" href="interface_c_p_null.html" title="An object representation of nil. ">CPNull</a> <a class="code" href="interface_c_p_null.html#a589123ee618828f2e89a5776409e1592">null</a>],</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;            <span class="stringliteral">@&quot;dropview-on-border-width&quot;</span>: [<a class="code" href="interface_c_p_null.html" title="An object representation of nil. ">CPNull</a> <a class="code" href="interface_c_p_null.html#a589123ee618828f2e89a5776409e1592">null</a>],</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;            <span class="stringliteral">@&quot;dropview-on-border-radius&quot;</span>: [<a class="code" href="interface_c_p_null.html" title="An object representation of nil. ">CPNull</a> <a class="code" href="interface_c_p_null.html#a589123ee618828f2e89a5776409e1592">null</a>],</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;            <span class="stringliteral">@&quot;dropview-on-selected-background-color&quot;</span>: [<a class="code" href="interface_c_p_null.html" title="An object representation of nil. ">CPNull</a> <a class="code" href="interface_c_p_null.html#a589123ee618828f2e89a5776409e1592">null</a>],</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;            <span class="stringliteral">@&quot;dropview-on-selected-border-color&quot;</span>: [<a class="code" href="interface_c_p_null.html" title="An object representation of nil. ">CPNull</a> <a class="code" href="interface_c_p_null.html#a589123ee618828f2e89a5776409e1592">null</a>],</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;            <span class="stringliteral">@&quot;dropview-on-selected-border-width&quot;</span>: [<a class="code" href="interface_c_p_null.html" title="An object representation of nil. ">CPNull</a> <a class="code" href="interface_c_p_null.html#a589123ee618828f2e89a5776409e1592">null</a>],</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;            <span class="stringliteral">@&quot;dropview-on-selected-border-radius&quot;</span>: [<a class="code" href="interface_c_p_null.html" title="An object representation of nil. ">CPNull</a> <a class="code" href="interface_c_p_null.html#a589123ee618828f2e89a5776409e1592">null</a>],</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;            <span class="stringliteral">@&quot;dropview-above-border-color&quot;</span>: [<a class="code" href="interface_c_p_null.html" title="An object representation of nil. ">CPNull</a> <a class="code" href="interface_c_p_null.html#a589123ee618828f2e89a5776409e1592">null</a>],</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;            <span class="stringliteral">@&quot;dropview-above-border-width&quot;</span>: [<a class="code" href="interface_c_p_null.html" title="An object representation of nil. ">CPNull</a> <a class="code" href="interface_c_p_null.html#a589123ee618828f2e89a5776409e1592">null</a>],</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;            <span class="stringliteral">@&quot;dropview-above-selected-border-color&quot;</span>: [<a class="code" href="interface_c_p_null.html" title="An object representation of nil. ">CPNull</a> <a class="code" href="interface_c_p_null.html#a589123ee618828f2e89a5776409e1592">null</a>],</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;            <span class="stringliteral">@&quot;dropview-above-selected-border-width&quot;</span>: [<a class="code" href="interface_c_p_null.html" title="An object representation of nil. ">CPNull</a> <a class="code" href="interface_c_p_null.html#a589123ee618828f2e89a5776409e1592">null</a>]</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        };</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;}</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;</div>
<div class="line"><a name="l00352"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a989e49a95e3816cc201830e49965304a">  352</a></span>&#160;- (id)initWithFrame:(CGRect)aFrame</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;{</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="keyword">self</span> = [<span class="keyword">super</span> <a class="code" href="interface_c_p_control.html#a9fbb9581b79b7c03c97ca77b64c5f2f1">initWithFrame</a>:aFrame];</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">self</span>)</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    {</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        <span class="comment">//Configuring Behavior</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        _allowsColumnReordering = YES;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        _allowsColumnResizing = YES;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        _allowsMultipleSelection = NO;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        _allowsEmptySelection = YES;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        _allowsColumnSelection = NO;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        _disableAutomaticResizing = NO;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        <span class="comment">//Setting Display Attributes</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        _selectionHighlightStyle = <a class="code" href="_c_p_table_view_8j.html#aca8acc7a64967150badd9c4b7c6eedf9">CPTableViewSelectionHighlightStyleRegular</a>;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a6265d6d38253d8e95a112e226cdefe4d">setUsesAlternatingRowBackgroundColors</a>:NO];</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#aa50e7802368fe0b0be6756beaa70fd71">setAlternatingRowBackgroundColors</a>:</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;            [[<a class="code" href="interface_c_p_color.html">CPColor</a> <a class="code" href="interface_c_p_color.html#a713287464015f76e4359aeedc0110dc5">whiteColor</a>], [<a class="code" href="interface_c_p_color.html">CPColor</a> <a class="code" href="interface_c_p_color.html#a53e6bdd0c0cba190891d19dd30ac36f1">colorWithRed</a>:245.0 / 255.0 <a class="code" href="interface_c_p_color.html#a53e6bdd0c0cba190891d19dd30ac36f1">green</a>:249.0 / 255.0 <a class="code" href="interface_c_p_color.html#a53e6bdd0c0cba190891d19dd30ac36f1">blue</a>:252.0 / 255.0 <a class="code" href="interface_c_p_color.html#a53e6bdd0c0cba190891d19dd30ac36f1">alpha</a>:1.0]]];</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        _tableColumns = [];</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        _tableColumnRanges = [];</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        _dirtyTableColumnRangeIndex = <a class="code" href="_c_p_obj_j_runtime_8j.html#a84e3be579b365cc2c1559e1a1f469238">CPNotFound</a>;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        _numberOfHiddenColumns = 0;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        _intercellSpacing = CGSizeMake(3.0, 2.0);</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        _rowHeight = [<span class="keyword">self</span> <a class="code" href="interface_c_p_view.html#a486e56469971d47b9bf7df07f4b688c5">valueForThemeAttribute</a>:@&quot;default-row-height&quot;];</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a87d09099f126a8e7e741a192e05e10f7">setGridColor</a>:[<a class="code" href="interface_c_p_color.html">CPColor</a> <a class="code" href="interface_c_p_color.html#a80c4273ef2d3bb9cc836946de79c8a1e">colorWithHexString</a>:@&quot;dce0e2&quot;]];</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a10dc95485219186d423799fedac67efd">setGridStyleMask</a>:CPTableViewGridNone];</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#ade4b1dc944f33bcdbb33699aaa2c52f3">setHeaderView</a>:[[<a class="code" href="interface_c_p_table_header_view.html">CPTableHeaderView</a> <a class="code" href="class_c_p_object.html#aa6d290852c6a151058e8e82d053db475">alloc</a>] initWithFrame:CGRectMake(0, 0, [<span class="keyword">self</span> <a class="code" href="interface_c_p_view.html#af0bd55e12e5ac7ea4b137eae5f1829af">bounds</a>].size.width, _rowHeight)]];</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#ad6c2cf202a6c05de91e2e56fe7368811">setCornerView</a>:[[_CPCornerView alloc] initWithFrame:CGRectMake(0, 0, [<a class="code" href="interface_c_p_scroller.html">CPScroller</a> <a class="code" href="interface_c_p_scroller.html#aa561236fe659f6ccd8f06f7c6755476e">scrollerWidth</a>], CGRectGetHeight([_headerView frame]))]];</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        _currentHighlightedTableColumn = nil;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        _draggedRowIndexes = [<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a> <a class="code" href="interface_c_p_index_set.html#a339845eb2d96fae878209105dde5e140">indexSet</a>];</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        _verticalMotionCanDrag = YES;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        _isSelectingSession = NO;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        _retargetedDropRow = nil;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        _retargetedDropOperation = nil;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        _dragOperationDefaultMask = nil;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        _destinationDragStyle = <a class="code" href="_c_p_table_view_8j.html#a4b9131f16846d5b2e77fbb2d855f48c1">CPTableViewDraggingDestinationFeedbackStyleRegular</a>;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        _contentBindingExplicitlySet = NO;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        [<span class="keyword">self</span> <a class="code" href="interface_c_p_view.html#a70973147abbbf54e7149b266f18faaa3">setBackgroundColor</a>:[<a class="code" href="interface_c_p_color.html">CPColor</a> <a class="code" href="interface_c_p_color.html#a713287464015f76e4359aeedc0110dc5">whiteColor</a>]];</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        [<span class="keyword">self</span> _init];</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    }</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">self</span>;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;}</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;- (void)_init</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;{</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    _lastSelectedRow = _clickedColumn = _clickedRow = -1;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    _selectedColumnIndexes = [<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a> <a class="code" href="interface_c_p_index_set.html#a339845eb2d96fae878209105dde5e140">indexSet</a>];</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    _selectedRowIndexes = [<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a> <a class="code" href="interface_c_p_index_set.html#a339845eb2d96fae878209105dde5e140">indexSet</a>];</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    _dropOperationFeedbackView = [[_CPDropOperationDrawingView alloc] initWithFrame:CGRectMakeZero()];</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    [_dropOperationFeedbackView setTableView:self];</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    _lastColumnShouldSnap = NO;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="keywordflow">if</span> (!_alternatingRowBackgroundColors)</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        _alternatingRowBackgroundColors = [[<a class="code" href="interface_c_p_color.html">CPColor</a> <a class="code" href="interface_c_p_color.html#a713287464015f76e4359aeedc0110dc5">whiteColor</a>], [<a class="code" href="interface_c_p_color.html">CPColor</a> <a class="code" href="interface_c_p_color.html#a80c4273ef2d3bb9cc836946de79c8a1e">colorWithHexString</a>:@&quot;e4e7ff&quot;]];</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    _tableColumnRanges = [];</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    _dirtyTableColumnRangeIndex = 0;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    _numberOfHiddenColumns = 0;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    _objectValues = { };</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    _invalidateObjectValuesCache = NO;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    _dataViewsForRows = { };</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    _numberOfRows = 0;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    _exposedRows = [<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a> <a class="code" href="interface_c_p_index_set.html#a339845eb2d96fae878209105dde5e140">indexSet</a>];</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    _exposedColumns = [<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a> <a class="code" href="interface_c_p_index_set.html#a339845eb2d96fae878209105dde5e140">indexSet</a>];</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    _cachedDataViews = { };</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    _archivedDataViews = nil;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    _viewForTableColumnRowSelector = nil;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    _unavailable_custom_cibs = { };</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    _cachedRowHeights = [];</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    _groupRows = [<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a> <a class="code" href="interface_c_p_index_set.html#a339845eb2d96fae878209105dde5e140">indexSet</a>];</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    _tableDrawView = [[_CPTableDrawView alloc] initWithTableView:self];</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    [_tableDrawView setBackgroundColor:[<a class="code" href="interface_c_p_color.html">CPColor</a> <a class="code" href="interface_c_p_color.html#a89743805aa7a7ab79df291661fc4a736">clearColor</a>]];</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    [<span class="keyword">self</span> addSubview:_tableDrawView];</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    _draggedColumnIndex = -1;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    _draggedColumnIsSelected = NO;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    _editingRow = <a class="code" href="_c_p_obj_j_runtime_8j.html#a84e3be579b365cc2c1559e1a1f469238">CPNotFound</a>;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    _editingColumn = <a class="code" href="_c_p_obj_j_runtime_8j.html#a84e3be579b365cc2c1559e1a1f469238">CPNotFound</a>;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="comment">/*      //gradients for the source list when CPTableView is NOT first responder or the window is NOT key</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="comment">    // FIX ME: we need to actually implement this.</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="comment">    _sourceListInactiveGradient = CGGradientCreateWithColorComponents(CGColorSpaceCreateDeviceRGB(), [168.0/255.0,183.0/255.0,205.0/255.0,1.0,157.0/255.0,174.0/255.0,199.0/255.0,1.0], [0,1], 2);</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="comment">    _sourceListInactiveTopLineColor = [CPColor colorWithCalibratedRed:(173.0/255.0) green:(187.0/255.0) blue:(209.0/255.0) alpha:1.0];</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="comment">    _sourceListInactiveBottomLineColor = [CPColor colorWithCalibratedRed:(150.0/255.0) green:(161.0/255.0) blue:(183.0/255.0) alpha:1.0];*/</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    _differedColumnDataToRemove = [];</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    _needsDifferedTableColumnRemove = NO;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    _implementsCustomDrawRow = [<span class="keyword">self</span> implementsSelector:@selector(drawRow:clipRect:)];</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <span class="keywordflow">if</span> (!_sortDescriptors)</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        _sortDescriptors = [];</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    [<span class="keyword">self</span> _initSubclass];</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;}</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;- (void)_initSubclass</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;{</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    _BlockDeselectView = <span class="keyword">function</span>(view, row, column)</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    {</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        [view unsetThemeState:CPThemeStateSelectedDataView];</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    };</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    _BlockSelectView = <span class="keyword">function</span>(view, row, column)</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    {</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        [view setThemeState:CPThemeStateSelectedDataView];</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    };</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;}</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;</div>
<div class="line"><a name="l00547"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a9ded9f0d3d142023c208fb2a0c3ffd75">  547</a></span>&#160;- (void)setDataSource:(<span class="keywordtype">id</span> &lt;<a class="code" href="protocol_c_p_table_view_data_source-p.html">CPTableViewDataSource</a>&gt;)aDataSource</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;{</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <span class="keywordflow">if</span> (_dataSource === aDataSource)</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    _dataSource = aDataSource;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    _implementedDataSourceMethods = 0;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <span class="keywordflow">if</span> (!_dataSource)</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    var hasContentBinding = !![<span class="keyword">self</span> <a class="code" href="class_c_p_object.html#a9cf3aec6b8174ee5e69e5ee2280336ed">infoForBinding</a>:@&quot;content&quot;];</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <span class="keywordflow">if</span> ([_dataSource respondsToSelector:<span class="keyword">@selector</span>(numberOfRowsInTableView:)])</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        _implementedDataSourceMethods |= <a class="code" href="_c_p_table_view_8j.html#a79c288910d3f547d5433a6946cec05bc">CPTableViewDataSource_numberOfRowsInTableView_</a>;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <span class="keywordflow">if</span> ([_dataSource respondsToSelector:<span class="keyword">@selector</span>(<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:objectValueForTableColumn:row:)])</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        _implementedDataSourceMethods |= <a class="code" href="_c_p_table_view_8j.html#a23288f0ff7ed53d22d474f4248c733b1">CPTableViewDataSource_tableView_objectValueForTableColumn_row_</a>;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="keywordflow">if</span> ([_dataSource respondsToSelector:<span class="keyword">@selector</span>(<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:setObjectValue:forTableColumn:row:)])</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        _implementedDataSourceMethods |= <a class="code" href="_c_p_table_view_8j.html#a9f25c28df39dca590ad108beb6b4b48b">CPTableViewDataSource_tableView_setObjectValue_forTableColumn_row_</a>;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    <span class="keywordflow">if</span> ([_dataSource respondsToSelector:<span class="keyword">@selector</span>(<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:acceptDrop:row:dropOperation:)])</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        _implementedDataSourceMethods |= <a class="code" href="_c_p_table_view_8j.html#a71f4aae1a37e8503f63542e1d977edce">CPTableViewDataSource_tableView_acceptDrop_row_dropOperation_</a>;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <span class="keywordflow">if</span> ([_dataSource respondsToSelector:<span class="keyword">@selector</span>(<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:namesOfPromisedFilesDroppedAtDestination:forDraggedRowsWithIndexes:)])</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        _implementedDataSourceMethods |= <a class="code" href="_c_p_table_view_8j.html#a70eaee52bd8ae42e829dc246bfffa90f">CPTableViewDataSource_tableView_namesOfPromisedFilesDroppedAtDestination_forDraggedRowsWithIndexes_</a>;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    <span class="keywordflow">if</span> ([_dataSource respondsToSelector:<span class="keyword">@selector</span>(<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:validateDrop:proposedRow:proposedDropOperation:)])</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        _implementedDataSourceMethods |= <a class="code" href="_c_p_table_view_8j.html#a4f6917aa9754d8c13c933ae043ca4963">CPTableViewDataSource_tableView_validateDrop_proposedRow_proposedDropOperation_</a>;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <span class="keywordflow">if</span> ([_dataSource respondsToSelector:<span class="keyword">@selector</span>(<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:writeRowsWithIndexes:toPasteboard:)])</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        _implementedDataSourceMethods |= <a class="code" href="_c_p_table_view_8j.html#a3fb0a731ef8cca0484830f426bcbe81f">CPTableViewDataSource_tableView_writeRowsWithIndexes_toPasteboard_</a>;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <span class="keywordflow">if</span> ([_dataSource respondsToSelector:<span class="keyword">@selector</span>(<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:sortDescriptorsDidChange:)])</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        _implementedDataSourceMethods |= <a class="code" href="_c_p_table_view_8j.html#a3270c812883a130ed7efbc0f119a8ec7">CPTableViewDataSource_tableView_sortDescriptorsDidChange_</a>;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    [<span class="keyword">self</span> _reloadDataViews];</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;}</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;</div>
<div class="line"><a name="l00590"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a95b4de8f3494b67946e65f9cc914bd63">  590</a></span>&#160;- (id)dataSource</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;{</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <span class="keywordflow">return</span> _dataSource;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;}</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;<span class="comment">//Loading Data</span></div>
<div class="line"><a name="l00599"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a25ec67f805f6a97b91879cb04933310e">  599</a></span>&#160;<span class="comment"></span>- (void)reloadData</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;{</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    [<span class="keyword">self</span> _reloadDataViews];</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;}</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;</div>
<div class="line"><a name="l00609"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a69ae01655437f565b3f51bd2805fe68a">  609</a></span>&#160;- (void)reloadDataForRowIndexes:(<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a>)rowIndexes columnIndexes:(<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a>)columnIndexes</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;{</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a25ec67f805f6a97b91879cb04933310e">reloadData</a>];</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;}</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;<span class="comment">// Reloads the data, not the views</span></div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;- (void)_reloadDataForRowIndexes:(<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a>)rowIndexes columnIndexes:(<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a>)columnIndexes</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;{</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    [<span class="keyword">self</span> _enumerateViewsInRows:rowIndexes columns:columnIndexes usingBlock:function(view, row, column, stop)</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    {</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        var tableColumn = [_tableColumns objectAtIndex:column];</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        [<span class="keyword">self</span> _setObjectValueForTableColumn:tableColumn row:row forView:view useCache:NO];</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    }];</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;}</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;<span class="comment">// Reloads the views AND the data</span></div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;- (void)_reloadDataViews</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;{</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <span class="comment">//if (!_dataSource)</span></div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <span class="comment">//    return;</span></div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    _reloadAllRows = YES;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    _objectValues = { };</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    _cachedRowHeights = [];</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <span class="comment">// Otherwise, if we have a row marked as group with a</span></div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="comment">// index greater than the new number or rows</span></div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    <span class="comment">// it keeps the the graphical group style.</span></div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    [_groupRows removeAllIndexes];</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    <span class="comment">// This updates the size too.</span></div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    [<span class="keyword">self</span> noteNumberOfRowsChanged];</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    [<span class="keyword">self</span> setNeedsLayout];</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    [<span class="keyword">self</span> setNeedsDisplay:YES];</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;}</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;<span class="comment">//Target-action Behavior</span></div>
<div class="line"><a name="l00653"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a0b5806376d8b3bd70908606b9f033967">  653</a></span>&#160;<span class="comment"></span>- (void)setDoubleAction:(<span class="keywordtype">SEL</span>)anAction</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;{</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    _doubleAction = anAction;</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;}</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;</div>
<div class="line"><a name="l00661"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a88e1bd1cff9f5263bbf63e70fe072590">  661</a></span>&#160;- (SEL)doubleAction</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;{</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <span class="keywordflow">return</span> _doubleAction;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;}</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;<span class="comment">    Returns the index of the the column the user clicked to trigger an action, or -1 if no column was clicked.</span></div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00669"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a98e386b21a1750da4a07947ba2a619ff">  669</a></span>&#160;- (CPInteger)clickedColumn</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;{</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    <span class="keywordflow">return</span> _clickedColumn;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;}</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;</div>
<div class="line"><a name="l00677"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#abbefdb91b142a102b886bc6b1081590b">  677</a></span>&#160;- (CPInteger)clickedRow</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;{</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    <span class="keywordflow">return</span> _clickedRow;</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;}</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;<span class="comment">//Configuring Behavior</span></div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;</div>
<div class="line"><a name="l00687"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#ac51162f8f381b09f8d5675f93f20dc3e">  687</a></span>&#160;- (void)setAllowsColumnReordering:(BOOL)shouldAllowColumnReordering</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;{</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    _allowsColumnReordering = !!shouldAllowColumnReordering;</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;}</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;</div>
<div class="line"><a name="l00695"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#aafea3a20010fe56053976716aefd3e23">  695</a></span>&#160;- (BOOL)allowsColumnReordering</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;{</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    <span class="keywordflow">return</span> _allowsColumnReordering;</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;}</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;</div>
<div class="line"><a name="l00704"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a2d6fa30d3c1e3ca05fb35c0a3399936b">  704</a></span>&#160;- (void)setAllowsColumnResizing:(BOOL)shouldAllowColumnResizing</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;{</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    _allowsColumnResizing = !!shouldAllowColumnResizing;</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;}</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;</div>
<div class="line"><a name="l00712"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#aff343b53a8899d41f057c9cc83623246">  712</a></span>&#160;- (BOOL)allowsColumnResizing</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;{</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <span class="keywordflow">return</span> _allowsColumnResizing;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;}</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;</div>
<div class="line"><a name="l00721"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a686ac257cf5af1e68814683a8221bc73">  721</a></span>&#160;- (void)setAllowsMultipleSelection:(BOOL)shouldAllowMultipleSelection</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;{</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    _allowsMultipleSelection = !!shouldAllowMultipleSelection;</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;}</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;</div>
<div class="line"><a name="l00731"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#aabfd101c3912b0326c6c3771f6b7563f">  731</a></span>&#160;- (BOOL)allowsMultipleSelection</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;{</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    <span class="keywordflow">return</span> _allowsMultipleSelection;</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;}</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;</div>
<div class="line"><a name="l00740"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#af021ea8b8110ac3546501724d00e5310">  740</a></span>&#160;- (void)setAllowsEmptySelection:(BOOL)shouldAllowEmptySelection</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;{</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    _allowsEmptySelection = !!shouldAllowEmptySelection;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;}</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;</div>
<div class="line"><a name="l00748"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a2564b452a1cc98317407513f15853a0b">  748</a></span>&#160;- (BOOL)allowsEmptySelection</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;{</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    <span class="keywordflow">return</span> _allowsEmptySelection;</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;}</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;</div>
<div class="line"><a name="l00758"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#aabe3fb9faaa638fdc941544fca72c7f3">  758</a></span>&#160;- (void)setAllowsColumnSelection:(BOOL)shouldAllowColumnSelection</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;{</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    _allowsColumnSelection = !!shouldAllowColumnSelection;</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;}</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;</div>
<div class="line"><a name="l00767"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#ac26501a6db564b0ff7c3574f6fa675ae">  767</a></span>&#160;- (BOOL)allowsColumnSelection</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;{</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    <span class="keywordflow">return</span> _allowsColumnSelection;</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;}</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;<span class="comment">//Setting Display Attributes</span></div>
<div class="line"><a name="l00779"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#ae865cae60edeccb26435c710eb6198b9">  779</a></span>&#160;<span class="comment"></span>- (void)setIntercellSpacing:(CGSize)aSize</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;{</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    <span class="keywordflow">if</span> (CGSizeEqualToSize(_intercellSpacing, aSize))</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    _intercellSpacing = CGSizeMakeCopy(aSize);</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    _dirtyTableColumnRangeIndex = 0; <span class="comment">// so that _recalculateTableColumnRanges will work</span></div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    [<span class="keyword">self</span> _recalculateTableColumnRanges];</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    [_headerView setNeedsDisplay:YES];</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    [_headerView setNeedsLayout];</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    [<span class="keyword">self</span> _reloadDataViews];</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;}</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;</div>
<div class="line"><a name="l00798"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#afc5c31281c6039f4f36f5b156152f98b">  798</a></span>&#160;- (CGSize)intercellSpacing</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;{</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    <span class="keywordflow">return</span> CGSizeMakeCopy(_intercellSpacing);</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;}</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;</div>
<div class="line"><a name="l00809"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a81cdb48fa8ad23cbab2f9ed44f6ff172">  809</a></span>&#160;- (void)setRowHeight:(<span class="keywordtype">unsigned</span>)aRowHeight</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;{</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    <span class="comment">// Accept row heights such as &quot;0&quot;.</span></div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    aRowHeight = +aRowHeight;</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <span class="keywordflow">if</span> (_rowHeight === aRowHeight)</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    _rowHeight = MAX(0.0, aRowHeight);</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a45bd62a3fb6f8dec17b8a955ad08632d">setNeedsLayout</a>];</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;}</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;</div>
<div class="line"><a name="l00825"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a37b1a549fa54390fd5c824fc2a405122">  825</a></span>&#160;- (unsigned)rowHeight</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;{</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    <span class="keywordflow">return</span> _rowHeight;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;}</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;</div>
<div class="line"><a name="l00835"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a6265d6d38253d8e95a112e226cdefe4d">  835</a></span>&#160;- (void)setUsesAlternatingRowBackgroundColors:(BOOL)shouldUseAlternatingRowBackgroundColors</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;{</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    _usesAlternatingRowBackgroundColors = shouldUseAlternatingRowBackgroundColors;</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;}</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;</div>
<div class="line"><a name="l00843"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a10754c93019a092e554c07ac969adf59">  843</a></span>&#160;- (BOOL)usesAlternatingRowBackgroundColors</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;{</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    <span class="keywordflow">return</span> _usesAlternatingRowBackgroundColors;</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;}</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;</div>
<div class="line"><a name="l00853"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#aa50e7802368fe0b0be6756beaa70fd71">  853</a></span>&#160;- (void)setAlternatingRowBackgroundColors:(CPArray)alternatingRowBackgroundColors</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;{</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_view.html#aef66087609325a807be431e1f40424e2">setValue</a>:alternatingRowBackgroundColors <a class="code" href="interface_c_p_view.html#aef66087609325a807be431e1f40424e2">forThemeAttribute</a>:@&quot;alternating-row-colors&quot;];</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a31af19dc321476a95414cd5e5da60ef0">setNeedsDisplay</a>:YES];</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;}</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;</div>
<div class="line"><a name="l00863"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#aa31301940f52f185b7905f89a17e9bc1">  863</a></span>&#160;- (CPArray)alternatingRowBackgroundColors</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;{</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    <span class="keywordflow">return</span> [<span class="keyword">self</span> <a class="code" href="interface_c_p_view.html#a5c464f67ba8046d256adbf1cb549fb4c">currentValueForThemeAttribute</a>:@&quot;alternating-row-colors&quot;];</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;}</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;</div>
<div class="line"><a name="l00879"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#afb36a911c32b6b31152cbb458feebc3b">  879</a></span>&#160;- (unsigned)selectionHighlightStyle</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;{</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    <span class="keywordflow">return</span> _selectionHighlightStyle;</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;}</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;</div>
<div class="line"><a name="l00895"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#af68f68ebb5944d09c7b999d124aebd97">  895</a></span>&#160;- (void)setSelectionHighlightStyle:(<span class="keywordtype">unsigned</span>)aSelectionHighlightStyle</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;{</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    _selectionHighlightStyle = aSelectionHighlightStyle;</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    <span class="keywordflow">if</span> (aSelectionHighlightStyle === <a class="code" href="_c_p_table_view_8j.html#a9b1494c16eb023b6a546dc0fb584fce7">CPTableViewSelectionHighlightStyleSourceList</a>)</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;        _destinationDragStyle = <a class="code" href="_c_p_table_view_8j.html#a5c1e1977569dc9ea54f519916529114b">CPTableViewDraggingDestinationFeedbackStyleSourceList</a>;</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;        _destinationDragStyle = <a class="code" href="_c_p_table_view_8j.html#a4b9131f16846d5b2e77fbb2d855f48c1">CPTableViewDraggingDestinationFeedbackStyleRegular</a>;</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    [<span class="keyword">self</span> _updateHighlightWithOldRows:[<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a> <a class="code" href="interface_c_p_index_set.html#a339845eb2d96fae878209105dde5e140">indexSet</a>] newRows:_selectedRowIndexes];</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    [<span class="keyword">self</span> _updateHighlightWithOldColumns:[<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a> <a class="code" href="interface_c_p_index_set.html#a339845eb2d96fae878209105dde5e140">indexSet</a>] newColumns:_selectedColumnIndexes];</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a31af19dc321476a95414cd5e5da60ef0">setNeedsDisplay</a>:YES];</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;}</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;</div>
<div class="line"><a name="l00914"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a5f2f774a6cf944e13a927e4577109e3a">  914</a></span>&#160;- (void)setSelectionHighlightColor:(<a class="code" href="interface_c_p_color.html">CPColor</a>)aColor</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;{</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    <span class="keywordflow">if</span> ([[<span class="keyword">self</span> selectionHighlightColor] <a class="code" href="_c_p_attributed_string_8j.html#a6372d023555b0dc11291093b23ab3dfe">isEqual</a>:aColor])</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_view.html#aef66087609325a807be431e1f40424e2">setValue</a>:aColor <a class="code" href="interface_c_p_view.html#aef66087609325a807be431e1f40424e2">forThemeAttribute</a>:@&quot;selection-color&quot;];</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a31af19dc321476a95414cd5e5da60ef0">setNeedsDisplay</a>:YES];</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;}</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;</div>
<div class="line"><a name="l00926"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#ad7269481be5a77cb295ec2328d8576df">  926</a></span>&#160;- (<a class="code" href="interface_c_p_color.html">CPColor</a>)selectionHighlightColor</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;{</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    <span class="keywordflow">return</span> [<span class="keyword">self</span> <a class="code" href="interface_c_p_view.html#a5c464f67ba8046d256adbf1cb549fb4c">currentValueForThemeAttribute</a>:@&quot;selection-color&quot;];</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;}</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;</div>
<div class="line"><a name="l00934"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#af8ddaab656284351f053aa3336d1f317">  934</a></span>&#160;- (<a class="code" href="interface_c_p_color.html">CPColor</a>)unfocusedSelectionHighlightColor</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;{</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    <span class="keywordflow">if</span> (!_unfocusedSelectionHighlightColor)</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;        _unfocusedSelectionHighlightColor = [<span class="keyword">self</span> _unfocusedSelectionColorFromColor:[<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#ad7269481be5a77cb295ec2328d8576df">selectionHighlightColor</a>] saturation:0];</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    <span class="keywordflow">return</span> _unfocusedSelectionHighlightColor;</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;}</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;</div>
<div class="line"><a name="l00953"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a71e1f5aa747523569a463f5dbe9afdac">  953</a></span>&#160;- (void)setSelectionGradientColors:(<a class="code" href="interface_c_p_dictionary.html" title="A mutable key-value pair collection. ">CPDictionary</a>)aDictionary</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;{</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_view.html#aef66087609325a807be431e1f40424e2">setValue</a>:aDictionary <a class="code" href="interface_c_p_view.html#aef66087609325a807be431e1f40424e2">forThemeAttribute</a>:@&quot;sourcelist-selection-color&quot;];</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a31af19dc321476a95414cd5e5da60ef0">setNeedsDisplay</a>:YES];</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;}</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;</div>
<div class="line"><a name="l00967"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a6a923296245546e44a0c25f7709a1285">  967</a></span>&#160;- (<a class="code" href="interface_c_p_dictionary.html" title="A mutable key-value pair collection. ">CPDictionary</a>)selectionGradientColors</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;{</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    <span class="keywordflow">return</span> [<span class="keyword">self</span> <a class="code" href="interface_c_p_view.html#a5c464f67ba8046d256adbf1cb549fb4c">currentValueForThemeAttribute</a>:@&quot;sourcelist-selection-color&quot;];</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;}</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;</div>
<div class="line"><a name="l00981"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#adf6e7e4cb4a8711e30c3ed90f0391d13">  981</a></span>&#160;- (<a class="code" href="interface_c_p_color.html">CPColor</a>)unfocusedSelectionGradientColors</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;{</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    <span class="keywordflow">if</span> (!_unfocusedSourceListSelectionColor)</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    {</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;        var sourceListColors = [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a6a923296245546e44a0c25f7709a1285">selectionGradientColors</a>];</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;        _unfocusedSourceListSelectionColor = @{</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;            <a class="code" href="_c_p_table_view_8j.html#ada5bc5795efd9616ee12493f704326f3">CPSourceListGradient</a>: [<span class="keyword">self</span> _unfocusedGradientFromGradient:[sourceListColors objectForKey:CPSourceListGradient]],</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;            <a class="code" href="_c_p_table_view_8j.html#adce48404c5e3cd2d4d0c138e5e1a0bfe">CPSourceListTopLineColor</a>: [<span class="keyword">self</span> _unfocusedSelectionColorFromColor:[sourceListColors objectForKey:CPSourceListTopLineColor] saturation:0.2],</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;            <a class="code" href="_c_p_table_view_8j.html#a465d9d7df4346c4d8a82919df3c8f938">CPSourceListBottomLineColor</a>: [<span class="keyword">self</span> _unfocusedSelectionColorFromColor:[sourceListColors objectForKey:CPSourceListBottomLineColor] saturation:0.2]</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;        };</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    }</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    <span class="keywordflow">return</span> _unfocusedSourceListSelectionColor;</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;}</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;- (<a class="code" href="interface_c_p_color.html">CPColor</a>)_unfocusedSelectionColorFromColor:(<a class="code" href="interface_c_p_color.html">CPColor</a>)aColor saturation:(<span class="keywordtype">float</span>)saturation</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;{</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    var hsb = [aColor <a class="code" href="interface_c_p_color.html#a0aafbe76686c84c6fb924a3ff22af3f8">hsbComponents</a>];</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    <span class="keywordflow">return</span> [<a class="code" href="interface_c_p_color.html">CPColor</a> <a class="code" href="interface_c_p_color.html#a037edf0c131e5164485d7282c3c13836">colorWithHue</a>:hsb[0] <a class="code" href="interface_c_p_color.html#a037edf0c131e5164485d7282c3c13836">saturation</a>:hsb[1] * saturation <a class="code" href="interface_c_p_color.html#a037edf0c131e5164485d7282c3c13836">brightness</a>:hsb[2]];</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;}</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;- (CGGradient)_unfocusedGradientFromGradient:(CGGradient)aGradient</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;{</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    var colors = [aGradient.colors copy],</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;        count = [colors count];</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    <span class="keywordflow">while</span> (count--)</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    {</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;        var rgba = colors[count].<a class="code" href="interface_c_p_color.html#a1e75843670613a049de20920a040d608">components</a>,</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;            hsb = [<span class="keyword">self</span> _unfocusedSelectionColorFromColor:[<a class="code" href="interface_c_p_color.html">CPColor</a> <a class="code" href="interface_c_p_color.html#a53e6bdd0c0cba190891d19dd30ac36f1">colorWithRed</a>:rgba[0] <a class="code" href="interface_c_p_color.html#a53e6bdd0c0cba190891d19dd30ac36f1">green</a>:rgba[1] <a class="code" href="interface_c_p_color.html#a53e6bdd0c0cba190891d19dd30ac36f1">blue</a>:rgba[2] <a class="code" href="interface_c_p_color.html#a53e6bdd0c0cba190891d19dd30ac36f1">alpha</a>:rgba[3]] saturation:0.2];</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;        colors[count] = <a class="code" href="_c_g_color_8j.html#af5e4c5b7c77b5b905e33ac78919055e6">CGColorCreate</a>(aGradient.colorspace, [[hsb components] copy]);</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    }</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="_c_g_gradient_8j.html#a71e1057637ad447b0d22248d684b8125">CGGradientCreateWithColors</a>(aGradient.colorspace, colors, aGradient.locations);</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;}</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;</div>
<div class="line"><a name="l01024"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a87d09099f126a8e7e741a192e05e10f7"> 1024</a></span>&#160;- (void)setGridColor:(<a class="code" href="interface_c_p_color.html">CPColor</a>)aColor</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;{</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_view.html#aef66087609325a807be431e1f40424e2">setValue</a>:aColor <a class="code" href="interface_c_p_view.html#aef66087609325a807be431e1f40424e2">forThemeAttribute</a>:@&quot;grid-color&quot;];</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a31af19dc321476a95414cd5e5da60ef0">setNeedsDisplay</a>:YES];</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;}</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;</div>
<div class="line"><a name="l01034"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a23c390780203dd17c0593b269b705814"> 1034</a></span>&#160;- (<a class="code" href="interface_c_p_color.html">CPColor</a>)gridColor</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;{</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;    <span class="keywordflow">return</span> [<span class="keyword">self</span> <a class="code" href="interface_c_p_view.html#a5c464f67ba8046d256adbf1cb549fb4c">currentValueForThemeAttribute</a>:@&quot;grid-color&quot;];;</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;}</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;</div>
<div class="line"><a name="l01044"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a10dc95485219186d423799fedac67efd"> 1044</a></span>&#160;- (void)setGridStyleMask:(<span class="keywordtype">unsigned</span>)aGrideStyleMask</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;{</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    <span class="keywordflow">if</span> (_gridStyleMask === aGrideStyleMask)</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    _gridStyleMask = aGrideStyleMask;</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a31af19dc321476a95414cd5e5da60ef0">setNeedsDisplay</a>:YES];</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;}</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;</div>
<div class="line"><a name="l01057"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a9b133d62d7aba9a887f38e686627e160"> 1057</a></span>&#160;- (unsigned)gridStyleMask</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;{</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    <span class="keywordflow">return</span> _gridStyleMask;</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;}</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;<span class="comment">//Column Management</span></div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;</div>
<div class="line"><a name="l01068"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a3ab58abeecd8620354e7686b04869331"> 1068</a></span>&#160;- (void)addTableColumn:(<a class="code" href="interface_c_p_table_column.html">CPTableColumn</a>)aTableColumn</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;{</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    [_tableColumns addObject:aTableColumn];</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    [aTableColumn <a class="code" href="interface_c_p_table_column.html#ad5566ac159b6de84c6672343cbffae17">setTableView</a>:self];</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;    <span class="keywordflow">if</span> (_dirtyTableColumnRangeIndex &lt; 0)</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;        _dirtyTableColumnRangeIndex = <a class="code" href="_c_p_table_view_8j.html#aa0c3e20940452d04b6708ec8b82b482b">NUMBER_OF_COLUMNS</a>() - 1;</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;        _dirtyTableColumnRangeIndex = MIN(<a class="code" href="_c_p_table_view_8j.html#aa0c3e20940452d04b6708ec8b82b482b">NUMBER_OF_COLUMNS</a>() - 1, _dirtyTableColumnRangeIndex);</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    <span class="keywordflow">if</span> ([[<span class="keyword">self</span> sortDescriptors] count] &gt; 0)</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    {</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;        var mainSortDescriptor = [[<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#ad471440f19239990d1947a3a2f026f2a">sortDescriptors</a>] objectAtIndex:0];</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;        <span class="keywordflow">if</span> (aTableColumn === [<span class="keyword">self</span> _tableColumnForSortDescriptor:mainSortDescriptor])</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;        {</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;            var image = [mainSortDescriptor ascending] ? [<span class="keyword">self</span> _tableHeaderSortImage] : [<span class="keyword">self</span> _tableHeaderReverseSortImage];</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;            [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#af9691a3301ba43ac53f9e8f2333476a4">setIndicatorImage</a>:image <a class="code" href="interface_c_p_table_view.html#af9691a3301ba43ac53f9e8f2333476a4">inTableColumn</a>:aTableColumn];</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;        }</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    }</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#af2af4f3cd8a4020f17c25c64548051ea">tile</a>];</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a45bd62a3fb6f8dec17b8a955ad08632d">setNeedsLayout</a>];</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;}</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;</div>
<div class="line"><a name="l01097"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a198e564259771a27d4ab7664c591cde2"> 1097</a></span>&#160;- (void)removeTableColumn:(<a class="code" href="interface_c_p_table_column.html">CPTableColumn</a>)aTableColumn</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;{</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    <span class="keywordflow">if</span> ([aTableColumn <a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>] !== <span class="keyword">self</span>)</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    var index = [_tableColumns indexOfObjectIdenticalTo:aTableColumn];</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    <span class="keywordflow">if</span> (index === <a class="code" href="_c_p_obj_j_runtime_8j.html#a84e3be579b365cc2c1559e1a1f469238">CPNotFound</a>)</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    <span class="comment">// we defer the actual removal until the end of the runloop in order to keep a reference to the column.</span></div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    [_differedColumnDataToRemove addObject:{&quot;column&quot;:aTableColumn, &quot;shouldBeHidden&quot;: [aTableColumn <a class="code" href="interface_c_p_table_column.html#a8f44d171a90cd05c28345ea16fe51bb0">isHidden</a>]}];</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    _needsDifferedTableColumnRemove = YES;</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    [aTableColumn <a class="code" href="interface_c_p_table_column.html#adbb4897cd4e7a65da3a00841a2b8726d">setHidden</a>:YES];</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    [aTableColumn <a class="code" href="interface_c_p_table_column.html#ad5566ac159b6de84c6672343cbffae17">setTableView</a>:nil];</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    var tableColumnUID = [aTableColumn <a class="code" href="class_c_p_object.html#a0a43b4c06f2233cbccc9d12f1ff6e444">UID</a>];</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    <span class="keywordflow">if</span> (_objectValues[tableColumnUID])</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;        _objectValues[tableColumnUID] = nil;</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    <span class="keywordflow">if</span> (_dirtyTableColumnRangeIndex &lt; 0)</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;        _dirtyTableColumnRangeIndex = index;</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;        _dirtyTableColumnRangeIndex = MIN(index, _dirtyTableColumnRangeIndex);</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a25ec67f805f6a97b91879cb04933310e">reloadData</a>];</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    [[<a class="code" href="interface_c_p_run_loop.html" title="The main run loop for the application. ">CPRunLoop</a> <a class="code" href="interface_c_p_run_loop.html#aba93f1cef957bad4353ce060981c0b9d">currentRunLoop</a>] <a class="code" href="interface_c_p_run_loop.html#aad8e51e44d4c17634d8c45c1ca540217">limitDateForMode</a>:CPDefaultRunLoopMode];</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;}</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;- (void)_setDraggedColumn:(CPInteger)columnIndex</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;{</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    <span class="keywordflow">if</span> (_draggedColumnIndex === <a class="code" href="_c_p_table_view_8j.html#a8fcaace9d7ea1c63a8ab03f24af2fbae">columnIndex</a>)</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;    <span class="comment">// If ending a column drag, reselect the column if it was selected before the drag</span></div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="_c_p_table_view_8j.html#a8fcaace9d7ea1c63a8ab03f24af2fbae">columnIndex</a> === -1 &amp;&amp; _draggedColumnIsSelected)</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;        [_selectedColumnIndexes addIndex:_draggedColumnIndex];</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;    _draggedColumnIndex = <a class="code" href="_c_p_table_view_8j.html#a8fcaace9d7ea1c63a8ab03f24af2fbae">columnIndex</a>;</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;}</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;<span class="comment">    @ignore</span></div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;<span class="comment">    Same as moveColumn:toColumn: but doesn&#39;t trigger an autosave</span></div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;- (void)_moveColumn:(<span class="keywordtype">unsigned</span>)fromIndex toColumn:(<span class="keywordtype">unsigned</span>)toIndex</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;{</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    <span class="comment">// Convert parameters such as &quot;0&quot; to 0.</span></div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;    fromIndex = +fromIndex;</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;    toIndex = +toIndex;</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    <span class="keywordflow">if</span> (fromIndex === toIndex)</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    <span class="keywordflow">if</span> (_dirtyTableColumnRangeIndex &lt; 0)</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;        _dirtyTableColumnRangeIndex = MIN(fromIndex, toIndex);</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;        _dirtyTableColumnRangeIndex = MIN(fromIndex, toIndex, _dirtyTableColumnRangeIndex);</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    var tableColumn = _tableColumns[fromIndex],</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;        selectedTableColumns = [_tableColumns objectsAtIndexes:_selectedColumnIndexes];</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;    [_tableColumns removeObjectAtIndex:fromIndex];</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;    [_tableColumns insertObject:tableColumn atIndex:toIndex];</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;    [[<span class="keyword">self</span> headerView] setNeedsLayout];</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;    [[<span class="keyword">self</span> headerView] setNeedsDisplay:YES];</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;    var range = <a class="code" href="group__foundation.html#gab09805608dfb3449e840c3ce22d7e7fe">CPMakeRange</a>(MIN(fromIndex, toIndex), ABS(fromIndex - toIndex) + 1),</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;        layoutColumnIndexes = [<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a> <a class="code" href="interface_c_p_index_set.html#a4c32a454bd5323253b9e8c4f81712ea5">indexSetWithIndexesInRange</a>:range],</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;        selectedColumnIndexes = [<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a> <a class="code" href="interface_c_p_index_set.html#a339845eb2d96fae878209105dde5e140">indexSet</a>];</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;    [_tableColumns enumerateObjectsUsingBlock:function(tableColumn, idx, stop)</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    {</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;        if ([selectedTableColumns containsObjectIdenticalTo:tableColumn])</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;            [selectedColumnIndexes addIndex:idx];</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;    }];</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;    <span class="keywordflow">if</span> ([_selectedColumnIndexes containsIndex:fromIndex])</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;        [selectedColumnIndexes addIndex:toIndex];</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;    <span class="keywordflow">if</span> (_draggedColumnIndex !== -1)</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;        [layoutColumnIndexes removeIndex:toIndex];</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    [<span class="keyword">self</span> _layoutViewsForRowIndexes:_exposedRows columnIndexes:layoutColumnIndexes];</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;    [<span class="keyword">self</span> selectColumnIndexes:selectedColumnIndexes byExtendingSelection:NO];</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;    [<span class="keyword">self</span> setNeedsDisplay:YES];</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;    <span class="comment">// Notify even if programmatically moving a column as in Cocoa.</span></div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;    <span class="comment">// TODO Only notify when a column drag operation ends, not each time a column reaches a new slot?</span></div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;    [[<a class="code" href="interface_c_p_notification_center.html" title="Sends messages (CPNotification) between objects. ">CPNotificationCenter</a> <a class="code" href="interface_c_p_notification_center.html#a5abe725f1a1a48ac4cb1e45b6d9d50a8">defaultCenter</a>] <a class="code" href="interface_c_p_notification_center.html#ac5e7dc8d0972292f52736f6f662bb25a">postNotificationName</a>:CPTableViewColumnDidMoveNotification</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;                                                        <a class="code" href="interface_c_p_notification_center.html#ac5e7dc8d0972292f52736f6f662bb25a">object</a>:self</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;                                                      <a class="code" href="interface_c_p_notification_center.html#ac5e7dc8d0972292f52736f6f662bb25a">userInfo</a>:@{  @&quot;CPOldColumn&quot;: fromIndex, @&quot;CPNewColumn&quot;: toIndex }];</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    <span class="keywordflow">if</span> (_implementedDelegateMethods &amp; <a class="code" href="_c_p_table_view_8j.html#a79853e5ccf7715294f3ff8e63c5dbc1d">CPTableViewDelegate_tableViewColumnDidMove_</a>)</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;        [_delegate tableViewColumnDidMove:[[<a class="code" href="interface_c_p_notification.html" title="A notification that can be posted to a CPNotificationCenter. ">CPNotification</a> <a class="code" href="class_c_p_object.html#aa6d290852c6a151058e8e82d053db475">alloc</a>] <a class="code" href="interface_c_p_notification.html#a72649655d083ced1c2bbbf372cfd51b6">initWithName</a>:CPTableViewColumnDidMoveNotification <a class="code" href="interface_c_p_notification.html#a72649655d083ced1c2bbbf372cfd51b6">object</a>:self <a class="code" href="interface_c_p_notification.html#a72649655d083ced1c2bbbf372cfd51b6">userInfo</a>:@{  @&quot;CPOldColumn&quot;: fromIndex, @&quot;CPNewColumn&quot;: toIndex }]];</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;}</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;</div>
<div class="line"><a name="l01206"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a86f553f82a88e3c828faf161579b70ce"> 1206</a></span>&#160;- (void)moveColumn:(CPInteger)theColumnIndex toColumn:(CPInteger)theToIndex</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;{</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    [<span class="keyword">self</span> _moveColumn:theColumnIndex toColumn:theToIndex];</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    [<span class="keyword">self</span> _autosave];</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;}</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;- (void)_tableColumnVisibilityDidChange:(<a class="code" href="interface_c_p_table_column.html">CPTableColumn</a>)aColumn</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;{</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    var <a class="code" href="_c_p_table_view_8j.html#a8fcaace9d7ea1c63a8ab03f24af2fbae">columnIndex</a> = [[<span class="keyword">self</span> tableColumns] indexOfObjectIdenticalTo:aColumn];</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;    <span class="keywordflow">if</span> (_dirtyTableColumnRangeIndex &lt; 0)</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;        _dirtyTableColumnRangeIndex = <a class="code" href="_c_p_table_view_8j.html#a8fcaace9d7ea1c63a8ab03f24af2fbae">columnIndex</a>;</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;        _dirtyTableColumnRangeIndex = MIN(columnIndex, _dirtyTableColumnRangeIndex);</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    [[<span class="keyword">self</span> headerView] setNeedsLayout];</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;    [[<span class="keyword">self</span> headerView] setNeedsDisplay:YES];</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    var rowIndexes = [<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a> <a class="code" href="interface_c_p_index_set.html#a4c32a454bd5323253b9e8c4f81712ea5">indexSetWithIndexesInRange</a>:CPMakeRange(0, [<span class="keyword">self</span> numberOfRows])];</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    [<span class="keyword">self</span> _layoutViewsForRowIndexes:rowIndexes columnIndexes:[<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a> <a class="code" href="interface_c_p_index_set.html#a4aa683fde78ba593d0e70040125ed306">indexSetWithIndex</a>:columnIndex]];</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;}</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;</div>
<div class="line"><a name="l01235"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#addef4fffbf36e02b399b1fad4425b71e"> 1235</a></span>&#160;- (CPArray)tableColumns</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;{</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    <span class="keywordflow">return</span> _tableColumns;</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;}</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;</div>
<div class="line"><a name="l01246"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a0e0170cf4b064a18328eaf849f164151"> 1246</a></span>&#160;- (CPInteger)columnWithIdentifier:(<a class="code" href="interface_c_p_string.html" title="An immutable string (collection of characters). ">CPString</a>)anIdentifier</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;{</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    var index = 0,</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;        count = <a class="code" href="_c_p_table_view_8j.html#aa0c3e20940452d04b6708ec8b82b482b">NUMBER_OF_COLUMNS</a>();</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    <span class="keywordflow">for</span> (; index &lt; count; ++index)</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;        <span class="keywordflow">if</span> ([_tableColumns[index] identifier] === anIdentifier)</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;            <span class="keywordflow">return</span> index;</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="_c_p_obj_j_runtime_8j.html#a84e3be579b365cc2c1559e1a1f469238">CPNotFound</a>;</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;}</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;</div>
<div class="line"><a name="l01264"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#ac38f1645e78de903c53e3d51ea2c34ac"> 1264</a></span>&#160;- (<a class="code" href="interface_c_p_table_column.html">CPTableColumn</a>)tableColumnWithIdentifier:(<a class="code" href="interface_c_p_string.html" title="An immutable string (collection of characters). ">CPString</a>)anIdentifier</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;{</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    var index = [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a0e0170cf4b064a18328eaf849f164151">columnWithIdentifier</a>:anIdentifier];</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    <span class="keywordflow">if</span> (index === <a class="code" href="_c_p_obj_j_runtime_8j.html#a84e3be579b365cc2c1559e1a1f469238">CPNotFound</a>)</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;        <span class="keywordflow">return</span> nil;</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    <span class="keywordflow">return</span> _tableColumns[index];</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;}</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;- (void)_didResizeTableColumn:(<a class="code" href="interface_c_p_table_column.html">CPTableColumn</a>)theColumn oldWidth:(<span class="keywordtype">int</span>)oldWidth</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;{</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;    [<span class="keyword">self</span> _autosave];</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;    [[<a class="code" href="interface_c_p_notification_center.html" title="Sends messages (CPNotification) between objects. ">CPNotificationCenter</a> <a class="code" href="interface_c_p_notification_center.html#a5abe725f1a1a48ac4cb1e45b6d9d50a8">defaultCenter</a>]</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;        <a class="code" href="interface_c_p_notification_center.html#ac5e7dc8d0972292f52736f6f662bb25a">postNotificationName</a>:CPTableViewColumnDidResizeNotification</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;                      <a class="code" href="interface_c_p_notification_center.html#ac5e7dc8d0972292f52736f6f662bb25a">object</a>:self</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;                    <a class="code" href="interface_c_p_notification_center.html#ac5e7dc8d0972292f52736f6f662bb25a">userInfo</a>:@{ @&quot;CPTableColumn&quot;: theColumn, @&quot;CPOldWidth&quot;: oldWidth }];</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;    <span class="keywordflow">if</span> (_implementedDelegateMethods &amp; <a class="code" href="_c_p_table_view_8j.html#a0aaac5c622dc409e714d5e6400f212ed">CPTableViewDelegate_tableViewColumnDidResize_</a>)</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;        [_delegate tableViewColumnDidResize:[[<a class="code" href="interface_c_p_notification.html" title="A notification that can be posted to a CPNotificationCenter. ">CPNotification</a> <a class="code" href="class_c_p_object.html#aa6d290852c6a151058e8e82d053db475">alloc</a>] <a class="code" href="interface_c_p_notification.html#a72649655d083ced1c2bbbf372cfd51b6">initWithName</a>:CPTableViewColumnDidResizeNotification <a class="code" href="interface_c_p_notification.html#a72649655d083ced1c2bbbf372cfd51b6">object</a>:self <a class="code" href="interface_c_p_notification.html#a72649655d083ced1c2bbbf372cfd51b6">userInfo</a>:@{ @&quot;CPTableColumn&quot;: theColumn, @&quot;CPOldWidth&quot;: oldWidth }]];</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;}</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;<span class="comment">//Selecting Columns and Rows</span></div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;</div>
<div class="line"><a name="l01298"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#aea838609fe453ae9ed670d98c3c4ff04"> 1298</a></span>&#160;- (void)selectColumnIndexes:(<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a>)columns byExtendingSelection:(BOOL)shouldExtendSelection</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;{</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    <span class="comment">// If we&#39;re out of range, just return</span></div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    <span class="keywordflow">if</span> (([columns firstIndex] != <a class="code" href="_c_p_obj_j_runtime_8j.html#a84e3be579b365cc2c1559e1a1f469238">CPNotFound</a> &amp;&amp; [columns firstIndex] &lt; 0) || [columns lastIndex] &gt;= [<span class="keyword">self</span> numberOfColumns] || (!shouldExtendSelection &amp;&amp; [columns isEqualToIndexSet:_selectedColumnIndexes]) || (shouldExtendSelection &amp;&amp; [columns count] === 0))</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    <span class="comment">// We deselect all rows when selecting columns.</span></div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    <span class="keywordflow">if</span> ([_selectedRowIndexes count] &gt; 0)</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    {</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;        [<span class="keyword">self</span> _updateHighlightWithOldRows:_selectedRowIndexes newRows:[<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a> <a class="code" href="interface_c_p_index_set.html#a339845eb2d96fae878209105dde5e140">indexSet</a>]];</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;        _selectedRowIndexes = [<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a> <a class="code" href="interface_c_p_index_set.html#a339845eb2d96fae878209105dde5e140">indexSet</a>];</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;    }</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;    var previousSelectedIndexes = [_selectedColumnIndexes copy];</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;    <span class="keywordflow">if</span> (shouldExtendSelection)</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;        [_selectedColumnIndexes addIndexes:columns];</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;        _selectedColumnIndexes = [columns <a class="code" href="interface_c_p_index_set.html#a90dc099b597c7bdfcd18c8b7d51e7ca1">copy</a>];</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;    [<span class="keyword">self</span> _updateHighlightWithOldColumns:previousSelectedIndexes newColumns:_selectedColumnIndexes];</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a31af19dc321476a95414cd5e5da60ef0">setNeedsDisplay</a>:YES]; <span class="comment">// FIXME: should be setNeedsDisplayInRect:enclosing rect of new (de)selected columns</span></div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;                              <span class="comment">// but currently -drawRect: is not implemented here</span></div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    <span class="keywordflow">if</span> (_headerView)</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;        [_headerView setNeedsDisplay:YES];</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    [<span class="keyword">self</span> _noteSelectionDidChange];</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;}</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;- (void)_setSelectedRowIndexes:(<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a>)rows</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;{</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;    <span class="keywordflow">if</span> ([_selectedRowIndexes isEqualToIndexSet:rows])</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;    var previousSelectedIndexes = _selectedRowIndexes;</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;    _lastSelectedRow = ([rows count] &gt; 0) ? [rows lastIndex] : -1;</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;    _selectedRowIndexes = [rows copy];</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;    [<span class="keyword">self</span> _updateHighlightWithOldRows:previousSelectedIndexes newRows:_selectedRowIndexes];</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;    [<span class="keyword">self</span> setNeedsDisplay:YES]; <span class="comment">// FIXME: should be setNeedsDisplayInRect:enclosing rect of new (de)selected rows</span></div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;                              <span class="comment">// but currently -drawRect: is not implemented here</span></div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;    var binderClass = [[<span class="keyword">self</span> class] _binderClassForBinding:@&quot;selectionIndexes&quot;];</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;    [[binderClass getBinding:@&quot;selectionIndexes&quot; forObject:self] reverseSetValueFor:@&quot;selectedRowIndexes&quot;];</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;    [<span class="keyword">self</span> _noteSelectionDidChange];</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;}</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;</div>
<div class="line"><a name="l01356"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a9b6204a962c90a046897dce505fec408"> 1356</a></span>&#160;- (void)selectRowIndexes:(<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a>)rows byExtendingSelection:(BOOL)shouldExtendSelection</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;{</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;    <span class="keywordflow">if</span> ([rows isEqualToIndexSet:_selectedRowIndexes] ||</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;        (([rows firstIndex] != <a class="code" href="_c_p_obj_j_runtime_8j.html#a84e3be579b365cc2c1559e1a1f469238">CPNotFound</a> &amp;&amp; [rows firstIndex] &lt; 0) || [rows lastIndex] &gt;= [<span class="keyword">self</span> numberOfRows]) ||</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;        [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#ae601240f59853d00860181c80d763a03">numberOfColumns</a>] &lt;= 0)</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;    <span class="comment">// We deselect all columns when selecting rows.</span></div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;    <span class="keywordflow">if</span> ([_selectedColumnIndexes count] &gt; 0)</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    {</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;        [<span class="keyword">self</span> _updateHighlightWithOldColumns:_selectedColumnIndexes newColumns:[<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a> <a class="code" href="interface_c_p_index_set.html#a339845eb2d96fae878209105dde5e140">indexSet</a>]];</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;        _selectedColumnIndexes = [<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a> <a class="code" href="interface_c_p_index_set.html#a339845eb2d96fae878209105dde5e140">indexSet</a>];</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;        <span class="keywordflow">if</span> (_headerView)</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;            [_headerView setNeedsDisplay:YES];</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;    }</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;    var newSelectedIndexes;</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;    <span class="keywordflow">if</span> (shouldExtendSelection)</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;    {</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;        newSelectedIndexes = [_selectedRowIndexes copy];</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;        [newSelectedIndexes addIndexes:rows];</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;    }</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;        newSelectedIndexes = [rows <a class="code" href="interface_c_p_index_set.html#a90dc099b597c7bdfcd18c8b7d51e7ca1">copy</a>];</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;    [<span class="keyword">self</span> _setSelectedRowIndexes:newSelectedIndexes];</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;}</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;- (<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a>)_cleanUpSelectionRowIndexes:(<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a>)anIndexSet</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;{</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;    <span class="keywordflow">if</span> ([<span class="keyword">self</span> _delegateRespondsToSelectionIndexesForProposedSelection])</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;    {</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;        <span class="keywordflow">return</span> [<span class="keyword">self</span> _sendDelegateSelectionIndexesForProposedSelection:anIndexSet];</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;    }</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ([<span class="keyword">self</span> _delegateRespondsToShouldSelectRow])</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;    {</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;        var indexesToRemove = [<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a> <a class="code" href="class_c_p_object.html#ae18b36b434206bc8184d5b81502c517c">new</a>],</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;            currentIndex = [anIndexSet <a class="code" href="interface_c_p_index_set.html#abc895f4b5df7bdaf090161db6b234b73">firstIndex</a>];</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;        <span class="keywordflow">while</span> (currentIndex != <a class="code" href="_c_p_obj_j_runtime_8j.html#a84e3be579b365cc2c1559e1a1f469238">CPNotFound</a>)</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;        {</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;            <span class="keywordflow">if</span> (![<span class="keyword">self</span> _sendDelegateShouldSelectRow:currentIndex])</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;                [indexesToRemove addIndex:currentIndex];</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;            currentIndex = [anIndexSet <a class="code" href="interface_c_p_index_set.html#a3f66583eea02c42c2b14e53daf697559">indexGreaterThanIndex</a>:currentIndex];</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;        }</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;        [anIndexSet <a class="code" href="interface_c_p_index_set.html#a04c2c030f65e130e925abb753cb59152">removeIndexes</a>:indexesToRemove];</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;        <span class="keywordflow">return</span> anIndexSet;</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;    }</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;        <span class="keywordflow">return</span> anIndexSet;</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;}</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;- (void)_updateHighlightWithOldRows:(<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a>)oldRows newRows:(<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a>)newRows</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;{</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;    [<span class="keyword">self</span> _enumerateViewsInRows:oldRows columns:_exposedColumns usingBlock:_BlockDeselectView];</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;    <span class="keywordflow">if</span> (_selectionHighlightStyle !== <a class="code" href="_c_p_table_view_8j.html#a01cb9ff2b6562f83a7f4073abf81f7ce">CPTableViewSelectionHighlightStyleNone</a>)</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;        [<span class="keyword">self</span> _enumerateViewsInRows:newRows columns:_exposedColumns usingBlock:_BlockSelectView];</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;}</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;- (void)_updateHighlightWithOldColumns:(<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a>)oldColumns newColumns:(<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a>)newColumns</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;{</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;    var blockDeselectHeader = <span class="keyword">function</span>(column, stop)</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;    {</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;         var headerView = [_tableColumns[column] headerView];</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;         [headerView unsetThemeState:CPThemeStateSelected];</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;    };</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;    var showSelection = _selectionHighlightStyle !== <a class="code" href="_c_p_table_view_8j.html#a01cb9ff2b6562f83a7f4073abf81f7ce">CPTableViewSelectionHighlightStyleNone</a>;</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;    [<span class="keyword">self</span> _enumerateViewsInRows:_exposedRows columns:oldColumns usingBlock:_BlockDeselectView];</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;    [oldColumns <a class="code" href="interface_c_p_index_set.html#a195a31d4a7d2734dc586942754895f98">enumerateIndexesUsingBlock</a>:blockDeselectHeader];</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;    <span class="keywordflow">if</span> (_selectionHighlightStyle !== <a class="code" href="_c_p_table_view_8j.html#a01cb9ff2b6562f83a7f4073abf81f7ce">CPTableViewSelectionHighlightStyleNone</a>)</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;    {</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;        [<span class="keyword">self</span> _enumerateViewsInRows:_exposedRows columns:newColumns usingBlock:_BlockSelectView];</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;        [newColumns <a class="code" href="interface_c_p_index_set.html#a195a31d4a7d2734dc586942754895f98">enumerateIndexesUsingBlock</a>:function(column, stop)</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;        {</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;             var headerView = [_tableColumns[column] headerView];</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;             [headerView setThemeState:CPThemeStateSelected];</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;        }];</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;    }</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;}</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;</div>
<div class="line"><a name="l01457"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#aa72723cae269bec0cbb0c479fb85a4c1"> 1457</a></span>&#160;- (int)selectedColumn</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;{</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;    <span class="keywordflow">return</span> [_selectedColumnIndexes lastIndex];</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;}</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;</div>
<div class="line"><a name="l01465"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a26beabf6bfecebb33c7b0128a169cd9e"> 1465</a></span>&#160;- (<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a>)selectedColumnIndexes</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;{</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;    <span class="keywordflow">return</span> _selectedColumnIndexes;</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;}</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;</div>
<div class="line"><a name="l01473"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#aebb33e5ef504a1a2cc3aef9937a1c50f"> 1473</a></span>&#160;- (int)selectedRow</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;{</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;    <span class="keywordflow">return</span> _lastSelectedRow;</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;}</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;</div>
<div class="line"><a name="l01481"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a2bb55a58f2ae8d7636b0553982f3c9a7"> 1481</a></span>&#160;- (<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a>)selectedRowIndexes</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;{</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;    <span class="keywordflow">return</span> [_selectedRowIndexes copy];</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;}</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;</div>
<div class="line"><a name="l01491"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a71e1d942e9621e3ecaf1dd14f2a79192"> 1491</a></span>&#160;- (void)deselectColumn:(CPInteger)anIndex</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;{</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;    var selectedColumnIndexes = [_selectedColumnIndexes copy];</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;    [<a class="code" href="interface_c_p_table_view.html#a26beabf6bfecebb33c7b0128a169cd9e">selectedColumnIndexes</a> <a class="code" href="interface_c_p_index_set.html#ae5735bf105324052eb4f502244cdd0db">removeIndex</a>:anIndex];</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#aea838609fe453ae9ed670d98c3c4ff04">selectColumnIndexes</a>:selectedColumnIndexes <a class="code" href="interface_c_p_table_view.html#aea838609fe453ae9ed670d98c3c4ff04">byExtendingSelection</a>:NO];</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;    [<span class="keyword">self</span> _noteSelectionDidChange];</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;}</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;</div>
<div class="line"><a name="l01504"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#aa03aa6f24b45e335d09e2aea7d4a44c2"> 1504</a></span>&#160;- (void)deselectRow:(CPInteger)aRow</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;{</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;    var selectedRowIndexes = [_selectedRowIndexes copy];</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;    [<a class="code" href="interface_c_p_table_view.html#a2bb55a58f2ae8d7636b0553982f3c9a7">selectedRowIndexes</a> <a class="code" href="interface_c_p_index_set.html#ae5735bf105324052eb4f502244cdd0db">removeIndex</a>:aRow];</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a9b6204a962c90a046897dce505fec408">selectRowIndexes</a>:selectedRowIndexes <a class="code" href="interface_c_p_table_view.html#a9b6204a962c90a046897dce505fec408">byExtendingSelection</a>:NO];</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;    [<span class="keyword">self</span> _noteSelectionDidChange];</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;}</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;</div>
<div class="line"><a name="l01515"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a246c8b3a4b46973fa63e56ade90f3363"> 1515</a></span>&#160;- (CPInteger)numberOfSelectedColumns</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;{</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;    <span class="keywordflow">return</span> [_selectedColumnIndexes count];</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;}</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;</div>
<div class="line"><a name="l01523"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#ab087d7a16c2f5430eecc4d173280e40c"> 1523</a></span>&#160;- (CPInteger)numberOfSelectedRows</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;{</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;    <span class="keywordflow">return</span> [_selectedRowIndexes count];</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;}</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;</div>
<div class="line"><a name="l01534"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a1bcb13f307f474906b1451746e7e1fdc"> 1534</a></span>&#160;- (BOOL)isColumnSelected:(CPInteger)anIndex</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;{</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;    <span class="keywordflow">return</span> [_selectedColumnIndexes containsIndex:anIndex];</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;}</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;</div>
<div class="line"><a name="l01545"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a39fa58bb83f641a87f792ac788bc4c0c"> 1545</a></span>&#160;- (BOOL)isRowSelected:(CPInteger)aRow</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;{</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;    <span class="keywordflow">return</span> [_selectedRowIndexes containsIndex:aRow];</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;}</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;</div>
<div class="line"><a name="l01555"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a000c8dd3192600081340358c7f04c104"> 1555</a></span>&#160;- (void)deselectAll</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;{</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a9b6204a962c90a046897dce505fec408">selectRowIndexes</a>:[<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a> <a class="code" href="interface_c_p_index_set.html#a339845eb2d96fae878209105dde5e140">indexSet</a>] <a class="code" href="interface_c_p_table_view.html#a9b6204a962c90a046897dce505fec408">byExtendingSelection</a>:NO];</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#aea838609fe453ae9ed670d98c3c4ff04">selectColumnIndexes</a>:[<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a> <a class="code" href="interface_c_p_index_set.html#a339845eb2d96fae878209105dde5e140">indexSet</a>] <a class="code" href="interface_c_p_table_view.html#aea838609fe453ae9ed670d98c3c4ff04">byExtendingSelection</a>:NO];</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;}</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;</div>
<div class="line"><a name="l01561"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a49048c57536ae632200bb5fe819a7074"> 1561</a></span>&#160;- (void)selectAll:(<span class="keywordtype">id</span>)sender</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;{</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;    <span class="keywordflow">if</span> (_allowsMultipleSelection)</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;    {</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;        <span class="keywordflow">if</span> (![<span class="keyword">self</span> _sendDelegateSelectionShouldChangeInTableView])</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;        <span class="keywordflow">if</span> ([[<span class="keyword">self</span> selectedColumnIndexes] count])</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;            [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#aea838609fe453ae9ed670d98c3c4ff04">selectColumnIndexes</a>:[<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a> <a class="code" href="interface_c_p_index_set.html#a4c32a454bd5323253b9e8c4f81712ea5">indexSetWithIndexesInRange</a>:CPMakeRange(0, [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#ae601240f59853d00860181c80d763a03">numberOfColumns</a>])] <a class="code" href="interface_c_p_table_view.html#aea838609fe453ae9ed670d98c3c4ff04">byExtendingSelection</a>:NO];</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;        {</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;            var range = [<span class="keyword">self</span> _cleanUpSelectionRowIndexes:[<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a> <a class="code" href="interface_c_p_index_set.html#a4c32a454bd5323253b9e8c4f81712ea5">indexSetWithIndexesInRange</a>:CPMakeRange(0, [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#ab93d1883609b8aaca737188ee9667c17">numberOfRows</a>])]];</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;            [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a9b6204a962c90a046897dce505fec408">selectRowIndexes</a>:range <a class="code" href="interface_c_p_table_view.html#a9b6204a962c90a046897dce505fec408">byExtendingSelection</a>:NO];</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;        }</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;    }</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;}</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;</div>
<div class="line"><a name="l01578"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a902a4cc236d0bb29cacf24ade060d014"> 1578</a></span>&#160;- (void)deselectAll:(<span class="keywordtype">id</span>)sender</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;{</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;    <span class="keywordflow">if</span> ([<span class="keyword">self</span> allowsEmptySelection])</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;    {</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;        <span class="keywordflow">if</span> (![<span class="keyword">self</span> _sendDelegateSelectionShouldChangeInTableView])</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;        [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a000c8dd3192600081340358c7f04c104">deselectAll</a>];</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;    }</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;}</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;</div>
<div class="line"><a name="l01592"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#ae601240f59853d00860181c80d763a03"> 1592</a></span>&#160;- (int)numberOfColumns</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;{</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="_c_p_table_view_8j.html#aa0c3e20940452d04b6708ec8b82b482b">NUMBER_OF_COLUMNS</a>();</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;}</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;</div>
<div class="line"><a name="l01600"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#ab93d1883609b8aaca737188ee9667c17"> 1600</a></span>&#160;- (int)numberOfRows</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;{</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;    <span class="keywordflow">return</span> _numberOfRows;</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;}</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;- (int)_numberOfRows</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;{</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;    var numberOfRows,</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;        contentBindingInfo = [<span class="keyword">self</span> infoForBinding:@&quot;content&quot;];</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;    <span class="keywordflow">if</span> (contentBindingInfo)</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;    {</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;        var destination = [contentBindingInfo objectForKey:CPObservedObjectKey],</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;            keyPath = [contentBindingInfo objectForKey:CPObservedKeyPathKey];</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;        numberOfRows = [[destination valueForKeyPath:keyPath] count];</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;    }</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (_dataSource &amp;&amp; (_implementedDataSourceMethods &amp; <a class="code" href="_c_p_table_view_8j.html#a79c288910d3f547d5433a6946cec05bc">CPTableViewDataSource_numberOfRowsInTableView_</a>))</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;        numberOfRows = [_dataSource numberOfRowsInTableView:self] || 0;</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;    {</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;        <span class="keywordflow">if</span> (_dataSource)</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;                CPLog(<span class="stringliteral">@&quot;no content binding established and data source &quot;</span> + [_dataSource description] + <span class="stringliteral">&quot; does not implement numberOfRowsInTableView:&quot;</span>);</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;        numberOfRows = 0;</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;    }</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;    <span class="keywordflow">return</span> numberOfRows;</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;}</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;</div>
<div class="line"><a name="l01633"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#ac06f185ca68d4bbe813ebcf4f0da66c6"> 1633</a></span>&#160;- (<a class="code" href="interface_c_p_view.html">CPView</a>)cornerView</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;{</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;    <span class="keywordflow">return</span> _cornerView;</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;}</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;</div>
<div class="line"><a name="l01641"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#ad6c2cf202a6c05de91e2e56fe7368811"> 1641</a></span>&#160;- (void)setCornerView:(<a class="code" href="interface_c_p_view.html">CPView</a>)aView</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;{</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;    <span class="keywordflow">if</span> (_cornerView === aView)</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;    _cornerView = aView;</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;    var scrollView = [<span class="keyword">self</span> <a class="code" href="interface_c_p_view.html#a9a888331b1834c12552ab08f80269f77">enclosingScrollView</a>];</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;    <span class="keywordflow">if</span> ([scrollView isKindOfClass:[<a class="code" href="interface_c_p_scroll_view.html">CPScrollView</a> <span class="keyword">class</span>]] &amp;&amp; [scrollView documentView] === <span class="keyword">self</span>)</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;        [scrollView _updateCornerAndHeaderView];</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;}</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;</div>
<div class="line"><a name="l01657"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a1200e854924976eed1efa14719a8eba6"> 1657</a></span>&#160;- (<a class="code" href="interface_c_p_view.html">CPView</a>)headerView</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;{</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;    <span class="keywordflow">return</span> _headerView;</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;}</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;</div>
<div class="line"><a name="l01670"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#ade4b1dc944f33bcdbb33699aaa2c52f3"> 1670</a></span>&#160;- (void)setHeaderView:(<a class="code" href="interface_c_p_view.html">CPView</a>)aHeaderView</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;{</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;    <span class="keywordflow">if</span> (_headerView === aHeaderView)</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;    [_headerView setTableView:nil];</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;    _headerView = aHeaderView;</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;    <span class="keywordflow">if</span> (_headerView)</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;    {</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;        [_headerView setTableView:self];</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;        [_headerView setFrameSize:CGSizeMake(CGRectGetWidth([<span class="keyword">self</span> <a class="code" href="interface_c_p_view.html#a6e37aa6c3ed5389e9a3bb7082b380cc5">frame</a>]), CGRectGetHeight([_headerView frame]))];</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;    }</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;    {</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;        <span class="comment">// If there is no header view, there should be no corner view</span></div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;        [_cornerView removeFromSuperview];</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;        _cornerView = nil;</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;    }</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;    var scrollView = [<span class="keyword">self</span> <a class="code" href="interface_c_p_view.html#a9a888331b1834c12552ab08f80269f77">enclosingScrollView</a>];</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;    <span class="keywordflow">if</span> ([scrollView isKindOfClass:[<a class="code" href="interface_c_p_scroll_view.html">CPScrollView</a> <span class="keyword">class</span>]] &amp;&amp; [scrollView documentView] === <span class="keyword">self</span>)</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;        [scrollView _updateCornerAndHeaderView];</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a45bd62a3fb6f8dec17b8a955ad08632d">setNeedsLayout</a>];</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;}</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;- (void)_recalculateTableColumnRanges</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;{</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;    <span class="comment">// Complexity:</span></div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;    <span class="comment">// O(Columns)</span></div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;    <span class="keywordflow">if</span> (_dirtyTableColumnRangeIndex &lt; 0)</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;    _numberOfHiddenColumns = 0;</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;    var index = _dirtyTableColumnRangeIndex,</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;        count = <a class="code" href="_c_p_table_view_8j.html#aa0c3e20940452d04b6708ec8b82b482b">NUMBER_OF_COLUMNS</a>(),</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;        x = index === 0 ? 0.0 : <a class="code" href="group__foundation.html#ga9a9c6e53b2b0861cedbb77b5ab72e78f">CPMaxRange</a>(_tableColumnRanges[index - 1]);</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;    <span class="keywordflow">for</span> (; index &lt; count; ++index)</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;    {</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;        var tableColumn = _tableColumns[index];</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;        <span class="keywordflow">if</span> ([tableColumn <a class="code" href="_c_a_layer_8j.html#a6da428af0bd3dcc585ac2099511786cb">isHidden</a>])</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;        {</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;            _numberOfHiddenColumns += 1;</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;            _tableColumnRanges[index] = <a class="code" href="group__foundation.html#gab09805608dfb3449e840c3ce22d7e7fe">CPMakeRange</a>(x, 0.0);</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;        }</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;        {</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;            var <a class="code" href="_c_p_segmented_control_8j.html#a2474a5474cbff19523a51eb1de01cda4">width</a> = [_tableColumns[index] width] + _intercellSpacing.width;</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;            _tableColumnRanges[index] = <a class="code" href="group__foundation.html#gab09805608dfb3449e840c3ce22d7e7fe">CPMakeRange</a>(x, width);</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;            x += width;</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;        }</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;    }</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;    _tableColumnRanges.length = count;</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;    _dirtyTableColumnRangeIndex = <a class="code" href="_c_p_obj_j_runtime_8j.html#a84e3be579b365cc2c1559e1a1f469238">CPNotFound</a>;</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;}</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;</div>
<div class="line"><a name="l01745"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#af86aacec5d36506c1fee17f1fab5803f"> 1745</a></span>&#160;- (CGRect)rectOfColumn:(CPInteger)aColumnIndex</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;{</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;    <span class="comment">// Complexity:</span></div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;    <span class="comment">// O(1)</span></div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;    <span class="comment">// Coerce aColumnIndex to a number in case it is a string.</span></div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;    aColumnIndex = +aColumnIndex;</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;    <span class="keywordflow">if</span> (aColumnIndex &lt; 0 || aColumnIndex &gt;= <a class="code" href="_c_p_table_view_8j.html#aa0c3e20940452d04b6708ec8b82b482b">NUMBER_OF_COLUMNS</a>())</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;        <span class="keywordflow">return</span> CGRectMakeZero();</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;    <span class="keywordflow">if</span> ([[_tableColumns objectAtIndex:aColumnIndex] <a class="code" href="_c_a_layer_8j.html#a6da428af0bd3dcc585ac2099511786cb">isHidden</a>])</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;        <span class="keywordflow">return</span> CGRectMakeZero();</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;    <a class="code" href="_c_p_table_view_8j.html#a8d863ee1b9f1e447c7ee408af11b8f22">UPDATE_COLUMN_RANGES_IF_NECESSARY</a>();</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;    var range = _tableColumnRanges[aColumnIndex];</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;    <span class="keywordflow">return</span> CGRectMake(range.location, 0.0, range.length, CGRectGetHeight([<span class="keyword">self</span> <a class="code" href="_c_a_layer_8j.html#a76e98e4f35c628cffcb1a388ec583bec">bounds</a>]));</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;}</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;- (CGRect)_rectOfRow:(CPInteger)aRowIndex checkRange:(BOOL)checkRange</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;{</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;    <span class="comment">// Complexity:</span></div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;    <span class="comment">// O(1)</span></div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;    var lastIndex = [<span class="keyword">self</span> numberOfRows] - 1,</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;        validIndex = aRowIndex &gt;= 0 &amp;&amp; aRowIndex &lt;= lastIndex;</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;    <span class="keywordflow">if</span> (checkRange &amp;&amp; !validIndex)</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;        <span class="keywordflow">return</span> CGRectMakeZero();</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;    var y = 0,</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;        height,</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;        fixedHeightRows = 0;</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="_c_p_table_view_8j.html#ac2bcf5323fa10cbacadb5b100067b443">HAS_VARIABLE_ROW_HEIGHTS</a>())</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;    {</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;        [<span class="keyword">self</span> _populateRowHeightCacheIfNeeded];</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;        <span class="comment">// If the index is valid, we use the y and height of the given row.</span></div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;        <span class="comment">// If the index is invalid, we start from the bottom of the last row and use the default row height.</span></div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;        var heightInfo;</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;        <span class="keywordflow">if</span> (validIndex)</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;        {</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;            heightInfo = _cachedRowHeights[aRowIndex];</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;            y = heightInfo.y;</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;            height = heightInfo.height + _intercellSpacing.height;</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;        }</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;        {</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;            height = <a class="code" href="_c_p_table_view_8j.html#a3c9003b0a97bc491df8b6ec7b02f4120">FULL_ROW_HEIGHT</a>();</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;            <span class="keywordflow">if</span> (_numberOfRows &gt; 0)</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;            {</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;                heightInfo = _cachedRowHeights[lastIndex];</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;                y = <a class="code" href="_c_p_table_view_8j.html#ab67d9cc3b304f1a524c1b0fb0f76986d">ROW_BOTTOM</a>(heightInfo);</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;                <span class="comment">// y is now at the top of the first row beyond the last valid row.</span></div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;                <span class="comment">// Add the height of any rows beyond that.</span></div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;                fixedHeightRows = aRowIndex - _numberOfRows;</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;            }</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;        }</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;    }</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;    {</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;        fixedHeightRows = aRowIndex;</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;        height = <a class="code" href="_c_p_table_view_8j.html#a3c9003b0a97bc491df8b6ec7b02f4120">FULL_ROW_HEIGHT</a>();</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;    }</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;    y += fixedHeightRows * <a class="code" href="_c_p_table_view_8j.html#a3c9003b0a97bc491df8b6ec7b02f4120">FULL_ROW_HEIGHT</a>();</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;    <span class="keywordflow">return</span> CGRectMake(0.0, y, CGRectGetWidth([<span class="keyword">self</span> <a class="code" href="_c_a_layer_8j.html#a76e98e4f35c628cffcb1a388ec583bec">bounds</a>]), height);</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;}</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;</div>
<div class="line"><a name="l01833"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#abdf1f5cc725acaf6d5734cc535bc8a22"> 1833</a></span>&#160;- (CGRect)rectOfRow:(CPInteger)aRowIndex</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;{</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;    <span class="keywordflow">return</span> [<span class="keyword">self</span> _rectOfRow:aRowIndex checkRange:YES];</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;}</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;</div>
<div class="line"><a name="l01843"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a7d9128a2f32c6714364d5217894daa44"> 1843</a></span>&#160;- (CPRange)rowsInRect:(CGRect)aRect</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;{</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;    <span class="comment">// Complexity:</span></div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;    <span class="comment">// O(1)</span></div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;    <span class="comment">// If we have no rows, then we won&#39;t intersect anything.</span></div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;    <span class="keywordflow">if</span> (_numberOfRows &lt;= 0)</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__foundation.html#gab09805608dfb3449e840c3ce22d7e7fe">CPMakeRange</a>(0, 0);</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;    var <a class="code" href="_c_a_layer_8j.html#a76e98e4f35c628cffcb1a388ec583bec">bounds</a> = [<span class="keyword">self</span> <a class="code" href="interface_c_p_view.html#af0bd55e12e5ac7ea4b137eae5f1829af">bounds</a>];</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;    <span class="comment">// No rows if the rect doesn&#39;t even intersect us.</span></div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;    <span class="keywordflow">if</span> (!CGRectIntersectsRect(aRect, bounds))</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__foundation.html#gab09805608dfb3449e840c3ce22d7e7fe">CPMakeRange</a>(0, 0);</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;    var firstRow = [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a6f1d4aad7598b4ca189e2a262d51cd08">rowAtPoint</a>:aRect.origin];</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;    <span class="comment">// first row has to be undershot, because if not we wouldn&#39;t be intersecting.</span></div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;    <span class="keywordflow">if</span> (firstRow &lt; 0)</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;        firstRow = 0;</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;    var lastRow = [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a6f1d4aad7598b4ca189e2a262d51cd08">rowAtPoint</a>:CGPointMake(0.0, CGRectGetMaxY(aRect))];</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;    <span class="comment">// last row has to be overshot, because if not we wouldn&#39;t be intersecting.</span></div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;    <span class="keywordflow">if</span> (lastRow &lt; 0)</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;        lastRow = _numberOfRows - 1;</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__foundation.html#gab09805608dfb3449e840c3ce22d7e7fe">CPMakeRange</a>(firstRow, lastRow - firstRow + 1);</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;}</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;<span class="comment">    Return the range of rows that lie wholly or partially within aRect.</span></div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;<span class="comment">    If the bottom of the last real row is above the bottom of aRect,</span></div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;<span class="comment">    synthesized rows of the default height are added to fill aRect.</span></div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;- (CPRange)_exposedRowsInRect:(CGRect)aRect</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;{</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;    var rowRange = [<span class="keyword">self</span> rowsInRect:aRect],</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;        lastRealRow = <a class="code" href="group__foundation.html#ga9a9c6e53b2b0861cedbb77b5ab72e78f">CPMaxRange</a>(rowRange) - 1,</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;        rectOfLastRealRow = [self _rectOfRow:lastRealRow checkRange:NO],</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;        bottomOfRealRows = CGRectGetMaxY(rectOfLastRealRow),</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;        rectBottom = CGRectGetMaxY(aRect);</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;    <span class="comment">// If the bottom of the last real row is at or below the bottom of aRect, we are done</span></div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;    <span class="keywordflow">if</span> (bottomOfRealRows &gt;= rectBottom)</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;        <span class="keywordflow">return</span> rowRange;</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;    var numberOfSynthesizedRows = CEIL((rectBottom - bottomOfRealRows) / <a class="code" href="_c_p_table_view_8j.html#a3c9003b0a97bc491df8b6ec7b02f4120">FULL_ROW_HEIGHT</a>());</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;    rowRange.length += numberOfSynthesizedRows;</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;    <span class="keywordflow">return</span> rowRange;</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;}</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;</div>
<div class="line"><a name="l01902"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a1acdacf678fb91a541b692d378586289"> 1902</a></span>&#160;- (<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a>)columnIndexesInRect:(CGRect)aRect</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;{</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;    <span class="comment">// Complexity:</span></div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;    <span class="comment">// O(log numberOfColumns) if table view contains no hidden columns</span></div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;    <span class="comment">// O(numberOfColumns) if table view contains hidden columns</span></div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;    var column = MAX(0, [<span class="keyword">self</span> columnAtPoint:CGPointMake(aRect.origin.x, 0.0)]),</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;        lastColumn = [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#aa5bce119e8c4b79e4ed0f9a10172996d">columnAtPoint</a>:CGPointMake(CGRectGetMaxX(aRect), 0.0)];</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;    <span class="keywordflow">if</span> (lastColumn === <a class="code" href="_c_p_obj_j_runtime_8j.html#a84e3be579b365cc2c1559e1a1f469238">CPNotFound</a>)</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;        lastColumn = <a class="code" href="_c_p_table_view_8j.html#aa0c3e20940452d04b6708ec8b82b482b">NUMBER_OF_COLUMNS</a>() - 1;</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;    <span class="comment">// Don&#39;t bother doing the expensive removal of hidden indexes if we have no hidden columns.</span></div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;    <span class="keywordflow">if</span> (_numberOfHiddenColumns &lt;= 0)</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;        <span class="keywordflow">return</span> [<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a> <a class="code" href="interface_c_p_index_set.html#a4c32a454bd5323253b9e8c4f81712ea5">indexSetWithIndexesInRange</a>:CPMakeRange(column, lastColumn - column + 1)];</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;    var indexSet = [<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a> <a class="code" href="interface_c_p_index_set.html#a339845eb2d96fae878209105dde5e140">indexSet</a>];</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;    <span class="keywordflow">for</span> (; column &lt;= lastColumn; ++column)</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;    {</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;        var tableColumn = _tableColumns[column];</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;        <span class="keywordflow">if</span> (![tableColumn <a class="code" href="_c_a_layer_8j.html#a6da428af0bd3dcc585ac2099511786cb">isHidden</a>])</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;            [indexSet addIndex:column];</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;    }</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;    <span class="keywordflow">return</span> indexSet;</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;}</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;</div>
<div class="line"><a name="l01936"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#aa5bce119e8c4b79e4ed0f9a10172996d"> 1936</a></span>&#160;- (CPInteger)columnAtPoint:(CGPoint)aPoint</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;{</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;    <span class="comment">// Complexity:</span></div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;    <span class="comment">// O(log numberOfColumns) if table view contains no hidden columns</span></div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;    <span class="comment">// O(numberOfColumns) if table view contains hidden columns</span></div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;    var <a class="code" href="_c_a_layer_8j.html#a76e98e4f35c628cffcb1a388ec583bec">bounds</a> = [<span class="keyword">self</span> <a class="code" href="interface_c_p_view.html#af0bd55e12e5ac7ea4b137eae5f1829af">bounds</a>];</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;    <span class="keywordflow">if</span> (!CGRectContainsPoint(bounds, aPoint))</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="_c_p_obj_j_runtime_8j.html#a84e3be579b365cc2c1559e1a1f469238">CPNotFound</a>;</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;    <a class="code" href="_c_p_table_view_8j.html#a8d863ee1b9f1e447c7ee408af11b8f22">UPDATE_COLUMN_RANGES_IF_NECESSARY</a>();</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;    var x = aPoint.x,</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;        low = 0,</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;        high = _tableColumnRanges.length - 1;</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;    <span class="keywordflow">while</span> (low &lt;= high)</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;    {</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;        var middle = FLOOR(low + (high - low) / 2),</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;            range = _tableColumnRanges[middle];</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;        <span class="keywordflow">if</span> (x &lt; range.location)</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;            high = middle - 1;</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (x &gt;= <a class="code" href="group__foundation.html#ga9a9c6e53b2b0861cedbb77b5ab72e78f">CPMaxRange</a>(range))</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;            low = middle + 1;</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;        {</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;            var numberOfColumns = _tableColumnRanges.length;</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;            <span class="keywordflow">while</span> (middle &lt; numberOfColumns &amp;&amp; [_tableColumns[middle] <a class="code" href="_c_a_layer_8j.html#a6da428af0bd3dcc585ac2099511786cb">isHidden</a>])</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;                ++middle;</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;            <span class="keywordflow">if</span> (middle &lt; numberOfColumns)</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;                <span class="keywordflow">return</span> middle;</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="_c_p_obj_j_runtime_8j.html#a84e3be579b365cc2c1559e1a1f469238">CPNotFound</a>;</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;        }</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;   }</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="_c_p_obj_j_runtime_8j.html#a84e3be579b365cc2c1559e1a1f469238">CPNotFound</a>;</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;}</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;</div>
<div class="line"><a name="l01986"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a6f1d4aad7598b4ca189e2a262d51cd08"> 1986</a></span>&#160;- (CPInteger)rowAtPoint:(CGPoint)aPoint</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;{</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;    <span class="comment">// Complexity:</span></div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;    <span class="comment">// O(1) for fixed height rows or point out of bounds</span></div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;    <span class="comment">// O(log numberOfRows) for variable height rows</span></div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;    <span class="comment">// aPoint.x must be within our bounds</span></div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;    var <a class="code" href="_c_a_layer_8j.html#a76e98e4f35c628cffcb1a388ec583bec">bounds</a> = [<span class="keyword">self</span> <a class="code" href="interface_c_p_view.html#af0bd55e12e5ac7ea4b137eae5f1829af">bounds</a>];</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;    <span class="keywordflow">if</span> (aPoint.x &lt; CGRectGetMinX(bounds) || aPoint.x &gt;= CGRectGetMaxX(bounds))</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;    <span class="comment">// aPoint.x is in bounds, now we just have to check aPoint.y</span></div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="_c_p_table_view_8j.html#ac2bcf5323fa10cbacadb5b100067b443">HAS_VARIABLE_ROW_HEIGHTS</a>())</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;    {</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;        <span class="comment">// First make sure aPoint.y is above the bottom of the last row, otherwise we might</span></div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;        <span class="comment">// search the (potentially large number of) rows for nothing.</span></div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;        var heightInfo = [_cachedRowHeights lastObject];</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;        <span class="keywordflow">if</span> (!heightInfo || aPoint.y &gt;= <a class="code" href="_c_p_table_view_8j.html#ab67d9cc3b304f1a524c1b0fb0f76986d">ROW_BOTTOM</a>(heightInfo))</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;            <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;        <span class="keywordflow">return</span> [_cachedRowHeights indexOfObject:aPoint</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;                                  inSortedRange:nil</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;                                        options:0</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;                                usingComparator:function(aPoint, heightInfo)</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;                {</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;                    if (aPoint.y &lt; heightInfo.y)</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;                        return CPOrderedAscending;</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;                    if (aPoint.y &gt; ROW_BOTTOM(heightInfo))</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;                        return CPOrderedDescending;</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;                    return CPOrderedSame;</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;                }];</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;    }</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;    {</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;        var row = FLOOR(aPoint.y / <a class="code" href="_c_p_table_view_8j.html#a3c9003b0a97bc491df8b6ec7b02f4120">FULL_ROW_HEIGHT</a>());</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;        <span class="keywordflow">return</span> row &gt;= _numberOfRows ? -1 : row;</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;    }</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;}</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;</div>
<div class="line"><a name="l02039"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a4d43743d37f8a0db3fe03c96c866bc0c"> 2039</a></span>&#160;- (CPInteger)rowForView:(<a class="code" href="interface_c_p_view.html">CPView</a>)aView</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;{</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;    var row;</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#afc40188f981e53d98531355cc31f6174">getColumn</a>:nil <a class="code" href="interface_c_p_table_view.html#afc40188f981e53d98531355cc31f6174">row</a>:@ref(row) <a class="code" href="interface_c_p_table_view.html#afc40188f981e53d98531355cc31f6174">forView</a>:aView];</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;    <span class="keywordflow">return</span> row;</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;}</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;</div>
<div class="line"><a name="l02056"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#af6fd6836dd281e255982f2e456e5c1b1"> 2056</a></span>&#160;- (CPInteger)columnForView:(<a class="code" href="interface_c_p_view.html">CPView</a>)aView</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;{</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;    var column;</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#afc40188f981e53d98531355cc31f6174">getColumn</a>:@ref(column) <a class="code" href="interface_c_p_table_view.html#afc40188f981e53d98531355cc31f6174">row</a>:nil <a class="code" href="interface_c_p_table_view.html#afc40188f981e53d98531355cc31f6174">forView</a>:aView];</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;    <span class="keywordflow">return</span> column;</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;}</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;</div>
<div class="line"><a name="l02068"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#afc40188f981e53d98531355cc31f6174"> 2068</a></span>&#160;- (void)getColumn:(Function)columnRef row:(Function)rowRef forView:(<a class="code" href="interface_c_p_view.html">CPView</a>)aView</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;{</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;    var columnResult = -1,</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;        rowResult = -1;</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;    <span class="keywordflow">if</span> (aView &amp;&amp; [aView isKindOfClass:[<a class="code" href="interface_c_p_view.html">CPView</a> <span class="keyword">class</span>]] &amp;&amp; ![aView isKindOfClass:[<a class="code" href="interface_c_p_table_view.html">CPTableView</a> <span class="keyword">class</span>]])</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;    {</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;        var cellView = aView,</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;            contentView = [[<span class="keyword">self</span> <a class="code" href="interface_c_p_view.html#ae83c8efd2cc2cfe0dd767c1a6bb6d0a7">window</a>] <a class="code" href="interface_c_p_window.html#ae8ea24657fb8bfaf38cba633ce8d4a21">contentView</a>],</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;            found = NO,</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;            max_rec = 100;</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;            <span class="keywordflow">while</span> (max_rec--)</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;            {</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;                <span class="keywordflow">if</span> (!cellView || cellView === contentView)</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;                {</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;                    found = NO;</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;                }</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;                {</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;                    var superview = [cellView superview];</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;                    <span class="keywordflow">if</span> ([superview isKindOfClass:[<a class="code" href="interface_c_p_table_view.html">CPTableView</a> <span class="keyword">class</span>]])</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;                    {</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;                        found = YES;</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;                    }</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;                    cellView = superview;</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;                }</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;            }</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;        <span class="keywordflow">if</span> (found)</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;        {</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;            [<span class="keyword">self</span> _enumerateViewsInRows:_exposedRows columns:_exposedColumns usingBlock:function(view, row, column, stop)</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;            {</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;                if (view === cellView)</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;                {</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;                    columnResult = column;</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;                    rowResult = row;</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;                    stop(YES);</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;                }</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;            }];</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;        }</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;    }</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;    <span class="keywordflow">if</span> (columnRef)</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;        columnRef(columnResult);</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;    <span class="keywordflow">if</span> (rowRef)</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;        rowRef(rowResult);</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;}</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;</div>
<div class="line"><a name="l02130"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#afa878164caef6b4c75e2ef5328cc3612"> 2130</a></span>&#160;- (CGRect)frameOfDataViewAtColumn:(CPInteger)aColumn row:(CPInteger)aRow</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;{</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;    <a class="code" href="_c_p_table_view_8j.html#a8d863ee1b9f1e447c7ee408af11b8f22">UPDATE_COLUMN_RANGES_IF_NECESSARY</a>();</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;    <span class="keywordflow">if</span> (aColumn &gt; [<span class="keyword">self</span> numberOfColumns] || aRow &gt; [<span class="keyword">self</span> numberOfRows])</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;        <span class="keywordflow">return</span> CGRectMakeZero();</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;    var tableColumnRange = _tableColumnRanges[aColumn],</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;        rectOfRow = [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#abdf1f5cc725acaf6d5734cc535bc8a22">rectOfRow</a>:aRow],</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;        leftInset = FLOOR(_intercellSpacing.width / 2.0),</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;        topInset = FLOOR(_intercellSpacing.height / 2.0);</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;    <span class="keywordflow">return</span> CGRectMake(tableColumnRange.location + leftInset, CGRectGetMinY(rectOfRow) + topInset, tableColumnRange.length - _intercellSpacing.width, CGRectGetHeight(rectOfRow) - _intercellSpacing.height);</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;}</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;</div>
<div class="line"><a name="l02148"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a644c13b12bccbd4ff2995058bf0f5b36"> 2148</a></span>&#160;- (void)resizeWithOldSuperviewSize:(CGSize)aSize</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;{</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;    [<span class="keyword">super</span> <a class="code" href="interface_c_p_view.html#a87dc2891354aebd1ce694c11ed12001c">resizeWithOldSuperviewSize</a>:aSize];</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;    <span class="keywordflow">if</span> (_disableAutomaticResizing)</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;    var mask = _columnAutoResizingStyle;</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;    <span class="comment">// should we actually do some resizing?</span></div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;    <span class="keywordflow">if</span> (!_lastColumnShouldSnap)</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;    {</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;        <span class="comment">// did the clip view intersect the old tablesize?</span></div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;        var superview = [<span class="keyword">self</span> <a class="code" href="interface_c_p_view.html#ae7fe2569d290f7eaabdebf5d48cb2745">superview</a>];</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;        <span class="keywordflow">if</span> (!superview || ![superview isKindOfClass:[<a class="code" href="interface_c_p_clip_view.html">CPClipView</a> <span class="keyword">class</span>]])</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;        var superviewWidth = [superview bounds].size.width,</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;            lastColumnMaxX = CGRectGetMaxX([<span class="keyword">self</span> rectOfColumn:[<span class="keyword">self</span> numberOfColumns] -1]);</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;        <span class="comment">// Fix me: this fires on the table setup at times</span></div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;        <span class="keywordflow">if</span> (lastColumnMaxX &gt;= superviewWidth &amp;&amp; lastColumnMaxX &lt;= aSize.width || lastColumnMaxX &lt;= superviewWidth &amp;&amp; lastColumnMaxX &gt;= aSize.width)</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;            _lastColumnShouldSnap = YES;</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (mask === <a class="code" href="_c_p_table_view_8j.html#a8f4ff5bd6c8f021a249d46098015f486">CPTableViewUniformColumnAutoresizingStyle</a>)</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;    }</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;    <span class="keywordflow">if</span> (mask === <a class="code" href="_c_p_table_view_8j.html#a8f4ff5bd6c8f021a249d46098015f486">CPTableViewUniformColumnAutoresizingStyle</a>)</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;       [<span class="keyword">self</span> _resizeAllColumnUniformlyWithOldSize:aSize];</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (mask === <a class="code" href="_c_p_table_view_8j.html#a0f472ac2d7a9f96e5ad5ec35e8d4af3f">CPTableViewLastColumnOnlyAutoresizingStyle</a>)</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;        [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a0e5f2712415987cf5453e6799ca157ab">sizeLastColumnToFit</a>];</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (mask === <a class="code" href="_c_p_table_view_8j.html#a2817258659933aa465a18e1798822134">CPTableViewFirstColumnOnlyAutoresizingStyle</a>)</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;        [<span class="keyword">self</span> _autoResizeFirstColumn];</div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;}</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;- (void)_autoResizeFirstColumn</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;{</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;    var superview = [<span class="keyword">self</span> superview];</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;    <span class="keywordflow">if</span> (!superview)</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;    <a class="code" href="_c_p_table_view_8j.html#a8d863ee1b9f1e447c7ee408af11b8f22">UPDATE_COLUMN_RANGES_IF_NECESSARY</a>();</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;    var count = <a class="code" href="_c_p_table_view_8j.html#aa0c3e20940452d04b6708ec8b82b482b">NUMBER_OF_COLUMNS</a>(),</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;        columnToResize = nil,</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;        totalWidth = 0,</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;        i = 0;</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;    <span class="keywordflow">for</span> (; i &lt; count; i++)</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;    {</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;        var column = _tableColumns[i];</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;        <span class="keywordflow">if</span> (![column <a class="code" href="_c_a_layer_8j.html#a6da428af0bd3dcc585ac2099511786cb">isHidden</a>])</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;        {</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;            <span class="keywordflow">if</span> (!columnToResize)</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;                columnToResize = column;</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;            totalWidth += [column <a class="code" href="_c_p_segmented_control_8j.html#a2474a5474cbff19523a51eb1de01cda4">width</a>] + _intercellSpacing.<a class="code" href="_c_p_segmented_control_8j.html#a2474a5474cbff19523a51eb1de01cda4">width</a>;</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;        }</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;    }</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;    <span class="comment">// If there is a visible column</span></div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;    <span class="keywordflow">if</span> (columnToResize)</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;    {</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;        var superviewSize = [superview bounds].size,</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;            newWidth = superviewSize.width - totalWidth;</div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;        newWidth += [columnToResize <a class="code" href="_c_p_segmented_control_8j.html#a2474a5474cbff19523a51eb1de01cda4">width</a>];</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;        [columnToResize _tryToResizeToWidth:newWidth];</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;    }</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;</div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;    [<span class="keyword">self</span> setNeedsLayout];</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;}</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;- (void)_resizeAllColumnUniformlyWithOldSize:(CGSize)oldSize</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;{</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;    <span class="comment">// what we care about is the superview clip rect</span></div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;    <span class="comment">// FIX ME: if it&#39;s not in a scrollview this doesn&#39;t really work</span></div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;    var superview = [<span class="keyword">self</span> superview];</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;    <span class="keywordflow">if</span> (!superview || ![superview isKindOfClass:[<a class="code" href="interface_c_p_clip_view.html">CPClipView</a> <span class="keyword">class</span>]])</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;    <a class="code" href="_c_p_table_view_8j.html#a8d863ee1b9f1e447c7ee408af11b8f22">UPDATE_COLUMN_RANGES_IF_NECESSARY</a>();</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;    var superviewWidth = [superview bounds].size.width,</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;        count = <a class="code" href="_c_p_table_view_8j.html#aa0c3e20940452d04b6708ec8b82b482b">NUMBER_OF_COLUMNS</a>(),</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;        resizableColumns = [<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a> <a class="code" href="interface_c_p_index_set.html#a339845eb2d96fae878209105dde5e140">indexSet</a>],</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;        remainingSpace = 0.0,</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;        i = 0;</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;    <span class="comment">// find resizable columns</span></div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;    <span class="comment">// FIX ME: we could cache resizableColumns after this loop and reuse it during the resize</span></div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;    <span class="keywordflow">for</span> (; i &lt; count; i++)</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;    {</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;        var tableColumn = _tableColumns[i];</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;        <span class="keywordflow">if</span> (![tableColumn isHidden] &amp;&amp; ([tableColumn resizingMask] &amp; <a class="code" href="_c_p_table_column_8j.html#a35f6628b9e962856163170d460cb1623">CPTableColumnAutoresizingMask</a>))</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;            [resizableColumns addIndex:i];</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;    }</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;    var maxXofColumns = CGRectGetMaxX([<span class="keyword">self</span> rectOfColumn:[resizableColumns lastIndex]]),</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;        remainingSpace = superviewWidth - maxXofColumns,</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;        resizeableColumnsCount = [resizableColumns count],</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;        proportionate = 0;</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;    <span class="keywordflow">while</span> (remainingSpace &amp;&amp; resizeableColumnsCount)</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;    {</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;        <span class="comment">// Divy out the space.</span></div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;        proportionate += remainingSpace / resizeableColumnsCount;</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;        <span class="comment">// Reset the remaining space to 0</span></div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;        remainingSpace = 0.0;</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;        var index = <a class="code" href="_c_p_obj_j_runtime_8j.html#a84e3be579b365cc2c1559e1a1f469238">CPNotFound</a>;</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;        <span class="keywordflow">while</span> ((index = [resizableColumns indexGreaterThanIndex:index]) !== <a class="code" href="_c_p_obj_j_runtime_8j.html#a84e3be579b365cc2c1559e1a1f469238">CPNotFound</a>)</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;        {</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;            var item = _tableColumns[index],</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;                proposedWidth = [item width] + proportionate,</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;                resizeLeftovers = [item _tryToResizeToWidth:proposedWidth];</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;            <span class="keywordflow">if</span> (resizeLeftovers)</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;            {</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;                [resizableColumns removeIndex:index];</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;                remainingSpace += resizeLeftovers;</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;            }</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;        }</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;    }</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;    <span class="comment">// now that we&#39;ve reached the end we know there are likely rounding errors</span></div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;    <span class="comment">// so we should size the last resized to fit</span></div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;    <span class="comment">// find the last visisble column</span></div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;    <span class="keywordflow">while</span> (count-- &amp;&amp; [_tableColumns[count] isHidden]);</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;    <span class="comment">// find the max x, but subtract a single pixel since the spacing isn&#39;t applicable here.</span></div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;    var delta = superviewWidth - CGRectGetMaxX([self rectOfColumn:count]) - ([self intercellSpacing].<a class="code" href="_c_p_segmented_control_8j.html#a2474a5474cbff19523a51eb1de01cda4">width</a> || 1),</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;        newSize = [item width] + delta;</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;    [item _tryToResizeToWidth:newSize];</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;}</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;</div>
<div class="line"><a name="l02311"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#af55c0e265866be064bcd80e80a4d78dc"> 2311</a></span>&#160;- (void)setColumnAutoresizingStyle:(<span class="keywordtype">unsigned</span>)style</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;{</div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;    <span class="comment">//FIX ME: CPTableViewSequentialColumnAutoresizingStyle and CPTableViewReverseSequentialColumnAutoresizingStyle are not yet implemented</span></div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;    _columnAutoResizingStyle = style;</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;}</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;</div>
<div class="line"><a name="l02320"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a64904071265deae401474834ea7c6dda"> 2320</a></span>&#160;- (unsigned)columnAutoresizingStyle</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;{</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;    <span class="keywordflow">return</span> _columnAutoResizingStyle;</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;}</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;</div>
<div class="line"><a name="l02328"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a0e5f2712415987cf5453e6799ca157ab"> 2328</a></span>&#160;- (void)sizeLastColumnToFit</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;{</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;    _lastColumnShouldSnap = YES;</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;    var superview = [<span class="keyword">self</span> <a class="code" href="interface_c_p_view.html#ae7fe2569d290f7eaabdebf5d48cb2745">superview</a>];</div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;    <span class="keywordflow">if</span> (!superview)</div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;</div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;    var superviewSize = [superview bounds].size;</div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;    <a class="code" href="_c_p_table_view_8j.html#a8d863ee1b9f1e447c7ee408af11b8f22">UPDATE_COLUMN_RANGES_IF_NECESSARY</a>();</div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;</div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;    var count = <a class="code" href="_c_p_table_view_8j.html#aa0c3e20940452d04b6708ec8b82b482b">NUMBER_OF_COLUMNS</a>();</div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;    <span class="comment">// Decrement the counter until we get to the last column that&#39;s not hidden</span></div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;    <span class="keywordflow">while</span> (count-- &amp;&amp; [_tableColumns[count] isHidden]);</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;</div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;    <span class="comment">// If the last column exists</span></div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;    <span class="keywordflow">if</span> (count &gt;= 0)</div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;    {</div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;        var columnToResize = _tableColumns[count],</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;            newSize = MAX(0.0, superviewSize.width - CGRectGetMinX([<span class="keyword">self</span> rectOfColumn:count]) - _intercellSpacing.width);</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;        [columnToResize _tryToResizeToWidth:newSize];</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;    }</div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a45bd62a3fb6f8dec17b8a955ad08632d">setNeedsLayout</a>];</div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;}</div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;</div>
<div class="line"><a name="l02361"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#aa1b1194b660a264c3c330892e4f4ffe4"> 2361</a></span>&#160;- (void)noteNumberOfRowsChanged</div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;{</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;    var oldNumberOfRows = _numberOfRows;</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;    _numberOfRows = [<span class="keyword">self</span> _numberOfRows];</div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;    _cachedRowHeights = [];</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;</div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;    <span class="comment">// this line serves two purposes</span></div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;    <span class="comment">// 1. it updates the _numberOfRows cache with the -numberOfRows call</span></div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;    <span class="comment">// 2. it updates the row height cache if needed</span></div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;    [<span class="keyword">self</span> _noteHeightOfRowsWithIndexesChanged:[<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a> <a class="code" href="interface_c_p_index_set.html#a4c32a454bd5323253b9e8c4f81712ea5">indexSetWithIndexesInRange</a>:CPMakeRange(0, _numberOfRows)]];</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;</div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;    <span class="comment">// remove row indexes from the selection if they no longer exist</span></div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;    var hangingSelections = oldNumberOfRows - _numberOfRows;</div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;    <span class="keywordflow">if</span> (hangingSelections &gt; 0)</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;    {</div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;        var previousSelectionCount = [_selectedRowIndexes count];</div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;        [_selectedRowIndexes removeIndexesInRange:CPMakeRange(_numberOfRows, hangingSelections)];</div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;        <span class="keywordflow">if</span> (![_selectedRowIndexes containsIndex:[<span class="keyword">self</span> selectedRow]])</div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;            _lastSelectedRow = <a class="code" href="_c_p_obj_j_runtime_8j.html#a84e3be579b365cc2c1559e1a1f469238">CPNotFound</a>;</div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;</div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;        <span class="comment">// For optimal performance, only send a notification if indices were actually removed.</span></div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;        <span class="keywordflow">if</span> (previousSelectionCount &gt; [_selectedRowIndexes count])</div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;            [<span class="keyword">self</span> _noteSelectionDidChange];</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;    }</div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;</div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#af2af4f3cd8a4020f17c25c64548051ea">tile</a>];</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;}</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;<span class="comment">    Populates the row height cache if necessary.</span></div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;- (void)_populateRowHeightCacheIfNeeded</div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;{</div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;    <span class="keywordflow">if</span> ([<span class="keyword">self</span> numberOfRows] !== _cachedRowHeights.length)</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;        [<span class="keyword">self</span> noteHeightOfRowsWithIndexesChanged:[<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a> <a class="code" href="interface_c_p_index_set.html#a4c32a454bd5323253b9e8c4f81712ea5">indexSetWithIndexesInRange</a>:CPMakeRange(0, _numberOfRows)]];</div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;}</div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;- (void)_noteHeightOfRowsWithIndexesChanged:(<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a>)anIndexSet</div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;{</div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="_c_p_table_view_8j.html#ac2bcf5323fa10cbacadb5b100067b443">HAS_VARIABLE_ROW_HEIGHTS</a>())</div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;    <span class="comment">// Update the height of the given rows by calling the delegate. Since the row height cache also contains</span></div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;    <span class="comment">// y coordinates, we have to update the y coordinates of all rows below the first valid row in the range.</span></div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;    var i = [anIndexSet <a class="code" href="interface_c_p_index_set.html#a2c0e5c20cd048674814f55b43bfc8c8d">indexGreaterThanOrEqualToIndex</a>:0];</div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;</div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;    <span class="keywordflow">if</span> (i === <a class="code" href="_c_p_obj_j_runtime_8j.html#a84e3be579b365cc2c1559e1a1f469238">CPNotFound</a>)</div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;</div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;    var y = i &lt; _cachedRowHeights.length ? _cachedRowHeights[i].y : 0;</div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;</div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;    <span class="keywordflow">for</span> (var count = [<span class="keyword">self</span> numberOfRows]; i &lt; count; ++i)</div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;    {</div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;        var height;</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;</div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;        <span class="keywordflow">if</span> ([anIndexSet containsIndex:i])</div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;            height = [<span class="keyword">self</span> _sendDelegateHeightOfRow:i];</div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;            height = _cachedRowHeights[i].height || _rowHeight;  <span class="comment">// in case the cache entry is empty</span></div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;</div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;        _cachedRowHeights[i] = {y:y, height:height};</div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;        y += height + _intercellSpacing.height;</div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;    }</div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;}</div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;</div>
<div class="line"><a name="l02440"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a7cee85fa22beb09e72fad9bf80d5689c"> 2440</a></span>&#160;- (void)noteHeightOfRowsWithIndexesChanged:(<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a>)anIndexSet</div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;{</div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;    [<span class="keyword">self</span> _noteHeightOfRowsWithIndexesChanged:anIndexSet];</div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;    [<span class="keyword">self</span> _reloadDataViews];</div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;}</div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;</div>
<div class="line"><a name="l02449"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#af2af4f3cd8a4020f17c25c64548051ea"> 2449</a></span>&#160;- (void)tile</div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;{</div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;    <a class="code" href="_c_p_table_view_8j.html#a8d863ee1b9f1e447c7ee408af11b8f22">UPDATE_COLUMN_RANGES_IF_NECESSARY</a>();</div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;</div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;    var <a class="code" href="_c_p_segmented_control_8j.html#a2474a5474cbff19523a51eb1de01cda4">width</a> = _tableColumnRanges.length &gt; 0 ? <a class="code" href="group__foundation.html#ga9a9c6e53b2b0861cedbb77b5ab72e78f">CPMaxRange</a>([_tableColumnRanges lastObject]) : 0.0,</div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;        superview = [<span class="keyword">self</span> <a class="code" href="interface_c_p_view.html#ae7fe2569d290f7eaabdebf5d48cb2745">superview</a>],</div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;        height = 0;</div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;</div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="_c_p_table_view_8j.html#ac2bcf5323fa10cbacadb5b100067b443">HAS_VARIABLE_ROW_HEIGHTS</a>())</div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;        height = <a class="code" href="_c_p_table_view_8j.html#a3c9003b0a97bc491df8b6ec7b02f4120">FULL_ROW_HEIGHT</a>() * _numberOfRows;</div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (_numberOfRows &gt; 0)</div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;    {</div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;        [<span class="keyword">self</span> _populateRowHeightCacheIfNeeded];</div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;</div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;        var heightInfo = _cachedRowHeights[_cachedRowHeights.length - 1];</div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;</div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;        height = <a class="code" href="_c_p_table_view_8j.html#ab67d9cc3b304f1a524c1b0fb0f76986d">ROW_BOTTOM</a>(heightInfo);</div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;    }</div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;</div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;    <span class="keywordflow">if</span> ([superview isKindOfClass:[CPClipView <span class="keyword">class</span>]])</div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;    {</div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;        var superviewSize = [superview bounds].size;</div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;</div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;        width = MAX(superviewSize.width, width);</div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;        height = MAX(superviewSize.height, height);</div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;    }</div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;</div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a2f8731a826f57388dba260fa2ccc64eb">setFrameSize</a>:CGSizeMake(width, height)];</div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;</div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a45bd62a3fb6f8dec17b8a955ad08632d">setNeedsLayout</a>];</div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a31af19dc321476a95414cd5e5da60ef0">setNeedsDisplay</a>:YES];</div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;}</div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;</div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;</div>
<div class="line"><a name="l02488"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#aac2521d3f258b8a58f3357756a5b830f"> 2488</a></span>&#160;- (void)scrollRowToVisible:(<span class="keywordtype">int</span>)rowIndex</div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;{</div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;    var visible = [<span class="keyword">self</span> <a class="code" href="interface_c_p_view.html#a3db250b9d8cd9a1d4b244e104fcd589e">visibleRect</a>],</div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;        rowRect = [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#abdf1f5cc725acaf6d5734cc535bc8a22">rectOfRow</a>:rowIndex];</div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;</div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;    visible.origin.y = rowRect.origin.y;</div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;    visible.size.height = rowRect.size.height;</div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;</div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_view.html#a606811544e89614227b2e39735aa5937">scrollRectToVisible</a>:visible];</div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;}</div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;</div>
<div class="line"><a name="l02504"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a2ffae1b91fadd2aa6055af8b2be802d8"> 2504</a></span>&#160;- (void)scrollColumnToVisible:(<span class="keywordtype">int</span>)columnIndex</div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;{</div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;    var visible = [<span class="keyword">self</span> <a class="code" href="interface_c_p_view.html#a3db250b9d8cd9a1d4b244e104fcd589e">visibleRect</a>],</div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;        colRect = [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#af86aacec5d36506c1fee17f1fab5803f">rectOfColumn</a>:columnIndex];</div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;</div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;    visible.origin.x = colRect.origin.x;</div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;    visible.size.width = colRect.size.width;</div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;</div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_view.html#a606811544e89614227b2e39735aa5937">scrollRectToVisible</a>:visible];</div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;    [_headerView scrollRectToVisible:colRect];</div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;}</div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;</div>
<div class="line"><a name="l02522"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a13be1e95519d062c419a1e8e321bc81e"> 2522</a></span>&#160;- (void)setAutosaveName:(<a class="code" href="interface_c_p_string.html" title="An immutable string (collection of characters). ">CPString</a>)theAutosaveName</div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;{</div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;    <span class="keywordflow">if</span> (_autosaveName === theAutosaveName)</div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;</div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;    _autosaveName = theAutosaveName;</div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;</div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a3c7ef0682e178b6b27e544140f8fe893">setAutosaveTableColumns</a>:!!theAutosaveName];</div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;    [<span class="keyword">self</span> _restoreFromAutosave];</div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;}</div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;</div>
<div class="line"><a name="l02536"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a58a74c4a749e5cadbf74f6b9bdeed06c"> 2536</a></span>&#160;- (<a class="code" href="interface_c_p_string.html" title="An immutable string (collection of characters). ">CPString</a>)autosaveName</div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;{</div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;    <span class="keywordflow">return</span> _autosaveName;</div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;}</div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;</div>
<div class="line"><a name="l02547"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a3c7ef0682e178b6b27e544140f8fe893"> 2547</a></span>&#160;- (void)setAutosaveTableColumns:(BOOL)shouldAutosave</div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;{</div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;    _autosaveTableColumns = shouldAutosave;</div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;}</div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;</div>
<div class="line"><a name="l02555"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#aef9d0bb4008c7445f4f34221c81234ff"> 2555</a></span>&#160;- (BOOL)autosaveTableColumns</div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;{</div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;    <span class="keywordflow">return</span> _autosaveTableColumns;</div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;}</div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;</div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;- (<a class="code" href="interface_c_p_string.html" title="An immutable string (collection of characters). ">CPString</a>)_columnsKeyForAutosaveName:(<a class="code" href="interface_c_p_string.html" title="An immutable string (collection of characters). ">CPString</a>)theAutosaveName</div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;{</div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">@&quot;CPTableView Columns &quot;</span> + theAutosaveName;</div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;}</div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;</div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;- (BOOL)_autosaveEnabled</div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;{</div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;    <span class="keywordflow">return</span> [<span class="keyword">self</span> autosaveName] &amp;&amp; [<span class="keyword">self</span> autosaveTableColumns];</div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;}</div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;</div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;- (void)_autosave</div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;{</div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;    <span class="keywordflow">if</span> (![<span class="keyword">self</span> _autosaveEnabled])</div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;</div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;    var userDefaults = [<a class="code" href="interface_c_p_user_defaults.html">CPUserDefaults</a> <a class="code" href="interface_c_p_user_defaults.html#ad45201f6dc324ebebf4c59fab27c89fc">standardUserDefaults</a>],</div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;        autosaveName = [<span class="keyword">self</span> autosaveName];</div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;</div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;    var columns = [<span class="keyword">self</span> tableColumns],</div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;        columnsSetup = [];</div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;</div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;    <span class="keywordflow">for</span> (var i = 0; i &lt; [columns count]; i++)</div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;    {</div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;        var column = [columns objectAtIndex:i],</div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;            metaData = @{</div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;                <span class="stringliteral">@&quot;identifier&quot;</span>: [column identifier],</div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;                <span class="stringliteral">@&quot;width&quot;</span>: [column width]</div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;            };</div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;</div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;        [columnsSetup addObject:metaData];</div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;    }</div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;</div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;    [userDefaults setObject:columnsSetup forKey:[<span class="keyword">self</span> _columnsKeyForAutosaveName:autosaveName]];</div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;}</div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;</div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;- (void)_restoreFromAutosave</div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;{</div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;    <span class="keywordflow">if</span> (![<span class="keyword">self</span> _autosaveEnabled])</div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;</div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;    var userDefaults = [<a class="code" href="interface_c_p_user_defaults.html">CPUserDefaults</a> <a class="code" href="interface_c_p_user_defaults.html#ad45201f6dc324ebebf4c59fab27c89fc">standardUserDefaults</a>],</div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;        autosaveName = [<span class="keyword">self</span> autosaveName],</div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;        tableColumns = [userDefaults objectForKey:[<span class="keyword">self</span> _columnsKeyForAutosaveName:autosaveName]];</div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;</div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;    <span class="keywordflow">if</span> ([tableColumns count] != [[<span class="keyword">self</span> tableColumns] count])</div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;</div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;    <span class="keywordflow">for</span> (var i = 0; i &lt; [tableColumns count]; i++)</div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;    {</div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;        var metaData = [tableColumns objectAtIndex:i],</div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;            columnIdentifier = [metaData objectForKey:@&quot;identifier&quot;],</div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;            column = [<span class="keyword">self</span> columnWithIdentifier:columnIdentifier],</div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;            tableColumn = [<span class="keyword">self</span> tableColumnWithIdentifier:columnIdentifier];</div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;</div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;        <span class="keywordflow">if</span> (tableColumn &amp;&amp; column != <a class="code" href="_c_p_obj_j_runtime_8j.html#a84e3be579b365cc2c1559e1a1f469238">CPNotFound</a>)</div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;        {</div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;            [<span class="keyword">self</span> _moveColumn:column toColumn:i];</div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;            [tableColumn setWidth:[metaData objectForKey:@&quot;width&quot;]];</div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;        }</div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;    }</div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;}</div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;</div>
<div class="line"><a name="l02784"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a00fc9fb01db1ad77ffbc33dc39e7b5e5"> 2784</a></span>&#160;- (void)setDelegate:(<span class="keywordtype">id</span> &lt;<a class="code" href="protocol_c_p_table_view_delegate-p.html">CPTableViewDelegate</a>&gt;)aDelegate</div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;{</div>
<div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;    <span class="keywordflow">if</span> (_delegate === aDelegate)</div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;</div>
<div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;    _delegate = aDelegate;</div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;    _implementedDelegateMethods = 0;</div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;</div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;    <span class="keywordflow">if</span> ([_delegate respondsToSelector:<span class="keyword">@selector</span>(selectionShouldChangeInTableView:)])</div>
<div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;        _implementedDelegateMethods |= <a class="code" href="_c_p_table_view_8j.html#a17dd3c2f77d47e02db83a2643962e03f">CPTableViewDelegate_selectionShouldChangeInTableView_</a>;</div>
<div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;</div>
<div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;    <span class="keywordflow">if</span> ([_delegate respondsToSelector:<span class="keyword">@selector</span>(<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:viewForTableColumn:row:)])</div>
<div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;        _implementedDelegateMethods |= <a class="code" href="_c_p_table_view_8j.html#a72bc603668aee3f7140a5fa4f2e66679">CPTableViewDelegate_tableView_viewForTableColumn_row_</a>;</div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ([_delegate respondsToSelector:<span class="keyword">@selector</span>(<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:dataViewForTableColumn:row:)])</div>
<div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;    {</div>
<div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;        _implementedDelegateMethods |= <a class="code" href="_c_p_table_view_8j.html#a50ccc5dbd574a129aca4b61924308813">CPTableViewDelegate_tableView_dataViewForTableColumn_row_</a>;</div>
<div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;        CPLog.warn(<span class="stringliteral">&quot;tableView:dataViewForTableColumn: is deprecated. You should use -tableView:viewForTableColumn: where you can request the view with -makeViewWithIdentifier:owner:&quot;</span>);</div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;    }</div>
<div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;</div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;    [<span class="keyword">self</span> _updateIsViewBased];</div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;</div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;    <span class="keywordflow">if</span> ([_delegate respondsToSelector:<span class="keyword">@selector</span>(<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:didClickTableColumn:)])</div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;        _implementedDelegateMethods |= <a class="code" href="_c_p_table_view_8j.html#a11302327c1511f3a71d93e494794c655">CPTableViewDelegate_tableView_didClickTableColumn_</a>;</div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;</div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;    <span class="keywordflow">if</span> ([_delegate respondsToSelector:<span class="keyword">@selector</span>(<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:didDragTableColumn:)])</div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;        _implementedDelegateMethods |= <a class="code" href="_c_p_table_view_8j.html#ac6764797b21b0862c8ea1223c05626c2">CPTableViewDelegate_tableView_didDragTableColumn_</a>;</div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;</div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;    <span class="keywordflow">if</span> ([_delegate respondsToSelector:<span class="keyword">@selector</span>(<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:heightOfRow:)])</div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;        _implementedDelegateMethods |= <a class="code" href="_c_p_table_view_8j.html#afd61c24dda7ceebc29da34fa3b5f4a3a">CPTableViewDelegate_tableView_heightOfRow_</a>;</div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;</div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;    <span class="keywordflow">if</span> ([_delegate respondsToSelector:<span class="keyword">@selector</span>(<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:isGroupRow:)])</div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;        _implementedDelegateMethods |= <a class="code" href="_c_p_table_view_8j.html#a1b2d38c75129c936b93b4163a5a32889">CPTableViewDelegate_tableView_isGroupRow_</a>;</div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;</div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;    <span class="keywordflow">if</span> ([_delegate respondsToSelector:<span class="keyword">@selector</span>(<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:mouseDownInHeaderOfTableColumn:)])</div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;        _implementedDelegateMethods |= <a class="code" href="_c_p_table_view_8j.html#a53db520f3c6c396184ef32c5a586b027">CPTableViewDelegate_tableView_mouseDownInHeaderOfTableColumn_</a>;</div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;</div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;    <span class="keywordflow">if</span> ([_delegate respondsToSelector:<span class="keyword">@selector</span>(<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:nextTypeSelectMatchFromRow:toRow:forString:)])</div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;        _implementedDelegateMethods |= <a class="code" href="_c_p_table_view_8j.html#abf8671c1652c48238dc5c04fc9550a62">CPTableViewDelegate_tableView_nextTypeSelectMatchFromRow_toRow_forString_</a>;</div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;</div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;    <span class="keywordflow">if</span> ([_delegate respondsToSelector:<span class="keyword">@selector</span>(<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:selectionIndexesForProposedSelection:)])</div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;        _implementedDelegateMethods |= <a class="code" href="_c_p_table_view_8j.html#a87a639d266ecdd1db204b2b3e3d0e97d">CPTableViewDelegate_tableView_selectionIndexesForProposedSelection_</a>;</div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;</div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;    <span class="keywordflow">if</span> ([_delegate respondsToSelector:<span class="keyword">@selector</span>(<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:shouldEditTableColumn:row:)])</div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;        _implementedDelegateMethods |= <a class="code" href="_c_p_table_view_8j.html#a13a5d77ea463b7ee16d106bdf440baef">CPTableViewDelegate_tableView_shouldEditTableColumn_row_</a>;</div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;</div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;    <span class="keywordflow">if</span> ([_delegate respondsToSelector:<span class="keyword">@selector</span>(<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:shouldSelectRow:)])</div>
<div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;        _implementedDelegateMethods |= <a class="code" href="_c_p_table_view_8j.html#aaea951ab19dc11a096a69b28cc216e38">CPTableViewDelegate_tableView_shouldSelectRow_</a>;</div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;</div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;    <span class="keywordflow">if</span> ([_delegate respondsToSelector:<span class="keyword">@selector</span>(<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:shouldSelectTableColumn:)])</div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;        _implementedDelegateMethods |= <a class="code" href="_c_p_table_view_8j.html#a40e46e56c68f00ce2e3fe0c2dce75577">CPTableViewDelegate_tableView_shouldSelectTableColumn_</a>;</div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;</div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;    <span class="keywordflow">if</span> ([_delegate respondsToSelector:<span class="keyword">@selector</span>(<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:shouldShowViewExpansionForTableColumn:row:)])</div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;        _implementedDelegateMethods |= <a class="code" href="_c_p_table_view_8j.html#a47c3d5fa0d018996943ef98b80ffd3ed">CPTableViewDelegate_tableView_shouldShowViewExpansionForTableColumn_row_</a>;</div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;</div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;    <span class="keywordflow">if</span> ([_delegate respondsToSelector:<span class="keyword">@selector</span>(<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:shouldTrackView:forTableColumn:row:)])</div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;        _implementedDelegateMethods |= <a class="code" href="_c_p_table_view_8j.html#a84373538a8878335c8efedfc6a73dfda">CPTableViewDelegate_tableView_shouldTrackView_forTableColumn_row_</a>;</div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;</div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;    <span class="keywordflow">if</span> ([_delegate respondsToSelector:<span class="keyword">@selector</span>(<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:shouldTypeSelectForEvent:withCurrentSearchString:)])</div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;        _implementedDelegateMethods |= <a class="code" href="_c_p_table_view_8j.html#a90bdeeee16a3591df2596384e4f627e3">CPTableViewDelegate_tableView_shouldTypeSelectForEvent_withCurrentSearchString_</a>;</div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;</div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;    <span class="keywordflow">if</span> ([_delegate respondsToSelector:<span class="keyword">@selector</span>(<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:toolTipForView:rect:tableColumn:row:mouseLocation:)])</div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;        _implementedDelegateMethods |= <a class="code" href="_c_p_table_view_8j.html#a106983f227bb2afdff8e05449a4ea33a">CPTableViewDelegate_tableView_toolTipForView_rect_tableColumn_row_mouseLocation_</a>;</div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;</div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;    <span class="keywordflow">if</span> ([_delegate respondsToSelector:<span class="keyword">@selector</span>(<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:typeSelectStringForTableColumn:row:)])</div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;        _implementedDelegateMethods |= <a class="code" href="_c_p_table_view_8j.html#a8a84faf4826019c8a187588890360704">CPTableViewDelegate_tableView_typeSelectStringForTableColumn_row_</a>;</div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;</div>
<div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;    <span class="keywordflow">if</span> ([_delegate respondsToSelector:<span class="keyword">@selector</span>(<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:willDisplayView:forTableColumn:row:)])</div>
<div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;        _implementedDelegateMethods |= <a class="code" href="_c_p_table_view_8j.html#ad543a1b68132942313c20a9414cb508c">CPTableViewDelegate_tableView_willDisplayView_forTableColumn_row_</a>;</div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;</div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;    <span class="keywordflow">if</span> ([_delegate respondsToSelector:<span class="keyword">@selector</span>(<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:willRemoveView:forTableColumn:row:)])</div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;        _implementedDelegateMethods |= <a class="code" href="_c_p_table_view_8j.html#a85137871fafd4a59dc04c5ccdc3bd1b7">CPTableViewDelegate_tableView_willRemoveView_forTableColumn_row_</a>;</div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;</div>
<div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;    <span class="keywordflow">if</span> ([_delegate respondsToSelector:<span class="keyword">@selector</span>(<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:menuForTableColumn:row:)])</div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;        _implementedDelegateMethods |= <a class="code" href="_c_p_table_view_8j.html#add563e75f969fc2b9f4367b8a2db3fa4">CPTableViewDelegate_tableViewMenuForTableColumn_row_</a>;</div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;</div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;    <span class="keywordflow">if</span> ([_delegate respondsToSelector:<span class="keyword">@selector</span>(<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:shouldReorderColumn:toColumn:)])</div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;        _implementedDelegateMethods |= <a class="code" href="_c_p_table_view_8j.html#a589a91e50a648a4ab40d99311cbdfaf4">CPTableViewDelegate_tableView_shouldReorderColumn_toColumn_</a>;</div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;</div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;    <span class="keywordflow">if</span> ([_delegate respondsToSelector:<span class="keyword">@selector</span>(tableViewColumnDidMove:)])</div>
<div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;        _implementedDelegateMethods |= <a class="code" href="_c_p_table_view_8j.html#a79853e5ccf7715294f3ff8e63c5dbc1d">CPTableViewDelegate_tableViewColumnDidMove_</a>;</div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;</div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;    <span class="keywordflow">if</span> ([_delegate respondsToSelector:<span class="keyword">@selector</span>(tableViewColumnDidResize:)])</div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;        _implementedDelegateMethods |= <a class="code" href="_c_p_table_view_8j.html#a0aaac5c622dc409e714d5e6400f212ed">CPTableViewDelegate_tableViewColumnDidResize_</a>;</div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;</div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;    <span class="keywordflow">if</span> ([_delegate respondsToSelector:<span class="keyword">@selector</span>(tableViewSelectionDidChange:)])</div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;        _implementedDelegateMethods |= <a class="code" href="_c_p_table_view_8j.html#a0e92f5ab48715248e82afe1bd74528b7">CPTableViewDelegate_tableViewSelectionDidChange_</a>;</div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;</div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;    <span class="keywordflow">if</span> ([_delegate respondsToSelector:<span class="keyword">@selector</span>(tableViewSelectionIsChanging:)])</div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;        _implementedDelegateMethods |= <a class="code" href="_c_p_table_view_8j.html#ac80a4fc92d5dd3f875a79b2c44b55ed3">CPTableViewDelegate_tableViewSelectionIsChanging_</a>;</div>
<div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;}</div>
<div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;</div>
<div class="line"><a name="l02878"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a2d965d92f1eadcfbd2d98bc750c32c92"> 2878</a></span>&#160;- (id)<a class="code" href="_c_a_layer_8j.html#a6c98e239b6ba279cfc95c64db9de555c">delegate</a></div>
<div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;{</div>
<div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;    <span class="keywordflow">return</span> _delegate;</div>
<div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;}</div>
<div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;</div>
<div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;- (void)_didClickTableColumn:(CPInteger)clickedColumn modifierFlags:(<span class="keywordtype">unsigned</span>)modifierFlags</div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;{</div>
<div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;    [<span class="keyword">self</span> _changeSortDescriptorsForClickOnColumn:clickedColumn];</div>
<div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;</div>
<div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;    <span class="keywordflow">if</span> (_allowsColumnSelection)</div>
<div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;    {</div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;        <span class="keywordflow">if</span> ([<span class="keyword">self</span> _sendDelegateSelectionShouldChangeInTableView] &amp;&amp; [<span class="keyword">self</span> _sendDelegateShouldSelectTableColumn:clickedColumn])</div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;        {</div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;            [<span class="keyword">self</span> _noteSelectionIsChanging];</div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;            <span class="keywordflow">if</span> (modifierFlags &amp; <a class="code" href="_c_p_compatibility_8j.html#a4afae34f32632962039c439c53b16f66">CPPlatformActionKeyMask</a>)</div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;            {</div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;                <span class="keywordflow">if</span> ([<span class="keyword">self</span> isColumnSelected:clickedColumn])</div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;                    [<span class="keyword">self</span> deselectColumn:clickedColumn];</div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> ([<span class="keyword">self</span> allowsMultipleSelection] == YES)</div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;                    [<span class="keyword">self</span> selectColumnIndexes:[<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a> <a class="code" href="interface_c_p_index_set.html#a4aa683fde78ba593d0e70040125ed306">indexSetWithIndex</a>:clickedColumn] <a class="code" href="interface_c_p_table_view.html#aea838609fe453ae9ed670d98c3c4ff04">byExtendingSelection</a>:YES];</div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;</div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;            }</div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (modifierFlags &amp; <a class="code" href="_c_p_event___constants_8j.html#a2343191b34b38dc1952bb44d83fa30d6">CPShiftKeyMask</a>)</div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;            {</div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;                <span class="comment">// should be from clickedColumn to lastClickedColum with extending:(direction == previous selection)</span></div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;                var startColumn = MIN(clickedColumn, [_selectedColumnIndexes lastIndex]),</div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;                    endColumn = MAX(clickedColumn, [_selectedColumnIndexes firstIndex]);</div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;</div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;                [<span class="keyword">self</span> selectColumnIndexes:[<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a> <a class="code" href="interface_c_p_index_set.html#a4c32a454bd5323253b9e8c4f81712ea5">indexSetWithIndexesInRange</a>:CPMakeRange(startColumn, endColumn - startColumn + 1)]</div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;                     <a class="code" href="interface_c_p_table_view.html#aea838609fe453ae9ed670d98c3c4ff04">byExtendingSelection</a>:YES];</div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;</div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;            }</div>
<div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;                [<span class="keyword">self</span> selectColumnIndexes:[<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a> <a class="code" href="interface_c_p_index_set.html#a4aa683fde78ba593d0e70040125ed306">indexSetWithIndex</a>:clickedColumn] <a class="code" href="interface_c_p_table_view.html#aea838609fe453ae9ed670d98c3c4ff04">byExtendingSelection</a>:NO];</div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;        }</div>
<div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;    }</div>
<div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;</div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;    [<span class="keyword">self</span> _sendDelegateDidClickTableColumn:clickedColumn];</div>
<div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;}</div>
<div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;</div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;<span class="comment">// From GNUSTEP</span></div>
<div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;<span class="comment"></span>- (void)_changeSortDescriptorsForClickOnColumn:(CPInteger)column</div>
<div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;{</div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;    var tableColumn = [_tableColumns objectAtIndex:column],</div>
<div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;        newMainSortDescriptor = [tableColumn sortDescriptorPrototype];</div>
<div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;</div>
<div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;    <span class="keywordflow">if</span> (!newMainSortDescriptor)</div>
<div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;       <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;</div>
<div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;    var oldMainSortDescriptor = nil,</div>
<div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;        oldSortDescriptors = [<span class="keyword">self</span> sortDescriptors],</div>
<div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;        newSortDescriptors = [CPArray arrayWithArray:oldSortDescriptors],</div>
<div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;</div>
<div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;        e = [newSortDescriptors objectEnumerator],</div>
<div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;        descriptor = nil,</div>
<div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;        outdatedDescriptors = [CPArray array];</div>
<div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;</div>
<div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;    <span class="keywordflow">if</span> ([_sortDescriptors count] &gt; 0)</div>
<div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;        oldMainSortDescriptor = [[<span class="keyword">self</span> sortDescriptors] objectAtIndex: 0];</div>
<div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;</div>
<div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;    <span class="comment">// Remove every main descriptor equivalents (normally only one)</span></div>
<div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;    <span class="keywordflow">while</span> ((descriptor = [e nextObject]) !== nil)</div>
<div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;    {</div>
<div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;        <span class="keywordflow">if</span> ([[descriptor key] <a class="code" href="_c_p_attributed_string_8j.html#a6372d023555b0dc11291093b23ab3dfe">isEqual</a>: [newMainSortDescriptor key]])</div>
<div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;            [outdatedDescriptors addObject:descriptor];</div>
<div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;    }</div>
<div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;</div>
<div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;    <span class="comment">// Invert the sort direction when the same column header is clicked twice</span></div>
<div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;    <span class="keywordflow">if</span> ([[newMainSortDescriptor key] <a class="code" href="_c_p_attributed_string_8j.html#a6372d023555b0dc11291093b23ab3dfe">isEqual</a>:[oldMainSortDescriptor key]])</div>
<div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;        newMainSortDescriptor = [oldMainSortDescriptor reversedSortDescriptor];</div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;</div>
<div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;    [newSortDescriptors removeObjectsInArray:outdatedDescriptors];</div>
<div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;    [newSortDescriptors insertObject:newMainSortDescriptor atIndex:0];</div>
<div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;</div>
<div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;    [<span class="keyword">self</span> setHighlightedTableColumn:tableColumn];</div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;    [<span class="keyword">self</span> setSortDescriptors:newSortDescriptors];</div>
<div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;}</div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;</div>
<div class="line"><a name="l02973"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#af9691a3301ba43ac53f9e8f2333476a4"> 2973</a></span>&#160;- (void)setIndicatorImage:(<a class="code" href="interface_c_p_image.html">CPImage</a>)anImage inTableColumn:(<a class="code" href="interface_c_p_table_column.html">CPTableColumn</a>)aTableColumn</div>
<div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;{</div>
<div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;    <span class="keywordflow">if</span> (aTableColumn)</div>
<div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;    {</div>
<div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;        var headerView = [aTableColumn <a class="code" href="interface_c_p_table_column.html#a9a346d4582962843f5915f54b06d9831">headerView</a>];</div>
<div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;        <span class="keywordflow">if</span> ([headerView respondsToSelector:<span class="keyword">@selector</span>(_setIndicatorImage:)])</div>
<div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;            [headerView _setIndicatorImage:anImage];</div>
<div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;    }</div>
<div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;}</div>
<div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;</div>
<div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;- (<a class="code" href="interface_c_p_image.html">CPImage</a>)_tableHeaderSortImage</div>
<div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;{</div>
<div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;    <span class="keywordflow">return</span> [<span class="keyword">self</span> currentValueForThemeAttribute:@&quot;sort-image&quot;];</div>
<div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;}</div>
<div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;</div>
<div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;- (<a class="code" href="interface_c_p_image.html">CPImage</a>)_tableHeaderReverseSortImage</div>
<div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;{</div>
<div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;    <span class="keywordflow">return</span> [<span class="keyword">self</span> currentValueForThemeAttribute:@&quot;sort-image-reversed&quot;];</div>
<div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;}</div>
<div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;</div>
<div class="line"><a name="l03002"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a0b737f53481551002ffae1b1e157b024"> 3002</a></span>&#160;- (<a class="code" href="interface_c_p_table_column.html">CPTableColumn</a>)highlightedTableColumn</div>
<div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;{</div>
<div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;    <span class="keywordflow">return</span> _currentHighlightedTableColumn;</div>
<div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;}</div>
<div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;</div>
<div class="line"><a name="l03010"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a61c59db7ff22843b3469036cce667412"> 3010</a></span>&#160;- (void)setHighlightedTableColumn:(<a class="code" href="interface_c_p_table_column.html">CPTableColumn</a>)aTableColumn</div>
<div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;{</div>
<div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;    <span class="keywordflow">if</span> (_currentHighlightedTableColumn == aTableColumn)</div>
<div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;</div>
<div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;    <span class="keywordflow">if</span> (_headerView)</div>
<div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;    {</div>
<div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;        <span class="keywordflow">if</span> (_currentHighlightedTableColumn != nil)</div>
<div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;            [[_currentHighlightedTableColumn headerView] unsetThemeState:CPThemeStateSelected];</div>
<div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;</div>
<div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;        <span class="keywordflow">if</span> (aTableColumn != nil)</div>
<div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;            [[aTableColumn <a class="code" href="interface_c_p_table_column.html#a9a346d4582962843f5915f54b06d9831">headerView</a>] <a class="code" href="interface_c_p_view.html#af375db0002e118c71a6e138b63c9430a">setThemeState</a>:CPThemeStateSelected];</div>
<div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;    }</div>
<div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;</div>
<div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;    _currentHighlightedTableColumn = aTableColumn;</div>
<div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;}</div>
<div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;</div>
<div class="line"><a name="l03033"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a36bbab18fe3008a1ccdc7de1a58e3089"> 3033</a></span>&#160;- (BOOL)canDragRowsWithIndexes:(<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a>)rowIndexes atPoint:(CGPoint)mouseDownPoint</div>
<div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;{</div>
<div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;    <span class="keywordflow">return</span> [rowIndexes <a class="code" href="interface_c_p_index_set.html#a837688ed946ca09c66595dfa30345d03">count</a>] &gt; 0 &amp;&amp; [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#ab93d1883609b8aaca737188ee9667c17">numberOfRows</a>] &gt; 0 &amp;&amp; [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#ae601240f59853d00860181c80d763a03">numberOfColumns</a>] &gt; 0;</div>
<div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;}</div>
<div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;</div>
<div class="line"><a name="l03048"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a62fac1ba2cdd4209fc686134972885b6"> 3048</a></span>&#160;- (<a class="code" href="interface_c_p_image.html">CPImage</a>)dragImageForRowsWithIndexes:(<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a>)dragRows tableColumns:(CPArray)theTableColumns event:(<a class="code" href="interface_c_p_event.html">CPEvent</a>)dragEvent offset:(CGPoint)dragImageOffset</div>
<div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;{</div>
<div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;    <span class="keywordflow">return</span> [<span class="keyword">self</span> <a class="code" href="interface_c_p_view.html#a486e56469971d47b9bf7df07f4b688c5">valueForThemeAttribute</a>:@&quot;image-generic-file&quot;];</div>
<div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;}</div>
<div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;</div>
<div class="line"><a name="l03065"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a094bbe4cb452c6c540b46ad612fb66f9"> 3065</a></span>&#160;- (<a class="code" href="interface_c_p_view.html">CPView</a>)dragViewForRowsWithIndexes:(<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a>)theDraggedRows tableColumns:(CPArray)theTableColumns event:(<a class="code" href="interface_c_p_event.html">CPEvent</a>)theDragEvent offset:(CGPoint)dragViewOffset</div>
<div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;{</div>
<div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;    var <a class="code" href="_c_a_layer_8j.html#a76e98e4f35c628cffcb1a388ec583bec">bounds</a> = [<span class="keyword">self</span> <a class="code" href="interface_c_p_view.html#af0bd55e12e5ac7ea4b137eae5f1829af">bounds</a>],</div>
<div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;        dragView = [[<a class="code" href="interface_c_p_view.html">CPView</a> <a class="code" href="class_c_p_object.html#aa6d290852c6a151058e8e82d053db475">alloc</a>] initWithFrame:bounds];</div>
<div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;</div>
<div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;    [dragView setAlphaValue:0.7];</div>
<div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;</div>
<div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;    <span class="comment">// We have to fetch all the data views for the selected rows and columns</span></div>
<div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;    <span class="comment">// After that we can copy these add them to a transparent drag view and use that drag view</span></div>
<div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;    <span class="comment">// to make it appear we are dragging images of those rows (as you would do in regular Cocoa)</span></div>
<div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;    [<span class="keyword">self</span> _enumerateViewsInRows:theDraggedRows tableColumns:theTableColumns usingBlock:function(v, row, tableColumn, stop)</div>
<div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;    {</div>
<div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;        var column = [_tableColumns indexOfObjectIdenticalTo:tableColumn],</div>
<div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;            newDataView = [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a3398a4cf9ade3be9ca454e4ac86b47e2">preparedViewAtColumn</a>:column <a class="code" href="interface_c_p_table_view.html#a3398a4cf9ade3be9ca454e4ac86b47e2">row</a>:row];</div>
<div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;</div>
<div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;        [dragView addSubview:newDataView];</div>
<div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;    }];</div>
<div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;</div>
<div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;    var dragPoint = [<span class="keyword">self</span> <a class="code" href="interface_c_p_view.html#ae2bfa5f8caa8e73b81f97180c50cd80f">convertPoint</a>:[theDragEvent <a class="code" href="interface_c_p_event.html#a5a57f4fa909de5d83e5402a8d8af4b94">locationInWindow</a>] <a class="code" href="interface_c_p_view.html#ae2bfa5f8caa8e73b81f97180c50cd80f">fromView</a>:nil];</div>
<div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;    dragViewOffset.x = CGRectGetWidth(bounds) / 2 - dragPoint.x;</div>
<div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;    dragViewOffset.y = CGRectGetHeight(bounds) / 2 - dragPoint.y;</div>
<div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;</div>
<div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;    <span class="keywordflow">return</span> dragView;</div>
<div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;}</div>
<div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;</div>
<div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;- (<a class="code" href="interface_c_p_view.html">CPView</a>)_dragViewForColumn:(CPInteger)columnIndex</div>
<div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;{</div>
<div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;    var headerFrame = [_headerView frame],</div>
<div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;        visibleRect = [<span class="keyword">self</span> visibleRect],</div>
<div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;        visibleRows = [<span class="keyword">self</span> rowsInRect:visibleRect],</div>
<div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;        columnRect = [<span class="keyword">self</span> rectOfColumn:columnIndex],</div>
<div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;        tableColumn = [[<span class="keyword">self</span> tableColumns] objectAtIndex:columnIndex],</div>
<div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;        tableColumnUID = [tableColumn UID],</div>
<div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;        columnHeaderView = [tableColumn headerView],</div>
<div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;        columnHeaderFrame = [columnHeaderView frame],</div>
<div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;        <a class="code" href="_c_p_segmented_control_8j.html#a63fcc9e0dd97e8502cce685e88234e16">frame</a> = CGRectMake(MAX(CGRectGetMinX(columnRect) - CGRectGetMinX(visibleRect), 0.0),</div>
<div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;                            0.0,</div>
<div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;                            CGRectGetWidth(columnHeaderFrame),</div>
<div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;                            CGRectGetHeight(visibleRect) + CGRectGetHeight(headerFrame));</div>
<div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;</div>
<div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;    <span class="comment">// We need a wrapper view around the header and column, this is what will be dragged</span></div>
<div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;    var dragView = [[_CPColumnDragDrawingView alloc] initWithFrame:frame];</div>
<div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;</div>
<div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;    [dragView setTableView:self];</div>
<div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;    [dragView setColumnIndex:columnIndex];</div>
<div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;    [dragView setBackgroundColor:[<a class="code" href="interface_c_p_color.html">CPColor</a> <a class="code" href="interface_c_p_color.html#a89743805aa7a7ab79df291661fc4a736">clearColor</a>]];</div>
<div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;    [dragView setAlphaValue:0.6];</div>
<div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;</div>
<div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;    <span class="comment">// Now a view that clips the column data views, which itself is clipped to the content view</span></div>
<div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;    var columnVisRect = CGRectIntersection(columnRect, visibleRect);</div>
<div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;</div>
<div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;    <a class="code" href="_c_p_segmented_control_8j.html#a63fcc9e0dd97e8502cce685e88234e16">frame</a> = CGRectMake(0.0, CGRectGetHeight(headerFrame), CGRectGetWidth(columnVisRect), CGRectGetHeight(columnVisRect));</div>
<div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;</div>
<div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;    var <a class="code" href="_c_p_table_view_8j.html#a239e2e64f51b5f98693d47745bed65a3">columnClipView</a> = [[<a class="code" href="interface_c_p_view.html">CPView</a> <a class="code" href="class_c_p_object.html#aa6d290852c6a151058e8e82d053db475">alloc</a>] initWithFrame:frame];</div>
<div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;</div>
<div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;    [dragView addSubview:columnClipView];</div>
<div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;    [dragView setColumnClipView:columnClipView];</div>
<div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;    _draggedColumnIsSelected = [<span class="keyword">self</span> isColumnSelected:columnIndex];</div>
<div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;</div>
<div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;    var columnLeft = CGRectGetMinX(columnRect),</div>
<div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;        offset = CGPointMake(columnLeft, CGRectGetMinY(visibleRect));</div>
<div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;</div>
<div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;    [<span class="keyword">self</span> _enumerateViewsInRows:_exposedRows columns:[<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a> <a class="code" href="interface_c_p_index_set.html#a4aa683fde78ba593d0e70040125ed306">indexSetWithIndex</a>:columnIndex] usingBlock:function(dataView, row, column, stop)</div>
<div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;    {</div>
<div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;        [<span class="keyword">self</span> _addDraggedDataView:dataView toView:columnClipView forColumn:column row:row offset:offset];</div>
<div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;</div>
<div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;        delete (_dataViewsForRows[row][tableColumnUID]);</div>
<div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;    }];</div>
<div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;</div>
<div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;    <span class="comment">// Add the column header view</span></div>
<div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;    columnHeaderFrame.origin = CGPointMakeZero();</div>
<div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;</div>
<div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;    var dragColumnHeaderView = [[_CPTableColumnHeaderView alloc] initWithFrame:columnHeaderFrame],</div>
<div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;        image = [columnHeaderView _indicatorImage];</div>
<div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;</div>
<div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;    [dragColumnHeaderView setStringValue:[columnHeaderView stringValue]];</div>
<div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;    [dragColumnHeaderView setThemeState:[columnHeaderView themeState]];</div>
<div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;    [dragColumnHeaderView _setIndicatorImage:image];</div>
<div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;</div>
<div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;    <span class="comment">// Give it a tag so it can be found later</span></div>
<div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;    [dragColumnHeaderView setTag:1];</div>
<div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;</div>
<div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;    [dragView addSubview:dragColumnHeaderView];</div>
<div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;</div>
<div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;    <span class="comment">// While dragging, the column is deselected in the table view</span></div>
<div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;    [_selectedColumnIndexes removeIndex:columnIndex];</div>
<div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;</div>
<div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;    <span class="keywordflow">return</span> dragView;</div>
<div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;}</div>
<div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;</div>
<div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;- (void)_addDraggedDataView:(<a class="code" href="interface_c_p_view.html">CPView</a>)aDataView toView:(<a class="code" href="interface_c_p_view.html">CPView</a>)aSuperview forColumn:(CPInteger)column row:(CPInteger)row offset:(CGPoint)offset</div>
<div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;{</div>
<div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;    var dataViewFrame = [<span class="keyword">self</span> frameOfDataViewAtColumn:column row:row];</div>
<div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;</div>
<div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;    dataViewFrame.origin.x -= offset.x;</div>
<div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;    <span class="comment">// Offset by table header height - scroll position</span></div>
<div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;    dataViewFrame.origin.y -= offset.y;</div>
<div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;</div>
<div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;    [aDataView <a class="code" href="interface_c_p_view.html#a0517ff3fdc51a3bbf3b0c2dbc8044cb4">setFrame</a>:dataViewFrame];</div>
<div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;</div>
<div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;    [aSuperview <a class="code" href="interface_c_p_view.html#af4924adfc835aab52b493d32b8f49397">addSubview</a>:aDataView];</div>
<div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;}</div>
<div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;</div>
<div class="line"><a name="l03172"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a2950280f57f4aae1189e143fe23d0b2e"> 3172</a></span>&#160;- (void)setDraggingSourceOperationMask:(CPDragOperation)mask forLocal:(BOOL)isLocal</div>
<div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;{</div>
<div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;    <span class="comment">//ignore local for the time being since only one capp app can run at a time...</span></div>
<div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;    _dragOperationDefaultMask = mask;</div>
<div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;}</div>
<div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;</div>
<div class="line"><a name="l03183"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a6d0d013a22f3acb18da993ea3c310e6e"> 3183</a></span>&#160;- (void)setDropRow:(CPInteger)row dropOperation:(CPTableViewDropOperation)operation</div>
<div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;{</div>
<div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;    <span class="keywordflow">if</span> (row &gt; [<span class="keyword">self</span> numberOfRows] &amp;&amp; operation === <a class="code" href="_c_p_table_view_8j.html#a279093eafa50075a94c202e0dd51861a">CPTableViewDropOn</a>)</div>
<div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;    {</div>
<div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;        var numberOfRows = [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#ab93d1883609b8aaca737188ee9667c17">numberOfRows</a>] + 1,</div>
<div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;            reason = <span class="stringliteral">@&quot;Attempt to set dropRow=&quot;</span> + row +</div>
<div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;                     <span class="stringliteral">&quot; dropOperation=CPTableViewDropOn when [0 - &quot;</span> + numberOfRows + <span class="stringliteral">&quot;] is valid range of rows.&quot;</span>;</div>
<div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;</div>
<div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;        [[<a class="code" href="interface_c_p_exception.html" title="Used to implement exception handling (creating &amp; raising). ">CPException</a> <a class="code" href="interface_c_p_exception.html#a44c9e2d9ffa44471351ac8086093f542">exceptionWithName</a>:@&quot;Error&quot; <a class="code" href="interface_c_p_exception.html#a44c9e2d9ffa44471351ac8086093f542">reason</a>:reason <a class="code" href="interface_c_p_exception.html#a44c9e2d9ffa44471351ac8086093f542">userInfo</a>:nil] <a class="code" href="interface_c_p_exception.html#a1428cc4e84f1d200dea624a85d6c9336">raise</a>];</div>
<div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;    }</div>
<div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;</div>
<div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;    _retargetedDropRow = row;</div>
<div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;    _retargetedDropOperation = operation;</div>
<div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;}</div>
<div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;</div>
<div class="line"><a name="l03209"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#ac3b64dfb51786e6eabb88333b160abd1"> 3209</a></span>&#160;- (void)setDraggingDestinationFeedbackStyle:(CPTableViewDraggingDestinationFeedbackStyle)aStyle</div>
<div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;{</div>
<div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;    <span class="comment">//FIX ME: this should vary up the highlight color, currently nothing is being done with it</span></div>
<div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;    _destinationDragStyle = aStyle;</div>
<div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;}</div>
<div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;</div>
<div class="line"><a name="l03225"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a5dc6ce6bc6c517f59a4a6ee9f6f11043"> 3225</a></span>&#160;- (CPTableViewDraggingDestinationFeedbackStyle)draggingDestinationFeedbackStyle</div>
<div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;{</div>
<div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;    <span class="keywordflow">return</span> _destinationDragStyle;</div>
<div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;}</div>
<div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;</div>
<div class="line"><a name="l03235"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#af8ef2e471bdae5db5e21d05177e9e1ff"> 3235</a></span>&#160;- (void)setVerticalMotionCanBeginDrag:(BOOL)aFlag</div>
<div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;{</div>
<div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;    _verticalMotionCanDrag = aFlag;</div>
<div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;}</div>
<div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;</div>
<div class="line"><a name="l03243"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a92dba28832bd617d81dbd5b8e64dda6d"> 3243</a></span>&#160;- (BOOL)verticalMotionCanBeginDrag</div>
<div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;{</div>
<div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;    <span class="keywordflow">return</span> _verticalMotionCanDrag;</div>
<div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;}</div>
<div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;</div>
<div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;- (<a class="code" href="interface_c_p_table_column.html">CPTableColumn</a>)_tableColumnForSortDescriptor:(<a class="code" href="interface_c_p_sort_descriptor.html" title="Holds attributes necessary to describe how to sort a set of objects. ">CPSortDescriptor</a>)theSortDescriptor</div>
<div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;{</div>
<div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;    var tableColumns = [<span class="keyword">self</span> tableColumns];</div>
<div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;</div>
<div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;    <span class="keywordflow">for</span> (var i = 0; i &lt; [tableColumns count]; i++)</div>
<div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;    {</div>
<div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;        var tableColumn = [tableColumns objectAtIndex:i],</div>
<div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;            sortDescriptorPrototype = [tableColumn sortDescriptorPrototype];</div>
<div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;</div>
<div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;        <span class="keywordflow">if</span> (!sortDescriptorPrototype)</div>
<div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;</div>
<div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;        <span class="keywordflow">if</span> ([sortDescriptorPrototype key] === [theSortDescriptor key]</div>
<div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;            &amp;&amp; [sortDescriptorPrototype selector] === [theSortDescriptor selector])</div>
<div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;        {</div>
<div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;            <span class="keywordflow">return</span> tableColumn;</div>
<div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;        }</div>
<div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;    }</div>
<div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;</div>
<div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;    <span class="keywordflow">return</span> nil;</div>
<div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;}</div>
<div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;</div>
<div class="line"><a name="l03275"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#af19f29e4eaeaa84964399fb46bca36f5"> 3275</a></span>&#160;- (void)setSortDescriptors:(CPArray)sortDescriptors</div>
<div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;{</div>
<div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;    var oldSortDescriptors = [[<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#ad471440f19239990d1947a3a2f026f2a">sortDescriptors</a>] copy],</div>
<div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;        newSortDescriptors = [CPArray array];</div>
<div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;</div>
<div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;    <span class="keywordflow">if</span> (sortDescriptors !== nil)</div>
<div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;        [newSortDescriptors addObjectsFromArray:sortDescriptors];</div>
<div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;</div>
<div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;    <span class="keywordflow">if</span> ([newSortDescriptors <a class="code" href="_c_p_attributed_string_8j.html#a6372d023555b0dc11291093b23ab3dfe">isEqual</a>:oldSortDescriptors])</div>
<div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;</div>
<div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;    _sortDescriptors = newSortDescriptors;</div>
<div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;</div>
<div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;    var oldColumn = nil,</div>
<div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;        newColumn = nil;</div>
<div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;</div>
<div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;    <span class="keywordflow">if</span> ([newSortDescriptors count] &gt; 0)</div>
<div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;    {</div>
<div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;        var newMainSortDescriptor = [newSortDescriptors objectAtIndex:0];</div>
<div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;        newColumn = [<span class="keyword">self</span> _tableColumnForSortDescriptor:newMainSortDescriptor];</div>
<div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;    }</div>
<div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;</div>
<div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;    <span class="keywordflow">if</span> ([oldSortDescriptors count] &gt; 0)</div>
<div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;    {</div>
<div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;        var oldMainSortDescriptor = [oldSortDescriptors objectAtIndex:0];</div>
<div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;        oldColumn = [<span class="keyword">self</span> _tableColumnForSortDescriptor:oldMainSortDescriptor];</div>
<div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;    }</div>
<div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;</div>
<div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;    var image = [newMainSortDescriptor ascending] ? [<span class="keyword">self</span> _tableHeaderSortImage] : [<span class="keyword">self</span> _tableHeaderReverseSortImage];</div>
<div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#af9691a3301ba43ac53f9e8f2333476a4">setIndicatorImage</a>:nil <a class="code" href="interface_c_p_table_view.html#af9691a3301ba43ac53f9e8f2333476a4">inTableColumn</a>:oldColumn];</div>
<div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#af9691a3301ba43ac53f9e8f2333476a4">setIndicatorImage</a>:image <a class="code" href="interface_c_p_table_view.html#af9691a3301ba43ac53f9e8f2333476a4">inTableColumn</a>:newColumn];</div>
<div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;</div>
<div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;    [<span class="keyword">self</span> _sendDataSourceSortDescriptorsDidChange:oldSortDescriptors];</div>
<div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;</div>
<div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;    var binderClass = [[<span class="keyword">self</span> <a class="code" href="class_c_p_object.html#a9995454d4b902a69bfd12c5c3035ce83">class</a>] _binderClassForBinding:@&quot;sortDescriptors&quot;];</div>
<div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;    [[binderClass getBinding:@&quot;sortDescriptors&quot; forObject:self] reverseSetValueFor:@&quot;sortDescriptors&quot;];</div>
<div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;}</div>
<div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;</div>
<div class="line"><a name="l03316"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#ad471440f19239990d1947a3a2f026f2a"> 3316</a></span>&#160;- (CPArray)sortDescriptors</div>
<div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;{</div>
<div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;    <span class="keywordflow">return</span> _sortDescriptors;</div>
<div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;}</div>
<div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;</div>
<div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;- (id)_objectValueForTableColumn:(<a class="code" href="interface_c_p_table_column.html">CPTableColumn</a>)aTableColumn row:(CPInteger)aRowIndex useCache:(BOOL)useCache</div>
<div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;{</div>
<div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;    var objectValue;</div>
<div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160;</div>
<div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;    var tableColumnUID = [aTableColumn <a class="code" href="class_c_p_object.html#a0a43b4c06f2233cbccc9d12f1ff6e444">UID</a>],</div>
<div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;        tableColumnObjectValues = _objectValues[tableColumnUID];</div>
<div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;</div>
<div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;    <span class="keywordflow">if</span> (!tableColumnObjectValues)</div>
<div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;    {</div>
<div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;        tableColumnObjectValues = [];</div>
<div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;        _objectValues[tableColumnUID] = tableColumnObjectValues;</div>
<div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;    }</div>
<div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160;</div>
<div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;    <span class="keywordflow">if</span> (useCache)</div>
<div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;        objectValue = tableColumnObjectValues[aRowIndex];</div>
<div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;</div>
<div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;    <span class="comment">// tableView:objectValueForTableColumn:row: is optional if content bindings are in place.</span></div>
<div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;    <span class="keywordflow">if</span> (objectValue === undefined)</div>
<div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;    {</div>
<div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;        <span class="keywordflow">if</span> ([<span class="keyword">self</span> _dataSourceRespondsToObjectValueForTableColumn])</div>
<div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;        {</div>
<div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;            objectValue = [<span class="keyword">self</span> _sendDataSourceObjectValueForTableColumn:aTableColumn row:aRowIndex];</div>
<div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;            tableColumnObjectValues[aRowIndex] = objectValue;</div>
<div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;        }</div>
<div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!_isViewBased &amp;&amp; ![<span class="keyword">self</span> infoForBinding:<span class="stringliteral">@&quot;content&quot;</span>])</div>
<div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;        {</div>
<div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;            CPLog.warn(<span class="stringliteral">@&quot;no content binding established and data source &quot;</span> + [_dataSource description] + <span class="stringliteral">&quot; does not implement tableView:objectValueForTableColumn:row:&quot;</span>);</div>
<div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;        }</div>
<div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;    }</div>
<div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;</div>
<div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;    <span class="keywordflow">return</span> objectValue;</div>
<div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;}</div>
<div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;</div>
<div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;</div>
<div class="line"><a name="l03361"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#aafe2e8782dc906770b1dbfcbf97023a2"> 3361</a></span>&#160;- (CGRect)exposedRect</div>
<div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;{</div>
<div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160;    <span class="keywordflow">if</span> (!_exposedRect)</div>
<div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;    {</div>
<div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;        var superview = [<span class="keyword">self</span> <a class="code" href="interface_c_p_view.html#ae7fe2569d290f7eaabdebf5d48cb2745">superview</a>];</div>
<div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;</div>
<div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;        <span class="comment">// FIXME: Should we be rect intersecting in case</span></div>
<div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;        <span class="comment">// there are multiple views in the clip view?</span></div>
<div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;        <span class="keywordflow">if</span> ([superview isKindOfClass:[<a class="code" href="interface_c_p_clip_view.html">CPClipView</a> <span class="keyword">class</span>]])</div>
<div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;            _exposedRect = [superview bounds];</div>
<div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;            _exposedRect = [<span class="keyword">self</span> <a class="code" href="interface_c_p_view.html#af0bd55e12e5ac7ea4b137eae5f1829af">bounds</a>];</div>
<div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160;    }</div>
<div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;</div>
<div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;    <span class="keywordflow">return</span> _exposedRect;</div>
<div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;}</div>
<div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160;</div>
<div class="line"><a name="l03381"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a7dc6ff16b80a132f5bb7aa3dbaa16e50"> 3381</a></span>&#160;- (void)load</div>
<div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;{</div>
<div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160;    <span class="keywordflow">if</span> (_reloadAllRows)</div>
<div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;    {</div>
<div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160;        [<span class="keyword">self</span> _unloadDataViewsInRows:_exposedRows columns:_exposedColumns];</div>
<div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160;</div>
<div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160;        _exposedRows = [<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a> <a class="code" href="interface_c_p_index_set.html#a339845eb2d96fae878209105dde5e140">indexSet</a>];</div>
<div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;        _exposedColumns = [<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a> <a class="code" href="interface_c_p_index_set.html#a339845eb2d96fae878209105dde5e140">indexSet</a>];</div>
<div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;</div>
<div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;        _reloadAllRows = NO;</div>
<div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160;    }</div>
<div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160;</div>
<div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;    var exposedRect = [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#aafe2e8782dc906770b1dbfcbf97023a2">exposedRect</a>],</div>
<div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;        exposedRows = [<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a> <a class="code" href="interface_c_p_index_set.html#a4c32a454bd5323253b9e8c4f81712ea5">indexSetWithIndexesInRange</a>:[<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a7d9128a2f32c6714364d5217894daa44">rowsInRect</a>:exposedRect]],</div>
<div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;        exposedColumns = [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a1acdacf678fb91a541b692d378586289">columnIndexesInRect</a>:exposedRect],</div>
<div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;        obscuredRows = [_exposedRows copy],</div>
<div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160;        obscuredColumns = [_exposedColumns copy];</div>
<div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160;</div>
<div class="line"><a name="l03399"></a><span class="lineno"> 3399</span>&#160;    [obscuredRows removeIndexes:exposedRows];</div>
<div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160;    [obscuredColumns removeIndexes:exposedColumns];</div>
<div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;</div>
<div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160;    var newlyExposedRows = [exposedRows copy],</div>
<div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160;        newlyExposedColumns = [exposedColumns copy];</div>
<div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160;</div>
<div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;    [newlyExposedRows removeIndexes:_exposedRows];</div>
<div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;    [newlyExposedColumns removeIndexes:_exposedColumns];</div>
<div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;</div>
<div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;    var previouslyExposedRows = [exposedRows copy],</div>
<div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;        previouslyExposedColumns = [exposedColumns copy];</div>
<div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;</div>
<div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;    [previouslyExposedRows removeIndexes:newlyExposedRows];</div>
<div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;    [previouslyExposedColumns removeIndexes:newlyExposedColumns];</div>
<div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;</div>
<div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;    [<span class="keyword">self</span> _unloadDataViewsInRows:previouslyExposedRows columns:obscuredColumns];</div>
<div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;    [<span class="keyword">self</span> _unloadDataViewsInRows:obscuredRows columns:previouslyExposedColumns];</div>
<div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;    [<span class="keyword">self</span> _unloadDataViewsInRows:obscuredRows columns:obscuredColumns];</div>
<div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;    [<span class="keyword">self</span> _unloadDataViewsInRows:newlyExposedRows columns:newlyExposedColumns];</div>
<div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;</div>
<div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;    [<span class="keyword">self</span> _loadDataViewsInRows:previouslyExposedRows columns:newlyExposedColumns];</div>
<div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;    [<span class="keyword">self</span> _loadDataViewsInRows:newlyExposedRows columns:previouslyExposedColumns];</div>
<div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;    [<span class="keyword">self</span> _loadDataViewsInRows:newlyExposedRows columns:newlyExposedColumns];</div>
<div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;</div>
<div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160;    _exposedRows = exposedRows;</div>
<div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;    _exposedColumns = exposedColumns;</div>
<div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;</div>
<div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;    [_tableDrawView setFrame:exposedRect];</div>
<div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160;</div>
<div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a31af19dc321476a95414cd5e5da60ef0">setNeedsDisplay</a>:YES];</div>
<div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;</div>
<div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;    <span class="comment">// if we have any columns to remove do that here</span></div>
<div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160;</div>
<div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;    <span class="keywordflow">if</span> (_needsDifferedTableColumnRemove)</div>
<div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160;    {</div>
<div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;        var removeCount = [_differedColumnDataToRemove count],</div>
<div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;            removeIndexes = [<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a> <a class="code" href="interface_c_p_index_set.html#a339845eb2d96fae878209105dde5e140">indexSet</a>];</div>
<div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;</div>
<div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;        <span class="keywordflow">for</span> (var i = 0; i &lt; removeCount; i++)</div>
<div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;        {</div>
<div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;            var data = _differedColumnDataToRemove[i],</div>
<div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;                tableColumn = data.column,</div>
<div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;                columnIdx = [_tableColumns indexOfObject:tableColumn];</div>
<div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;</div>
<div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160;            <span class="keywordflow">if</span> (columnIdx !== <a class="code" href="_c_p_obj_j_runtime_8j.html#a84e3be579b365cc2c1559e1a1f469238">CPNotFound</a>)</div>
<div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;                [removeIndexes addIndex:columnIdx];</div>
<div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;        }</div>
<div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160;</div>
<div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;        var rowIndexes = [<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a> <a class="code" href="interface_c_p_index_set.html#a4c32a454bd5323253b9e8c4f81712ea5">indexSetWithIndexesInRange</a>:CPMakeRange(0, [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#ab93d1883609b8aaca737188ee9667c17">numberOfRows</a>])];</div>
<div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160;        [<span class="keyword">self</span> _unloadDataViewsInRows:rowIndexes columns:removeIndexes];</div>
<div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;</div>
<div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160;        [_tableColumns removeObjectsAtIndexes:removeIndexes];</div>
<div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;</div>
<div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160;        _dirtyTableColumnRangeIndex = 0;</div>
<div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;        [<span class="keyword">self</span> _recalculateTableColumnRanges];</div>
<div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;</div>
<div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;        [_differedColumnDataToRemove removeAllObjects];</div>
<div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;        _needsDifferedTableColumnRemove = NO;</div>
<div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;    }</div>
<div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160;</div>
<div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;    <span class="comment">// Now clear all the leftovers</span></div>
<div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160;    <span class="comment">// FIXME: this could be faster!</span></div>
<div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;    <span class="keywordflow">for</span> (var identifier in _cachedDataViews)</div>
<div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;    {</div>
<div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;        var dataViews = _cachedDataViews[identifier],</div>
<div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;            count = dataViews.length;</div>
<div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160;</div>
<div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160;        <span class="keywordflow">while</span> (count--)</div>
<div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;            [dataViews[count] removeFromSuperview];</div>
<div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;    }</div>
<div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160;}</div>
<div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;</div>
<div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;- (void)_unloadDataViewsInRows:(<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a>)rowIndexes columns:(<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a>)columnIndexes</div>
<div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;{</div>
<div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;    <span class="keywordflow">if</span> (![rowIndexes count] || ![columnIndexes count] || [columnIndexes lastIndex] &gt;=  [_tableColumns count])</div>
<div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;</div>
<div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;    <span class="comment">// If and edited view is about to be unloaded, cleanup its state before enqueuing.</span></div>
<div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;    <span class="keywordflow">if</span> ([columnIndexes containsIndex:_editingColumn] &amp;&amp; [rowIndexes containsIndex:_editingRow])</div>
<div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;        [<span class="keyword">self</span> _resignEditedView];</div>
<div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;</div>
<div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;    var tableColumns = [_tableColumns objectsAtIndexes:columnIndexes];</div>
<div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;</div>
<div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;    [<span class="keyword">self</span> _enumerateViewsInRows:rowIndexes tableColumns:tableColumns usingBlock:function(dataView, row, tableColumn, stop)</div>
<div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;    {</div>
<div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;        var dataViewsForRows = _dataViewsForRows[row],</div>
<div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;            tableColumnUID = [tableColumn UID];</div>
<div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;</div>
<div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;        delete (dataViewsForRows[tableColumnUID]);</div>
<div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;</div>
<div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;        [<span class="keyword">self</span> _sendDelegateWillRemoveView:dataView forTableColumn:tableColumn row:row];</div>
<div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;        [<span class="keyword">self</span> _enqueueReusableDataView:dataView];</div>
<div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;    }];</div>
<div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;}</div>
<div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160;</div>
<div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160;- (void)_loadDataViewsInRows:(<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a>)rowIndexes columns:(<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a>)columnIndexes</div>
<div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;{</div>
<div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160;    <span class="keywordflow">if</span> (![rowIndexes count] || ![columnIndexes count])</div>
<div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;</div>
<div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;    <a class="code" href="_c_p_table_view_8j.html#a8d863ee1b9f1e447c7ee408af11b8f22">UPDATE_COLUMN_RANGES_IF_NECESSARY</a>();</div>
<div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;</div>
<div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160;    <span class="keywordflow">if</span> (_numberOfHiddenColumns &gt; 0)</div>
<div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160;        columnIndexes = [columnIndexes <a class="code" href="interface_c_p_index_set.html#a2681244ed747594e49117a561b9e61e8">indexesPassingTest</a>:function(idx, stop)</div>
<div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;        {</div>
<div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;            return ![_tableColumns[idx] isHidden];</div>
<div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;        }];</div>
<div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;</div>
<div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;    [rowIndexes <a class="code" href="interface_c_p_index_set.html#a195a31d4a7d2734dc586942754895f98">enumerateIndexesUsingBlock</a>:function(rowIndex, stopRow)</div>
<div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;    {</div>
<div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;        if (!_dataViewsForRows[rowIndex])</div>
<div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160;            _dataViewsForRows[rowIndex] = {};</div>
<div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160;</div>
<div class="line"><a name="l03518"></a><span class="lineno"> 3518</span>&#160;        var dataViewsForRow = _dataViewsForRows[rowIndex],</div>
<div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;            isRowSelected = [<span class="keyword">self</span> isRowSelected:rowIndex],</div>
<div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;            row = rowIndex;</div>
<div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;</div>
<div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160;        [columnIndexes <a class="code" href="interface_c_p_index_set.html#a195a31d4a7d2734dc586942754895f98">enumerateIndexesUsingBlock</a>:function(columnIndex, stopCol)</div>
<div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;        {</div>
<div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160;            var tableColumn = _tableColumns[columnIndex],</div>
<div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160;                tableColumnUID = [tableColumn UID],</div>
<div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160;                dataView = [<span class="keyword">self</span> _preparedViewAtColumn:columnIndex row:row isRowSelected:isRowSelected];</div>
<div class="line"><a name="l03527"></a><span class="lineno"> 3527</span>&#160;</div>
<div class="line"><a name="l03528"></a><span class="lineno"> 3528</span>&#160;            if ([dataView superview] !== self)</div>
<div class="line"><a name="l03529"></a><span class="lineno"> 3529</span>&#160;                [<span class="keyword">self</span> addSubview:dataView];</div>
<div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160;</div>
<div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160;            dataViewsForRow[tableColumnUID] = dataView;</div>
<div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160;        }];</div>
<div class="line"><a name="l03533"></a><span class="lineno"> 3533</span>&#160;    }];</div>
<div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160;}</div>
<div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160;</div>
<div class="line"><a name="l03536"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a3398a4cf9ade3be9ca454e4ac86b47e2"> 3536</a></span>&#160;- (<a class="code" href="interface_c_p_view.html">CPView</a>)preparedViewAtColumn:(CPInteger)column row:(CPInteger)row</div>
<div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160;{</div>
<div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;    <span class="keywordflow">return</span> [<span class="keyword">self</span> _preparedViewAtColumn:column row:row isRowSelected:[<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a39fa58bb83f641a87f792ac788bc4c0c">isRowSelected</a>:row]];</div>
<div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;}</div>
<div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160;</div>
<div class="line"><a name="l03541"></a><span class="lineno"> 3541</span>&#160;- (<a class="code" href="interface_c_p_view.html">CPView</a>)_preparedViewAtColumn:(CPInteger)column row:(CPInteger)row isRowSelected:(BOOL)isRowSelected</div>
<div class="line"><a name="l03542"></a><span class="lineno"> 3542</span>&#160;{</div>
<div class="line"><a name="l03543"></a><span class="lineno"> 3543</span>&#160;    var tableColumn = _tableColumns[column],</div>
<div class="line"><a name="l03544"></a><span class="lineno"> 3544</span>&#160;        tableColumnUID = [tableColumn UID],</div>
<div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160;        dataView = [<span class="keyword">self</span> _newDataViewForRow:row tableColumn:tableColumn];</div>
<div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160;</div>
<div class="line"><a name="l03547"></a><span class="lineno"> 3547</span>&#160;    [dataView setFrame:[<span class="keyword">self</span> frameOfDataViewAtColumn:column row:row]];</div>
<div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160;</div>
<div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160;    [<span class="keyword">self</span> _setObjectValueForTableColumn:tableColumn row:row forView:dataView];</div>
<div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;</div>
<div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160;    <span class="keywordflow">if</span> (_selectionHighlightStyle !== <a class="code" href="_c_p_table_view_8j.html#a01cb9ff2b6562f83a7f4073abf81f7ce">CPTableViewSelectionHighlightStyleNone</a> &amp;&amp; (isRowSelected || [<span class="keyword">self</span> isColumnSelected:column]))</div>
<div class="line"><a name="l03552"></a><span class="lineno"> 3552</span>&#160;        _BlockSelectView(dataView, row, column);</div>
<div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160;        _BlockDeselectView(dataView, row, column);</div>
<div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;</div>
<div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160;            <span class="comment">// FIX ME: for performance reasons we might consider diverging from cocoa and moving this to the reloadData method</span></div>
<div class="line"><a name="l03557"></a><span class="lineno"> 3557</span>&#160;    <span class="keywordflow">if</span> (_implementedDelegateMethods &amp; <a class="code" href="_c_p_table_view_8j.html#a1b2d38c75129c936b93b4163a5a32889">CPTableViewDelegate_tableView_isGroupRow_</a>)</div>
<div class="line"><a name="l03558"></a><span class="lineno"> 3558</span>&#160;    {</div>
<div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160;        <span class="keywordflow">if</span> ([_delegate <a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:<span class="keyword">self</span> isGroupRow:row])</div>
<div class="line"><a name="l03560"></a><span class="lineno"> 3560</span>&#160;        {</div>
<div class="line"><a name="l03561"></a><span class="lineno"> 3561</span>&#160;            [_groupRows addIndex:row];</div>
<div class="line"><a name="l03562"></a><span class="lineno"> 3562</span>&#160;            [dataView setThemeState:CPThemeStateGroupRow];</div>
<div class="line"><a name="l03563"></a><span class="lineno"> 3563</span>&#160;        }</div>
<div class="line"><a name="l03564"></a><span class="lineno"> 3564</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l03565"></a><span class="lineno"> 3565</span>&#160;        {</div>
<div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160;            [_groupRows removeIndexesInRange:CPMakeRange(row, 1)];</div>
<div class="line"><a name="l03567"></a><span class="lineno"> 3567</span>&#160;            [dataView unsetThemeState:CPThemeStateGroupRow];</div>
<div class="line"><a name="l03568"></a><span class="lineno"> 3568</span>&#160;        }</div>
<div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160;</div>
<div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160;        [<span class="keyword">self</span> setNeedsDisplay:YES];</div>
<div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160;    }</div>
<div class="line"><a name="l03572"></a><span class="lineno"> 3572</span>&#160;</div>
<div class="line"><a name="l03573"></a><span class="lineno"> 3573</span>&#160;    [<span class="keyword">self</span> _sendDelegateWillDisplayView:dataView forTableColumn:tableColumn row:row];</div>
<div class="line"><a name="l03574"></a><span class="lineno"> 3574</span>&#160;</div>
<div class="line"><a name="l03575"></a><span class="lineno"> 3575</span>&#160;    <span class="keywordflow">return</span> dataView;</div>
<div class="line"><a name="l03576"></a><span class="lineno"> 3576</span>&#160;}</div>
<div class="line"><a name="l03577"></a><span class="lineno"> 3577</span>&#160;</div>
<div class="line"><a name="l03578"></a><span class="lineno"> 3578</span>&#160;- (void)_setObjectValueForTableColumn:(<a class="code" href="interface_c_p_table_column.html">CPTableColumn</a>)aTableColumn row:(CPInteger)aRow forView:(<a class="code" href="interface_c_p_view.html">CPView</a>)aDataView</div>
<div class="line"><a name="l03579"></a><span class="lineno"> 3579</span>&#160;{</div>
<div class="line"><a name="l03580"></a><span class="lineno"> 3580</span>&#160;    [<span class="keyword">self</span> _setObjectValueForTableColumn:aTableColumn row:aRow forView:aDataView useCache:!_invalidateObjectValuesCache];</div>
<div class="line"><a name="l03581"></a><span class="lineno"> 3581</span>&#160;}</div>
<div class="line"><a name="l03582"></a><span class="lineno"> 3582</span>&#160;</div>
<div class="line"><a name="l03583"></a><span class="lineno"> 3583</span>&#160;- (void)_setObjectValueForTableColumn:(<a class="code" href="interface_c_p_table_column.html">CPTableColumn</a>)aTableColumn row:(CPInteger)aRow forView:(<a class="code" href="interface_c_p_view.html">CPView</a>)aDataView useCache:(BOOL)useCache</div>
<div class="line"><a name="l03584"></a><span class="lineno"> 3584</span>&#160;{</div>
<div class="line"><a name="l03585"></a><span class="lineno"> 3585</span>&#160;    <span class="keywordflow">if</span> (_implementedDataSourceMethods &amp; <a class="code" href="_c_p_table_view_8j.html#a23288f0ff7ed53d22d474f4248c733b1">CPTableViewDataSource_tableView_objectValueForTableColumn_row_</a>)</div>
<div class="line"><a name="l03586"></a><span class="lineno"> 3586</span>&#160;        [aDataView setObjectValue:[<span class="keyword">self</span> _objectValueForTableColumn:aTableColumn row:aRow useCache:useCache]];</div>
<div class="line"><a name="l03587"></a><span class="lineno"> 3587</span>&#160;</div>
<div class="line"><a name="l03588"></a><span class="lineno"> 3588</span>&#160;    <span class="comment">// This gives the table column an opportunity to apply its bindings.</span></div>
<div class="line"><a name="l03589"></a><span class="lineno"> 3589</span>&#160;    <span class="comment">// It will override the value set above if there is a binding.</span></div>
<div class="line"><a name="l03590"></a><span class="lineno"> 3590</span>&#160;</div>
<div class="line"><a name="l03591"></a><span class="lineno"> 3591</span>&#160;    <span class="keywordflow">if</span> (_contentBindingExplicitlySet)</div>
<div class="line"><a name="l03592"></a><span class="lineno"> 3592</span>&#160;        [<span class="keyword">self</span> _prepareContentBindedDataView:aDataView forRow:aRow];</div>
<div class="line"><a name="l03593"></a><span class="lineno"> 3593</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l03594"></a><span class="lineno"> 3594</span>&#160;        <span class="comment">// For both cell-based and view-based</span></div>
<div class="line"><a name="l03595"></a><span class="lineno"> 3595</span>&#160;        [aTableColumn _prepareDataView:aDataView forRow:aRow];</div>
<div class="line"><a name="l03596"></a><span class="lineno"> 3596</span>&#160;}</div>
<div class="line"><a name="l03597"></a><span class="lineno"> 3597</span>&#160;</div>
<div class="line"><a name="l03598"></a><span class="lineno"> 3598</span>&#160;- (void)_prepareContentBindedDataView:(<a class="code" href="interface_c_p_view.html">CPView</a>)dataView forRow:(CPInteger)aRow</div>
<div class="line"><a name="l03599"></a><span class="lineno"> 3599</span>&#160;{</div>
<div class="line"><a name="l03600"></a><span class="lineno"> 3600</span>&#160;    var binder = [<a class="code" href="interface_c_p_table_content_binder.html">CPTableContentBinder</a> <a class="code" href="interface_c_p_binder.html#a4284b31cda04404ede6da6859a2699a6">getBinding</a>:@&quot;content&quot; <a class="code" href="interface_c_p_binder.html#a4284b31cda04404ede6da6859a2699a6">forObject</a>:self],</div>
<div class="line"><a name="l03601"></a><span class="lineno"> 3601</span>&#160;        content = [binder content],</div>
<div class="line"><a name="l03602"></a><span class="lineno"> 3602</span>&#160;        rowContent = [content objectAtIndex:aRow];</div>
<div class="line"><a name="l03603"></a><span class="lineno"> 3603</span>&#160;</div>
<div class="line"><a name="l03604"></a><span class="lineno"> 3604</span>&#160;    [dataView setObjectValue:rowContent];</div>
<div class="line"><a name="l03605"></a><span class="lineno"> 3605</span>&#160;}</div>
<div class="line"><a name="l03606"></a><span class="lineno"> 3606</span>&#160;</div>
<div class="line"><a name="l03610"></a><span class="lineno"> 3610</span>&#160;- (void)_layoutViewsForRowIndexes:(<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a>)rowIndexes columnIndexes:(<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a>)columnIndexes</div>
<div class="line"><a name="l03611"></a><span class="lineno"> 3611</span>&#160;{</div>
<div class="line"><a name="l03612"></a><span class="lineno"> 3612</span>&#160;    [<span class="keyword">self</span> _enumerateViewsInRows:rowIndexes columns:columnIndexes usingBlock:function(view, row, column, stop)</div>
<div class="line"><a name="l03613"></a><span class="lineno"> 3613</span>&#160;    {</div>
<div class="line"><a name="l03614"></a><span class="lineno"> 3614</span>&#160;        [view setFrame:[<span class="keyword">self</span> frameOfDataViewAtColumn:column row:row]];</div>
<div class="line"><a name="l03615"></a><span class="lineno"> 3615</span>&#160;    }];</div>
<div class="line"><a name="l03616"></a><span class="lineno"> 3616</span>&#160;}</div>
<div class="line"><a name="l03617"></a><span class="lineno"> 3617</span>&#160;</div>
<div class="line"><a name="l03621"></a><span class="lineno"> 3621</span>&#160;- (<a class="code" href="interface_c_p_view.html">CPView</a>)_newDataViewForRow:(CPInteger)aRow tableColumn:(<a class="code" href="interface_c_p_table_column.html">CPTableColumn</a>)aTableColumn</div>
<div class="line"><a name="l03622"></a><span class="lineno"> 3622</span>&#160;{</div>
<div class="line"><a name="l03623"></a><span class="lineno"> 3623</span>&#160;    var view = nil;</div>
<div class="line"><a name="l03624"></a><span class="lineno"> 3624</span>&#160;</div>
<div class="line"><a name="l03625"></a><span class="lineno"> 3625</span>&#160;    <span class="keywordflow">if</span> (_viewForTableColumnRowSelector)</div>
<div class="line"><a name="l03626"></a><span class="lineno"> 3626</span>&#160;        view = objj_msgSend(<span class="keyword">self</span>, _viewForTableColumnRowSelector, aTableColumn, aRow);</div>
<div class="line"><a name="l03627"></a><span class="lineno"> 3627</span>&#160;</div>
<div class="line"><a name="l03628"></a><span class="lineno"> 3628</span>&#160;    <span class="keywordflow">if</span> (!view)</div>
<div class="line"><a name="l03629"></a><span class="lineno"> 3629</span>&#160;    {</div>
<div class="line"><a name="l03630"></a><span class="lineno"> 3630</span>&#160;        <span class="comment">// For cell-based tables, use the dataView prototype identifier as view identifier</span></div>
<div class="line"><a name="l03631"></a><span class="lineno"> 3631</span>&#160;        <span class="comment">// instead of column identifier because 1/ the column identifier may be nil</span></div>
<div class="line"><a name="l03632"></a><span class="lineno"> 3632</span>&#160;        <span class="comment">// and 2/ the tableColumn dataView may change after the column identifier was set.</span></div>
<div class="line"><a name="l03633"></a><span class="lineno"> 3633</span>&#160;        var identifier;</div>
<div class="line"><a name="l03634"></a><span class="lineno"> 3634</span>&#160;</div>
<div class="line"><a name="l03635"></a><span class="lineno"> 3635</span>&#160;        <span class="keywordflow">if</span> (_isViewBased)</div>
<div class="line"><a name="l03636"></a><span class="lineno"> 3636</span>&#160;        {</div>
<div class="line"><a name="l03637"></a><span class="lineno"> 3637</span>&#160;            identifier = [aTableColumn <a class="code" href="interface_c_p_table_column.html#a13e96809fd68f589dc70c25c5996bb65">identifier</a>];</div>
<div class="line"><a name="l03638"></a><span class="lineno"> 3638</span>&#160;            view = [<span class="keyword">self</span> makeViewWithIdentifier:identifier owner:_delegate];</div>
<div class="line"><a name="l03639"></a><span class="lineno"> 3639</span>&#160;        }</div>
<div class="line"><a name="l03640"></a><span class="lineno"> 3640</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l03641"></a><span class="lineno"> 3641</span>&#160;        {</div>
<div class="line"><a name="l03642"></a><span class="lineno"> 3642</span>&#160;            identifier = [[aTableColumn <a class="code" href="interface_c_p_table_column.html#ae764835c1aebbb385b59f8a65e02f418">dataView</a>] <a class="code" href="class_c_p_object.html#a0a43b4c06f2233cbccc9d12f1ff6e444">UID</a>];</div>
<div class="line"><a name="l03643"></a><span class="lineno"> 3643</span>&#160;            view = [<span class="keyword">self</span> makeViewWithIdentifier:identifier owner:_delegate];</div>
<div class="line"><a name="l03644"></a><span class="lineno"> 3644</span>&#160;</div>
<div class="line"><a name="l03645"></a><span class="lineno"> 3645</span>&#160;            <span class="keywordflow">if</span> (!view)</div>
<div class="line"><a name="l03646"></a><span class="lineno"> 3646</span>&#160;                view = [aTableColumn _newDataView];</div>
<div class="line"><a name="l03647"></a><span class="lineno"> 3647</span>&#160;        }</div>
<div class="line"><a name="l03648"></a><span class="lineno"> 3648</span>&#160;</div>
<div class="line"><a name="l03649"></a><span class="lineno"> 3649</span>&#160;        [view setIdentifier:identifier];</div>
<div class="line"><a name="l03650"></a><span class="lineno"> 3650</span>&#160;    }</div>
<div class="line"><a name="l03651"></a><span class="lineno"> 3651</span>&#160;</div>
<div class="line"><a name="l03652"></a><span class="lineno"> 3652</span>&#160;    <span class="keywordflow">return</span> view;</div>
<div class="line"><a name="l03653"></a><span class="lineno"> 3653</span>&#160;}</div>
<div class="line"><a name="l03654"></a><span class="lineno"> 3654</span>&#160;</div>
<div class="line"><a name="l03655"></a><span class="lineno"> 3655</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l03656"></a><span class="lineno"> 3656</span>&#160;<span class="comment">    Returns a view with the specified identifier.</span></div>
<div class="line"><a name="l03657"></a><span class="lineno"> 3657</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l03658"></a><span class="lineno"> 3658</span>&#160;<span class="comment">    @param identifier The view identifier. Must not be nil.</span></div>
<div class="line"><a name="l03659"></a><span class="lineno"> 3659</span>&#160;<span class="comment">    @param owner The owner of the CIB that may be loaded and instantiated to create a new view with the particular identifier.</span></div>
<div class="line"><a name="l03660"></a><span class="lineno"> 3660</span>&#160;<span class="comment">    @return A view for the row.</span></div>
<div class="line"><a name="l03661"></a><span class="lineno"> 3661</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l03662"></a><span class="lineno"> 3662</span>&#160;<span class="comment">    @discussion</span></div>
<div class="line"><a name="l03663"></a><span class="lineno"> 3663</span>&#160;<span class="comment">    Typically identifier is associated with an external CIB and the table view will automatically instantiate the CIB with the provided owner. The owner of the CIB that may be loaded and instantiated to create a new view with the particular identifier is typically the table views delegate. The owner is useful in setting up outlets and target and actions from the view.</span></div>
<div class="line"><a name="l03664"></a><span class="lineno"> 3664</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l03665"></a><span class="lineno"> 3665</span>&#160;<span class="comment">    This method will typically be called by the delegate in tableView:viewForTableColumn:row:, but it can also be overridden to provide custom views for the identifier. This method may also return a reused view with the same identifier that was no longer available on screen.</span></div>
<div class="line"><a name="l03666"></a><span class="lineno"> 3666</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l03667"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a7f42ebea8030c9fbced333f858c9d553"> 3667</a></span>&#160;- (id)makeViewWithIdentifier:(<a class="code" href="interface_c_p_string.html" title="An immutable string (collection of characters). ">CPString</a>)anIdentifier owner:(<span class="keywordtype">id</span>)anOwner</div>
<div class="line"><a name="l03668"></a><span class="lineno"> 3668</span>&#160;{</div>
<div class="line"><a name="l03669"></a><span class="lineno"> 3669</span>&#160;    <span class="keywordflow">if</span> (!anIdentifier)</div>
<div class="line"><a name="l03670"></a><span class="lineno"> 3670</span>&#160;        <span class="keywordflow">return</span> nil;</div>
<div class="line"><a name="l03671"></a><span class="lineno"> 3671</span>&#160;</div>
<div class="line"><a name="l03672"></a><span class="lineno"> 3672</span>&#160;    var view = nil,</div>
<div class="line"><a name="l03673"></a><span class="lineno"> 3673</span>&#160;        <span class="comment">// See if we have some reusable views available</span></div>
<div class="line"><a name="l03674"></a><span class="lineno"> 3674</span>&#160;        reusableViews = _cachedDataViews[anIdentifier];</div>
<div class="line"><a name="l03675"></a><span class="lineno"> 3675</span>&#160;</div>
<div class="line"><a name="l03676"></a><span class="lineno"> 3676</span>&#160;    <span class="keywordflow">if</span> (reusableViews &amp;&amp; reusableViews.length)</div>
<div class="line"><a name="l03677"></a><span class="lineno"> 3677</span>&#160;        view = reusableViews.pop();</div>
<div class="line"><a name="l03678"></a><span class="lineno"> 3678</span>&#160;    <span class="comment">// Otherwise see if we have a view in the cib with this identifier</span></div>
<div class="line"><a name="l03679"></a><span class="lineno"> 3679</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (_isViewBased)</div>
<div class="line"><a name="l03680"></a><span class="lineno"> 3680</span>&#160;        view = [<span class="keyword">self</span> _unarchiveViewWithIdentifier:anIdentifier owner:anOwner];</div>
<div class="line"><a name="l03681"></a><span class="lineno"> 3681</span>&#160;</div>
<div class="line"><a name="l03682"></a><span class="lineno"> 3682</span>&#160;    <span class="keywordflow">return</span> view;</div>
<div class="line"><a name="l03683"></a><span class="lineno"> 3683</span>&#160;}</div>
<div class="line"><a name="l03684"></a><span class="lineno"> 3684</span>&#160;</div>
<div class="line"><a name="l03697"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#ae8f70e26a5bb57ae67b5d4dd806688e3"> 3697</a></span>&#160;- (id)viewAtColumn:(CPInteger)column row:(CPInteger)row makeIfNecessary:(BOOL)makeIfNecessary</div>
<div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160;{</div>
<div class="line"><a name="l03699"></a><span class="lineno"> 3699</span>&#160;    <span class="keywordflow">if</span> (row &gt; (_numberOfRows - 1))</div>
<div class="line"><a name="l03700"></a><span class="lineno"> 3700</span>&#160;        [<a class="code" href="interface_c_p_exception.html" title="Used to implement exception handling (creating &amp; raising). ">CPException</a> <a class="code" href="interface_c_p_exception.html#ac8f34bd11868822e26a7b952810128b8">raise</a>:CPInvalidArgumentException</div>
<div class="line"><a name="l03701"></a><span class="lineno"> 3701</span>&#160;                    <a class="code" href="interface_c_p_exception.html#ac8f34bd11868822e26a7b952810128b8">reason</a>:@&quot;Row &quot; + row + &quot; out of row range [0-&quot; + (_numberOfRows - 1) + &quot;] for rowViewAtRow:createIfNeeded:&quot;];</div>
<div class="line"><a name="l03702"></a><span class="lineno"> 3702</span>&#160;</div>
<div class="line"><a name="l03703"></a><span class="lineno"> 3703</span>&#160;    <span class="keywordflow">if</span> (column &gt; (<a class="code" href="_c_p_table_view_8j.html#aa0c3e20940452d04b6708ec8b82b482b">NUMBER_OF_COLUMNS</a>() - 1))</div>
<div class="line"><a name="l03704"></a><span class="lineno"> 3704</span>&#160;        [<a class="code" href="interface_c_p_exception.html" title="Used to implement exception handling (creating &amp; raising). ">CPException</a> <a class="code" href="interface_c_p_exception.html#ac8f34bd11868822e26a7b952810128b8">raise</a>:CPInvalidArgumentException</div>
<div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160;                    <a class="code" href="interface_c_p_exception.html#ac8f34bd11868822e26a7b952810128b8">reason</a>:@&quot;Column &quot; + column + &quot; out of row range [0-&quot; + (NUMBER_OF_COLUMNS ()- 1) + &quot;] for rowViewAtRow:createIfNeeded:&quot;];</div>
<div class="line"><a name="l03706"></a><span class="lineno"> 3706</span>&#160;</div>
<div class="line"><a name="l03707"></a><span class="lineno"> 3707</span>&#160;    var dataViewsForRow = _dataViewsForRows[row],</div>
<div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160;        tableColumn = _tableColumns[column],</div>
<div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160;        tableColumnUID = [tableColumn UID],</div>
<div class="line"><a name="l03710"></a><span class="lineno"> 3710</span>&#160;        view = dataViewsForRow ? dataViewsForRow[tableColumnUID] : nil;</div>
<div class="line"><a name="l03711"></a><span class="lineno"> 3711</span>&#160;</div>
<div class="line"><a name="l03712"></a><span class="lineno"> 3712</span>&#160;    <span class="keywordflow">if</span> (!makeIfNecessary)</div>
<div class="line"><a name="l03713"></a><span class="lineno"> 3713</span>&#160;        <span class="keywordflow">return</span> view || nil;</div>
<div class="line"><a name="l03714"></a><span class="lineno"> 3714</span>&#160;</div>
<div class="line"><a name="l03715"></a><span class="lineno"> 3715</span>&#160;    <span class="keywordflow">if</span> (!view)</div>
<div class="line"><a name="l03716"></a><span class="lineno"> 3716</span>&#160;    {</div>
<div class="line"><a name="l03717"></a><span class="lineno"> 3717</span>&#160;        <span class="keywordflow">if</span> (!dataViewsForRow)</div>
<div class="line"><a name="l03718"></a><span class="lineno"> 3718</span>&#160;        {</div>
<div class="line"><a name="l03719"></a><span class="lineno"> 3719</span>&#160;            dataViewsForRow = {}</div>
<div class="line"><a name="l03720"></a><span class="lineno"> 3720</span>&#160;            _dataViewsForRows[row] = dataViewsForRow;</div>
<div class="line"><a name="l03721"></a><span class="lineno"> 3721</span>&#160;        }</div>
<div class="line"><a name="l03722"></a><span class="lineno"> 3722</span>&#160;</div>
<div class="line"><a name="l03723"></a><span class="lineno"> 3723</span>&#160;        <span class="comment">// Here we will add this view to the tableView and add it to the exposedRows adn columns.</span></div>
<div class="line"><a name="l03724"></a><span class="lineno"> 3724</span>&#160;        <span class="comment">// The view will be deleted if necessary during the next run loop cycle of the table view</span></div>
<div class="line"><a name="l03725"></a><span class="lineno"> 3725</span>&#160;        <span class="comment">// This is how cocoa works</span></div>
<div class="line"><a name="l03726"></a><span class="lineno"> 3726</span>&#160;        view = [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a3398a4cf9ade3be9ca454e4ac86b47e2">preparedViewAtColumn</a>:column <a class="code" href="interface_c_p_table_view.html#a3398a4cf9ade3be9ca454e4ac86b47e2">row</a>:row];</div>
<div class="line"><a name="l03727"></a><span class="lineno"> 3727</span>&#160;</div>
<div class="line"><a name="l03728"></a><span class="lineno"> 3728</span>&#160;        <span class="keywordflow">if</span> ([view superview] !== <span class="keyword">self</span>)</div>
<div class="line"><a name="l03729"></a><span class="lineno"> 3729</span>&#160;            [<span class="keyword">self</span> <a class="code" href="interface_c_p_view.html#af4924adfc835aab52b493d32b8f49397">addSubview</a>:view];</div>
<div class="line"><a name="l03730"></a><span class="lineno"> 3730</span>&#160;</div>
<div class="line"><a name="l03731"></a><span class="lineno"> 3731</span>&#160;        dataViewsForRow[tableColumnUID] = view;</div>
<div class="line"><a name="l03732"></a><span class="lineno"> 3732</span>&#160;</div>
<div class="line"><a name="l03733"></a><span class="lineno"> 3733</span>&#160;        [_exposedRows addIndex:row];</div>
<div class="line"><a name="l03734"></a><span class="lineno"> 3734</span>&#160;        [_exposedColumns addIndex:column];</div>
<div class="line"><a name="l03735"></a><span class="lineno"> 3735</span>&#160;</div>
<div class="line"><a name="l03736"></a><span class="lineno"> 3736</span>&#160;        <span class="comment">// Make sure to layout the tableView again</span></div>
<div class="line"><a name="l03737"></a><span class="lineno"> 3737</span>&#160;        [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a45bd62a3fb6f8dec17b8a955ad08632d">setNeedsLayout</a>];</div>
<div class="line"><a name="l03738"></a><span class="lineno"> 3738</span>&#160;    }</div>
<div class="line"><a name="l03739"></a><span class="lineno"> 3739</span>&#160;</div>
<div class="line"><a name="l03740"></a><span class="lineno"> 3740</span>&#160;    <span class="keywordflow">return</span> view;</div>
<div class="line"><a name="l03741"></a><span class="lineno"> 3741</span>&#160;}</div>
<div class="line"><a name="l03742"></a><span class="lineno"> 3742</span>&#160;</div>
<div class="line"><a name="l03746"></a><span class="lineno"> 3746</span>&#160;- (<a class="code" href="interface_c_p_view.html">CPView</a>)_unarchiveViewWithIdentifier:(<a class="code" href="interface_c_p_string.html" title="An immutable string (collection of characters). ">CPString</a>)anIdentifier owner:(<span class="keywordtype">id</span>)anOwner</div>
<div class="line"><a name="l03747"></a><span class="lineno"> 3747</span>&#160;{</div>
<div class="line"><a name="l03748"></a><span class="lineno"> 3748</span>&#160;    var cib = [_archivedDataViews objectForKey:anIdentifier];</div>
<div class="line"><a name="l03749"></a><span class="lineno"> 3749</span>&#160;</div>
<div class="line"><a name="l03750"></a><span class="lineno"> 3750</span>&#160;    <span class="keywordflow">if</span> (!cib &amp;&amp; !_unavailable_custom_cibs[anIdentifier])</div>
<div class="line"><a name="l03751"></a><span class="lineno"> 3751</span>&#160;    {</div>
<div class="line"><a name="l03752"></a><span class="lineno"> 3752</span>&#160;        var bundle = anOwner ? [<a class="code" href="interface_c_p_bundle.html">CPBundle</a> <a class="code" href="interface_c_p_bundle.html#a6b2401dce4d84d49261126169d966567">bundleForClass</a>:[anOwner class]] : [<a class="code" href="interface_c_p_bundle.html">CPBundle</a> <a class="code" href="interface_c_p_bundle.html#a2f1b74bb845caded5d4d8a1309c7ff0e">mainBundle</a>];</div>
<div class="line"><a name="l03753"></a><span class="lineno"> 3753</span>&#160;        cib = [[<a class="code" href="interface_c_p_cib.html">CPCib</a> <a class="code" href="class_c_p_object.html#aa6d290852c6a151058e8e82d053db475">alloc</a>] <a class="code" href="interface_c_p_cib.html#a3d6dc6257300285f2e126c47e525e604">initWithCibNamed</a>:anIdentifier <a class="code" href="interface_c_p_cib.html#a3d6dc6257300285f2e126c47e525e604">bundle</a>:bundle];</div>
<div class="line"><a name="l03754"></a><span class="lineno"> 3754</span>&#160;    }</div>
<div class="line"><a name="l03755"></a><span class="lineno"> 3755</span>&#160;</div>
<div class="line"><a name="l03756"></a><span class="lineno"> 3756</span>&#160;    <span class="keywordflow">if</span> (!cib)</div>
<div class="line"><a name="l03757"></a><span class="lineno"> 3757</span>&#160;    {</div>
<div class="line"><a name="l03758"></a><span class="lineno"> 3758</span>&#160;        _unavailable_custom_cibs[anIdentifier] = YES;</div>
<div class="line"><a name="l03759"></a><span class="lineno"> 3759</span>&#160;        <span class="keywordflow">return</span> nil;</div>
<div class="line"><a name="l03760"></a><span class="lineno"> 3760</span>&#160;    }</div>
<div class="line"><a name="l03761"></a><span class="lineno"> 3761</span>&#160;</div>
<div class="line"><a name="l03762"></a><span class="lineno"> 3762</span>&#160;    var objects = [],</div>
<div class="line"><a name="l03763"></a><span class="lineno"> 3763</span>&#160;        load = [cib instantiateCibWithOwner:anOwner topLevelObjects:objects];</div>
<div class="line"><a name="l03764"></a><span class="lineno"> 3764</span>&#160;</div>
<div class="line"><a name="l03765"></a><span class="lineno"> 3765</span>&#160;    <span class="keywordflow">if</span> (!load)</div>
<div class="line"><a name="l03766"></a><span class="lineno"> 3766</span>&#160;        <span class="keywordflow">return</span> nil;</div>
<div class="line"><a name="l03767"></a><span class="lineno"> 3767</span>&#160;</div>
<div class="line"><a name="l03768"></a><span class="lineno"> 3768</span>&#160;    var count = objects.length;</div>
<div class="line"><a name="l03769"></a><span class="lineno"> 3769</span>&#160;</div>
<div class="line"><a name="l03770"></a><span class="lineno"> 3770</span>&#160;    <span class="keywordflow">while</span> (count--)</div>
<div class="line"><a name="l03771"></a><span class="lineno"> 3771</span>&#160;    {</div>
<div class="line"><a name="l03772"></a><span class="lineno"> 3772</span>&#160;        var obj = objects[count];</div>
<div class="line"><a name="l03773"></a><span class="lineno"> 3773</span>&#160;</div>
<div class="line"><a name="l03774"></a><span class="lineno"> 3774</span>&#160;        <span class="keywordflow">if</span> ([obj isKindOfClass:[<a class="code" href="interface_c_p_view.html">CPView</a> <span class="keyword">class</span>]])</div>
<div class="line"><a name="l03775"></a><span class="lineno"> 3775</span>&#160;        {</div>
<div class="line"><a name="l03776"></a><span class="lineno"> 3776</span>&#160;            [obj setIdentifier:anIdentifier];</div>
<div class="line"><a name="l03777"></a><span class="lineno"> 3777</span>&#160;            [obj setAutoresizingMask:CPViewNotSizable];</div>
<div class="line"><a name="l03778"></a><span class="lineno"> 3778</span>&#160;</div>
<div class="line"><a name="l03779"></a><span class="lineno"> 3779</span>&#160;            <span class="keywordflow">return</span> obj;</div>
<div class="line"><a name="l03780"></a><span class="lineno"> 3780</span>&#160;        }</div>
<div class="line"><a name="l03781"></a><span class="lineno"> 3781</span>&#160;    }</div>
<div class="line"><a name="l03782"></a><span class="lineno"> 3782</span>&#160;</div>
<div class="line"><a name="l03783"></a><span class="lineno"> 3783</span>&#160;    <span class="keywordflow">return</span> nil;</div>
<div class="line"><a name="l03784"></a><span class="lineno"> 3784</span>&#160;}</div>
<div class="line"><a name="l03785"></a><span class="lineno"> 3785</span>&#160;</div>
<div class="line"><a name="l03786"></a><span class="lineno"> 3786</span>&#160;- (void)_updateIsViewBased</div>
<div class="line"><a name="l03787"></a><span class="lineno"> 3787</span>&#160;{</div>
<div class="line"><a name="l03788"></a><span class="lineno"> 3788</span>&#160;    <span class="keywordflow">if</span> ([<span class="keyword">self</span> _delegateRespondsToViewForTableColumn])</div>
<div class="line"><a name="l03789"></a><span class="lineno"> 3789</span>&#160;        _viewForTableColumnRowSelector = <span class="keyword">@selector</span>(_sendDelegateViewForTableColumn:row:);</div>
<div class="line"><a name="l03790"></a><span class="lineno"> 3790</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ([<span class="keyword">self</span> _delegateRespondsToDataViewForTableColumn])</div>
<div class="line"><a name="l03791"></a><span class="lineno"> 3791</span>&#160;        _viewForTableColumnRowSelector = <span class="keyword">@selector</span>(_sendDelegateDataViewForTableColumn:row:);</div>
<div class="line"><a name="l03792"></a><span class="lineno"> 3792</span>&#160;</div>
<div class="line"><a name="l03793"></a><span class="lineno"> 3793</span>&#160;     _isViewBased = (_viewForTableColumnRowSelector !== nil || _archivedDataViews !== nil);</div>
<div class="line"><a name="l03794"></a><span class="lineno"> 3794</span>&#160;}</div>
<div class="line"><a name="l03795"></a><span class="lineno"> 3795</span>&#160;</div>
<div class="line"><a name="l03811"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#ac18f8c3f7bba7a63490ae65378815bbc"> 3811</a></span>&#160;- (void)enumerateAvailableViewsUsingBlock:(Function<span class="comment">/*CPView *dataView, CPInteger row, CPInteger column*, @ref stop*/</span>)handler</div>
<div class="line"><a name="l03812"></a><span class="lineno"> 3812</span>&#160;{</div>
<div class="line"><a name="l03813"></a><span class="lineno"> 3813</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a25ec67f805f6a97b91879cb04933310e">reloadData</a>];</div>
<div class="line"><a name="l03814"></a><span class="lineno"> 3814</span>&#160;</div>
<div class="line"><a name="l03815"></a><span class="lineno"> 3815</span>&#160;    [[<a class="code" href="interface_c_p_run_loop.html" title="The main run loop for the application. ">CPRunLoop</a> <a class="code" href="interface_c_p_run_loop.html#aba93f1cef957bad4353ce060981c0b9d">currentRunLoop</a>] <a class="code" href="interface_c_p_run_loop.html#aad8e51e44d4c17634d8c45c1ca540217">limitDateForMode</a>:CPDefaultRunLoopMode];</div>
<div class="line"><a name="l03816"></a><span class="lineno"> 3816</span>&#160;</div>
<div class="line"><a name="l03817"></a><span class="lineno"> 3817</span>&#160;    [<span class="keyword">self</span> _enumerateViewsInRows:_exposedRows columns:_exposedColumns usingBlock:handler];</div>
<div class="line"><a name="l03818"></a><span class="lineno"> 3818</span>&#160;}</div>
<div class="line"><a name="l03819"></a><span class="lineno"> 3819</span>&#160;</div>
<div class="line"><a name="l03824"></a><span class="lineno"> 3824</span>&#160;- (void)_enumerateViewsInRows:(<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a>)rowIndexes columns:(<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a>)columnIndexes usingBlock:(Function<span class="comment">/*CPView dataView, CPInteger row, CPInteger column, @ref stop*/</span>)handler</div>
<div class="line"><a name="l03825"></a><span class="lineno"> 3825</span>&#160;{</div>
<div class="line"><a name="l03826"></a><span class="lineno"> 3826</span>&#160;    [[<a class="code" href="interface_c_p_run_loop.html" title="The main run loop for the application. ">CPRunLoop</a> <a class="code" href="interface_c_p_run_loop.html#aba93f1cef957bad4353ce060981c0b9d">currentRunLoop</a>] <a class="code" href="interface_c_p_run_loop.html#aad8e51e44d4c17634d8c45c1ca540217">limitDateForMode</a>:CPDefaultRunLoopMode];</div>
<div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160;</div>
<div class="line"><a name="l03828"></a><span class="lineno"> 3828</span>&#160;    [rowIndexes <a class="code" href="interface_c_p_index_set.html#a195a31d4a7d2734dc586942754895f98">enumerateIndexesUsingBlock</a>:function(rowIndex, stopRow)</div>
<div class="line"><a name="l03829"></a><span class="lineno"> 3829</span>&#160;    {</div>
<div class="line"><a name="l03830"></a><span class="lineno"> 3830</span>&#160;        var dataViewsForRow = _dataViewsForRows[rowIndex];</div>
<div class="line"><a name="l03831"></a><span class="lineno"> 3831</span>&#160;</div>
<div class="line"><a name="l03832"></a><span class="lineno"> 3832</span>&#160;        if (!dataViewsForRow)</div>
<div class="line"><a name="l03833"></a><span class="lineno"> 3833</span>&#160;            return;</div>
<div class="line"><a name="l03834"></a><span class="lineno"> 3834</span>&#160;</div>
<div class="line"><a name="l03835"></a><span class="lineno"> 3835</span>&#160;        var row = rowIndex;</div>
<div class="line"><a name="l03836"></a><span class="lineno"> 3836</span>&#160;</div>
<div class="line"><a name="l03837"></a><span class="lineno"> 3837</span>&#160;        [columnIndexes <a class="code" href="interface_c_p_index_set.html#a195a31d4a7d2734dc586942754895f98">enumerateIndexesUsingBlock</a>:function(columnIndex, stopCol)</div>
<div class="line"><a name="l03838"></a><span class="lineno"> 3838</span>&#160;        {</div>
<div class="line"><a name="l03839"></a><span class="lineno"> 3839</span>&#160;            var tableColumnUID = [_tableColumns[columnIndex] UID],</div>
<div class="line"><a name="l03840"></a><span class="lineno"> 3840</span>&#160;                view = dataViewsForRow[tableColumnUID];</div>
<div class="line"><a name="l03841"></a><span class="lineno"> 3841</span>&#160;</div>
<div class="line"><a name="l03842"></a><span class="lineno"> 3842</span>&#160;            if (view)</div>
<div class="line"><a name="l03843"></a><span class="lineno"> 3843</span>&#160;                handler(view, row, columnIndex, stopCol);</div>
<div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160;</div>
<div class="line"><a name="l03845"></a><span class="lineno"> 3845</span>&#160;            if (stopCol())</div>
<div class="line"><a name="l03846"></a><span class="lineno"> 3846</span>&#160;                stopRow(YES);</div>
<div class="line"><a name="l03847"></a><span class="lineno"> 3847</span>&#160;        }];</div>
<div class="line"><a name="l03848"></a><span class="lineno"> 3848</span>&#160;    }];</div>
<div class="line"><a name="l03849"></a><span class="lineno"> 3849</span>&#160;}</div>
<div class="line"><a name="l03850"></a><span class="lineno"> 3850</span>&#160;</div>
<div class="line"><a name="l03851"></a><span class="lineno"> 3851</span>&#160;- (void)_enumerateViewsInRows:(<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a>)rowIndexes tableColumns:(CPArray)tableColumns usingBlock:(Function<span class="comment">/*CPView dataView, CPInteger row, CPtableColumn tableColumn, CPInteger column, @ref stop*/</span>)handler</div>
<div class="line"><a name="l03852"></a><span class="lineno"> 3852</span>&#160;{</div>
<div class="line"><a name="l03853"></a><span class="lineno"> 3853</span>&#160;    [[<a class="code" href="interface_c_p_run_loop.html" title="The main run loop for the application. ">CPRunLoop</a> <a class="code" href="interface_c_p_run_loop.html#aba93f1cef957bad4353ce060981c0b9d">currentRunLoop</a>] <a class="code" href="interface_c_p_run_loop.html#aad8e51e44d4c17634d8c45c1ca540217">limitDateForMode</a>:CPDefaultRunLoopMode];</div>
<div class="line"><a name="l03854"></a><span class="lineno"> 3854</span>&#160;</div>
<div class="line"><a name="l03855"></a><span class="lineno"> 3855</span>&#160;    [rowIndexes <a class="code" href="interface_c_p_index_set.html#a195a31d4a7d2734dc586942754895f98">enumerateIndexesUsingBlock</a>:function(rowIndex, stopRow)</div>
<div class="line"><a name="l03856"></a><span class="lineno"> 3856</span>&#160;    {</div>
<div class="line"><a name="l03857"></a><span class="lineno"> 3857</span>&#160;        var dataViewsForRow = _dataViewsForRows[rowIndex];</div>
<div class="line"><a name="l03858"></a><span class="lineno"> 3858</span>&#160;</div>
<div class="line"><a name="l03859"></a><span class="lineno"> 3859</span>&#160;        if (!dataViewsForRow)</div>
<div class="line"><a name="l03860"></a><span class="lineno"> 3860</span>&#160;            return;</div>
<div class="line"><a name="l03861"></a><span class="lineno"> 3861</span>&#160;</div>
<div class="line"><a name="l03862"></a><span class="lineno"> 3862</span>&#160;        var row = rowIndex;</div>
<div class="line"><a name="l03863"></a><span class="lineno"> 3863</span>&#160;</div>
<div class="line"><a name="l03864"></a><span class="lineno"> 3864</span>&#160;        [tableColumns enumerateObjectsUsingBlock:function(tableColumn, idx, stopCol)</div>
<div class="line"><a name="l03865"></a><span class="lineno"> 3865</span>&#160;        {</div>
<div class="line"><a name="l03866"></a><span class="lineno"> 3866</span>&#160;            var tableColumnUID = [tableColumn UID],</div>
<div class="line"><a name="l03867"></a><span class="lineno"> 3867</span>&#160;                view = dataViewsForRow[tableColumnUID];</div>
<div class="line"><a name="l03868"></a><span class="lineno"> 3868</span>&#160;</div>
<div class="line"><a name="l03869"></a><span class="lineno"> 3869</span>&#160;            if (view)</div>
<div class="line"><a name="l03870"></a><span class="lineno"> 3870</span>&#160;                handler(view, row, tableColumn, stopCol);</div>
<div class="line"><a name="l03871"></a><span class="lineno"> 3871</span>&#160;</div>
<div class="line"><a name="l03872"></a><span class="lineno"> 3872</span>&#160;            if (stopCol())</div>
<div class="line"><a name="l03873"></a><span class="lineno"> 3873</span>&#160;                stopRow(YES);</div>
<div class="line"><a name="l03874"></a><span class="lineno"> 3874</span>&#160;        }];</div>
<div class="line"><a name="l03875"></a><span class="lineno"> 3875</span>&#160;    }];</div>
<div class="line"><a name="l03876"></a><span class="lineno"> 3876</span>&#160;}</div>
<div class="line"><a name="l03877"></a><span class="lineno"> 3877</span>&#160;</div>
<div class="line"><a name="l03881"></a><span class="lineno"> 3881</span>&#160;- (void)_enqueueReusableDataView:(<a class="code" href="interface_c_p_view.html">CPView</a>)aDataView</div>
<div class="line"><a name="l03882"></a><span class="lineno"> 3882</span>&#160;{</div>
<div class="line"><a name="l03883"></a><span class="lineno"> 3883</span>&#160;    <span class="keywordflow">if</span> (!aDataView)</div>
<div class="line"><a name="l03884"></a><span class="lineno"> 3884</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03885"></a><span class="lineno"> 3885</span>&#160;</div>
<div class="line"><a name="l03886"></a><span class="lineno"> 3886</span>&#160;    <span class="comment">// FIXME: yuck!</span></div>
<div class="line"><a name="l03887"></a><span class="lineno"> 3887</span>&#160;    var identifier = [aDataView <a class="code" href="interface_c_p_view.html#a20d1ff24292622cd0d39dfbec877a700">identifier</a>];</div>
<div class="line"><a name="l03888"></a><span class="lineno"> 3888</span>&#160;</div>
<div class="line"><a name="l03889"></a><span class="lineno"> 3889</span>&#160;    <span class="keywordflow">if</span> ([aDataView hasThemeState:<a class="code" href="_c_p_theme_8j.html#a71be4e23aaa9f399720025342f68ac6c">CPThemeStateSelectedDataView</a>])</div>
<div class="line"><a name="l03890"></a><span class="lineno"> 3890</span>&#160;        [aDataView <a class="code" href="interface_c_p_view.html#a24c41e71d0fd83439e66df0b3f07279c">unsetThemeState</a>:CPThemeStateSelectedDataView];</div>
<div class="line"><a name="l03891"></a><span class="lineno"> 3891</span>&#160;</div>
<div class="line"><a name="l03892"></a><span class="lineno"> 3892</span>&#160;    <span class="keywordflow">if</span> (!_cachedDataViews[identifier])</div>
<div class="line"><a name="l03893"></a><span class="lineno"> 3893</span>&#160;        _cachedDataViews[identifier] = [aDataView];</div>
<div class="line"><a name="l03894"></a><span class="lineno"> 3894</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l03895"></a><span class="lineno"> 3895</span>&#160;        _cachedDataViews[identifier].push(aDataView);</div>
<div class="line"><a name="l03896"></a><span class="lineno"> 3896</span>&#160;}</div>
<div class="line"><a name="l03897"></a><span class="lineno"> 3897</span>&#160;</div>
<div class="line"><a name="l03902"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a2f8731a826f57388dba260fa2ccc64eb"> 3902</a></span>&#160;- (void)setFrameSize:(CGSize)aSize</div>
<div class="line"><a name="l03903"></a><span class="lineno"> 3903</span>&#160;{</div>
<div class="line"><a name="l03904"></a><span class="lineno"> 3904</span>&#160;    [<span class="keyword">super</span> <a class="code" href="interface_c_p_view.html#a8237df9b00fb6c4f84f6c2bef131293a">setFrameSize</a>:aSize];</div>
<div class="line"><a name="l03905"></a><span class="lineno"> 3905</span>&#160;</div>
<div class="line"><a name="l03906"></a><span class="lineno"> 3906</span>&#160;    <span class="keywordflow">if</span> (_headerView)</div>
<div class="line"><a name="l03907"></a><span class="lineno"> 3907</span>&#160;        [_headerView setFrameSize:CGSizeMake(CGRectGetWidth([<span class="keyword">self</span> <a class="code" href="interface_c_p_view.html#a6e37aa6c3ed5389e9a3bb7082b380cc5">frame</a>]), CGRectGetHeight([_headerView frame]))];</div>
<div class="line"><a name="l03908"></a><span class="lineno"> 3908</span>&#160;</div>
<div class="line"><a name="l03909"></a><span class="lineno"> 3909</span>&#160;    _exposedRect = nil;</div>
<div class="line"><a name="l03910"></a><span class="lineno"> 3910</span>&#160;}</div>
<div class="line"><a name="l03911"></a><span class="lineno"> 3911</span>&#160;</div>
<div class="line"><a name="l03915"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#aea04ea195d5b8cbfb7b533345ca39a5f"> 3915</a></span>&#160;- (void)setFrameOrigin:(CGPoint)aPoint</div>
<div class="line"><a name="l03916"></a><span class="lineno"> 3916</span>&#160;{</div>
<div class="line"><a name="l03917"></a><span class="lineno"> 3917</span>&#160;    [<span class="keyword">super</span> <a class="code" href="interface_c_p_view.html#aa92b1dee9a783907b5f025cc9d5c7dd1">setFrameOrigin</a>:aPoint];</div>
<div class="line"><a name="l03918"></a><span class="lineno"> 3918</span>&#160;</div>
<div class="line"><a name="l03919"></a><span class="lineno"> 3919</span>&#160;    _exposedRect = nil;</div>
<div class="line"><a name="l03920"></a><span class="lineno"> 3920</span>&#160;}</div>
<div class="line"><a name="l03921"></a><span class="lineno"> 3921</span>&#160;</div>
<div class="line"><a name="l03925"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#ac6650f10c37e049ab647423792b3f846"> 3925</a></span>&#160;- (void)setBoundsOrigin:(CGPoint)aPoint</div>
<div class="line"><a name="l03926"></a><span class="lineno"> 3926</span>&#160;{</div>
<div class="line"><a name="l03927"></a><span class="lineno"> 3927</span>&#160;    [<span class="keyword">super</span> <a class="code" href="interface_c_p_view.html#a7a706a662fcf8c719122cbe823d023b1">setBoundsOrigin</a>:aPoint];</div>
<div class="line"><a name="l03928"></a><span class="lineno"> 3928</span>&#160;</div>
<div class="line"><a name="l03929"></a><span class="lineno"> 3929</span>&#160;    _exposedRect = nil;</div>
<div class="line"><a name="l03930"></a><span class="lineno"> 3930</span>&#160;}</div>
<div class="line"><a name="l03931"></a><span class="lineno"> 3931</span>&#160;</div>
<div class="line"><a name="l03935"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#acb9aa4c6bf71797cb9b013d6e4c90e4b"> 3935</a></span>&#160;- (void)setBoundsSize:(CGSize)aSize</div>
<div class="line"><a name="l03936"></a><span class="lineno"> 3936</span>&#160;{</div>
<div class="line"><a name="l03937"></a><span class="lineno"> 3937</span>&#160;    [<span class="keyword">super</span> <a class="code" href="interface_c_p_view.html#a0ff77c3301b6c0d4f3dcb06198bd4ba4">setBoundsSize</a>:aSize];</div>
<div class="line"><a name="l03938"></a><span class="lineno"> 3938</span>&#160;</div>
<div class="line"><a name="l03939"></a><span class="lineno"> 3939</span>&#160;    _exposedRect = nil;</div>
<div class="line"><a name="l03940"></a><span class="lineno"> 3940</span>&#160;}</div>
<div class="line"><a name="l03941"></a><span class="lineno"> 3941</span>&#160;</div>
<div class="line"><a name="l03945"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a31af19dc321476a95414cd5e5da60ef0"> 3945</a></span>&#160;- (void)<a class="code" href="_c_a_layer_8j.html#a6f851b517537a61e53381475cb1b52f1">setNeedsDisplay</a>:(BOOL)aFlag</div>
<div class="line"><a name="l03946"></a><span class="lineno"> 3946</span>&#160;{</div>
<div class="line"><a name="l03947"></a><span class="lineno"> 3947</span>&#160;    [<span class="keyword">super</span> <a class="code" href="interface_c_p_view.html#a695368bc818096a7ae173f955fa1bd2c">setNeedsDisplay</a>:aFlag];</div>
<div class="line"><a name="l03948"></a><span class="lineno"> 3948</span>&#160;    [_tableDrawView setNeedsDisplay:aFlag];</div>
<div class="line"><a name="l03949"></a><span class="lineno"> 3949</span>&#160;</div>
<div class="line"><a name="l03950"></a><span class="lineno"> 3950</span>&#160;    [[<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a1200e854924976eed1efa14719a8eba6">headerView</a>] <a class="code" href="interface_c_p_view.html#a695368bc818096a7ae173f955fa1bd2c">setNeedsDisplay</a>:YES];</div>
<div class="line"><a name="l03951"></a><span class="lineno"> 3951</span>&#160;}</div>
<div class="line"><a name="l03952"></a><span class="lineno"> 3952</span>&#160;</div>
<div class="line"><a name="l03956"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a45bd62a3fb6f8dec17b8a955ad08632d"> 3956</a></span>&#160;- (void)setNeedsLayout</div>
<div class="line"><a name="l03957"></a><span class="lineno"> 3957</span>&#160;{</div>
<div class="line"><a name="l03958"></a><span class="lineno"> 3958</span>&#160;    [<span class="keyword">super</span> <a class="code" href="interface_c_p_view.html#a39431c7a00864c9ddfe57c191fd82ccf">setNeedsLayout</a>];</div>
<div class="line"><a name="l03959"></a><span class="lineno"> 3959</span>&#160;    [[<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a1200e854924976eed1efa14719a8eba6">headerView</a>] <a class="code" href="interface_c_p_view.html#a39431c7a00864c9ddfe57c191fd82ccf">setNeedsLayout</a>];</div>
<div class="line"><a name="l03960"></a><span class="lineno"> 3960</span>&#160;}</div>
<div class="line"><a name="l03961"></a><span class="lineno"> 3961</span>&#160;</div>
<div class="line"><a name="l03965"></a><span class="lineno"> 3965</span>&#160;- (BOOL)_isFocused</div>
<div class="line"><a name="l03966"></a><span class="lineno"> 3966</span>&#160;{</div>
<div class="line"><a name="l03967"></a><span class="lineno"> 3967</span>&#160;    <span class="keywordflow">return</span> [[<span class="keyword">self</span> window] isKeyWindow] &amp;&amp; ([[<span class="keyword">self</span> window] firstResponder] === <span class="keyword">self</span> || _editingRow !== <a class="code" href="_c_p_obj_j_runtime_8j.html#a84e3be579b365cc2c1559e1a1f469238">CPNotFound</a>);</div>
<div class="line"><a name="l03968"></a><span class="lineno"> 3968</span>&#160;}</div>
<div class="line"><a name="l03969"></a><span class="lineno"> 3969</span>&#160;</div>
<div class="line"><a name="l03973"></a><span class="lineno"> 3973</span>&#160;- (void)_drawRect:(CGRect)aRect</div>
<div class="line"><a name="l03974"></a><span class="lineno"> 3974</span>&#160;{</div>
<div class="line"><a name="l03975"></a><span class="lineno"> 3975</span>&#160;    <span class="comment">// FIX ME: All three of these methods will likely need to be rewritten for 1.0</span></div>
<div class="line"><a name="l03976"></a><span class="lineno"> 3976</span>&#160;    <span class="comment">// We&#39;ve got grid drawing in highlightSelection and crap everywhere.</span></div>
<div class="line"><a name="l03977"></a><span class="lineno"> 3977</span>&#160;</div>
<div class="line"><a name="l03978"></a><span class="lineno"> 3978</span>&#160;    var exposedRect = [<span class="keyword">self</span> exposedRect];</div>
<div class="line"><a name="l03979"></a><span class="lineno"> 3979</span>&#160;</div>
<div class="line"><a name="l03980"></a><span class="lineno"> 3980</span>&#160;    [<span class="keyword">self</span> drawBackgroundInClipRect:exposedRect];</div>
<div class="line"><a name="l03981"></a><span class="lineno"> 3981</span>&#160;    [<span class="keyword">self</span> highlightSelectionInClipRect:exposedRect];</div>
<div class="line"><a name="l03982"></a><span class="lineno"> 3982</span>&#160;    [<span class="keyword">self</span> drawGridInClipRect:exposedRect];</div>
<div class="line"><a name="l03983"></a><span class="lineno"> 3983</span>&#160;</div>
<div class="line"><a name="l03984"></a><span class="lineno"> 3984</span>&#160;    <span class="keywordflow">if</span> (_implementsCustomDrawRow)</div>
<div class="line"><a name="l03985"></a><span class="lineno"> 3985</span>&#160;        [<span class="keyword">self</span> _drawRows:_exposedRows clipRect:exposedRect];</div>
<div class="line"><a name="l03986"></a><span class="lineno"> 3986</span>&#160;}</div>
<div class="line"><a name="l03987"></a><span class="lineno"> 3987</span>&#160;</div>
<div class="line"><a name="l03993"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a41afac4cdd07690faf2500f0b3cd123b"> 3993</a></span>&#160;- (void)drawBackgroundInClipRect:(CGRect)aRect</div>
<div class="line"><a name="l03994"></a><span class="lineno"> 3994</span>&#160;{</div>
<div class="line"><a name="l03995"></a><span class="lineno"> 3995</span>&#160;    <span class="keywordflow">if</span> (!_usesAlternatingRowBackgroundColors)</div>
<div class="line"><a name="l03996"></a><span class="lineno"> 3996</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03997"></a><span class="lineno"> 3997</span>&#160;</div>
<div class="line"><a name="l03998"></a><span class="lineno"> 3998</span>&#160;    var rowColors = [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#aa31301940f52f185b7905f89a17e9bc1">alternatingRowBackgroundColors</a>],</div>
<div class="line"><a name="l03999"></a><span class="lineno"> 3999</span>&#160;        colorCount = [rowColors count];</div>
<div class="line"><a name="l04000"></a><span class="lineno"> 4000</span>&#160;</div>
<div class="line"><a name="l04001"></a><span class="lineno"> 4001</span>&#160;    <span class="keywordflow">if</span> (colorCount === 0)</div>
<div class="line"><a name="l04002"></a><span class="lineno"> 4002</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04003"></a><span class="lineno"> 4003</span>&#160;</div>
<div class="line"><a name="l04004"></a><span class="lineno"> 4004</span>&#160;    var context = [[<a class="code" href="interface_c_p_graphics_context.html">CPGraphicsContext</a> <a class="code" href="interface_c_p_graphics_context.html#a378dafc8fb951053dd6877fb45e87f61">currentContext</a>] <a class="code" href="interface_c_p_graphics_context.html#a92895bd939c04da463d02425bec83f0b">graphicsPort</a>];</div>
<div class="line"><a name="l04005"></a><span class="lineno"> 4005</span>&#160;</div>
<div class="line"><a name="l04006"></a><span class="lineno"> 4006</span>&#160;    <span class="keywordflow">if</span> (colorCount === 1)</div>
<div class="line"><a name="l04007"></a><span class="lineno"> 4007</span>&#160;    {</div>
<div class="line"><a name="l04008"></a><span class="lineno"> 4008</span>&#160;        <a class="code" href="group__coregraphics.html#ga800a3e5b0c46359d28b091376630bb0e">CGContextSetFillColor</a>(context, rowColors[0]);</div>
<div class="line"><a name="l04009"></a><span class="lineno"> 4009</span>&#160;        <a class="code" href="group__coregraphics.html#ga74c13e165c00cc434a54bb8c2148e1ba">CGContextFillRect</a>(context, aRect);</div>
<div class="line"><a name="l04010"></a><span class="lineno"> 4010</span>&#160;</div>
<div class="line"><a name="l04011"></a><span class="lineno"> 4011</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04012"></a><span class="lineno"> 4012</span>&#160;    }</div>
<div class="line"><a name="l04013"></a><span class="lineno"> 4013</span>&#160;</div>
<div class="line"><a name="l04014"></a><span class="lineno"> 4014</span>&#160;    var exposedRows = [<span class="keyword">self</span> _exposedRowsInRect:aRect],</div>
<div class="line"><a name="l04015"></a><span class="lineno"> 4015</span>&#160;        firstRow = FLOOR(exposedRows.location / colorCount) * colorCount,</div>
<div class="line"><a name="l04016"></a><span class="lineno"> 4016</span>&#160;        lastRow = <a class="code" href="group__foundation.html#ga9a9c6e53b2b0861cedbb77b5ab72e78f">CPMaxRange</a>(exposedRows) - 1,</div>
<div class="line"><a name="l04017"></a><span class="lineno"> 4017</span>&#160;        colorIndex = 0,</div>
<div class="line"><a name="l04018"></a><span class="lineno"> 4018</span>&#160;        groupRowRects = [];</div>
<div class="line"><a name="l04019"></a><span class="lineno"> 4019</span>&#160;</div>
<div class="line"><a name="l04020"></a><span class="lineno"> 4020</span>&#160;    <span class="comment">//loop through each color so we only draw once for each color</span></div>
<div class="line"><a name="l04021"></a><span class="lineno"> 4021</span>&#160;    <span class="keywordflow">while</span> (colorIndex &lt; colorCount)</div>
<div class="line"><a name="l04022"></a><span class="lineno"> 4022</span>&#160;    {</div>
<div class="line"><a name="l04023"></a><span class="lineno"> 4023</span>&#160;        <a class="code" href="group__coregraphics.html#ga02cca9368e5aacc0bef423d724635376">CGContextBeginPath</a>(context);</div>
<div class="line"><a name="l04024"></a><span class="lineno"> 4024</span>&#160;</div>
<div class="line"><a name="l04025"></a><span class="lineno"> 4025</span>&#160;        <span class="keywordflow">for</span> (var row = firstRow + colorIndex; row &lt;= lastRow; row += colorCount)</div>
<div class="line"><a name="l04026"></a><span class="lineno"> 4026</span>&#160;        {</div>
<div class="line"><a name="l04027"></a><span class="lineno"> 4027</span>&#160;            <span class="comment">// if it&#39;s not a group row draw it otherwise we draw it later</span></div>
<div class="line"><a name="l04028"></a><span class="lineno"> 4028</span>&#160;            <span class="keywordflow">if</span> (![_groupRows containsIndex:row])</div>
<div class="line"><a name="l04029"></a><span class="lineno"> 4029</span>&#160;                <a class="code" href="group__coregraphics.html#ga63142912cf5a80c8c72c29d55cd7f730">CGContextAddRect</a>(context, CGRectIntersection(aRect, [<span class="keyword">self</span> _rectOfRow:row checkRange:NO]));</div>
<div class="line"><a name="l04030"></a><span class="lineno"> 4030</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l04031"></a><span class="lineno"> 4031</span>&#160;                groupRowRects.push(CGRectIntersection(aRect, [<span class="keyword">self</span> _rectOfRow:row checkRange:NO]));</div>
<div class="line"><a name="l04032"></a><span class="lineno"> 4032</span>&#160;        }</div>
<div class="line"><a name="l04033"></a><span class="lineno"> 4033</span>&#160;</div>
<div class="line"><a name="l04034"></a><span class="lineno"> 4034</span>&#160;        <a class="code" href="group__coregraphics.html#gaaf20d10c7501084913e6fdee367f3efa">CGContextClosePath</a>(context);</div>
<div class="line"><a name="l04035"></a><span class="lineno"> 4035</span>&#160;</div>
<div class="line"><a name="l04036"></a><span class="lineno"> 4036</span>&#160;        <a class="code" href="group__coregraphics.html#ga800a3e5b0c46359d28b091376630bb0e">CGContextSetFillColor</a>(context, rowColors[colorIndex]);</div>
<div class="line"><a name="l04037"></a><span class="lineno"> 4037</span>&#160;        <a class="code" href="group__coregraphics.html#ga5619db65db539d72c1ab275d1d5f54a1">CGContextFillPath</a>(context);</div>
<div class="line"><a name="l04038"></a><span class="lineno"> 4038</span>&#160;</div>
<div class="line"><a name="l04039"></a><span class="lineno"> 4039</span>&#160;        colorIndex++;</div>
<div class="line"><a name="l04040"></a><span class="lineno"> 4040</span>&#160;    }</div>
<div class="line"><a name="l04041"></a><span class="lineno"> 4041</span>&#160;</div>
<div class="line"><a name="l04042"></a><span class="lineno"> 4042</span>&#160;    [<span class="keyword">self</span> _drawGroupRowsForRects:groupRowRects];</div>
<div class="line"><a name="l04043"></a><span class="lineno"> 4043</span>&#160;}</div>
<div class="line"><a name="l04044"></a><span class="lineno"> 4044</span>&#160;</div>
<div class="line"><a name="l04049"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#adf388c00db8e69dee3bb1e60e2df0203"> 4049</a></span>&#160;- (void)drawGridInClipRect:(CGRect)aRect</div>
<div class="line"><a name="l04050"></a><span class="lineno"> 4050</span>&#160;{</div>
<div class="line"><a name="l04051"></a><span class="lineno"> 4051</span>&#160;    var context = [[<a class="code" href="interface_c_p_graphics_context.html">CPGraphicsContext</a> <a class="code" href="interface_c_p_graphics_context.html#a378dafc8fb951053dd6877fb45e87f61">currentContext</a>] <a class="code" href="interface_c_p_graphics_context.html#a92895bd939c04da463d02425bec83f0b">graphicsPort</a>],</div>
<div class="line"><a name="l04052"></a><span class="lineno"> 4052</span>&#160;        gridStyleMask = [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a9b133d62d7aba9a887f38e686627e160">gridStyleMask</a>],</div>
<div class="line"><a name="l04053"></a><span class="lineno"> 4053</span>&#160;        lineThickness = [<span class="keyword">self</span> <a class="code" href="interface_c_p_view.html#a5c464f67ba8046d256adbf1cb549fb4c">currentValueForThemeAttribute</a>:@&quot;grid-line-thickness&quot;];</div>
<div class="line"><a name="l04054"></a><span class="lineno"> 4054</span>&#160;</div>
<div class="line"><a name="l04055"></a><span class="lineno"> 4055</span>&#160;    <span class="keywordflow">if</span> (!(gridStyleMask &amp; (<a class="code" href="_c_p_table_view_8j.html#acc262027919f5d8fa9961299c57e4887">CPTableViewSolidHorizontalGridLineMask</a> | <a class="code" href="_c_p_table_view_8j.html#af147002e8b12fcaf12a2df975edb95b5">CPTableViewSolidVerticalGridLineMask</a>)))</div>
<div class="line"><a name="l04056"></a><span class="lineno"> 4056</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04057"></a><span class="lineno"> 4057</span>&#160;</div>
<div class="line"><a name="l04058"></a><span class="lineno"> 4058</span>&#160;    <a class="code" href="group__coregraphics.html#ga02cca9368e5aacc0bef423d724635376">CGContextBeginPath</a>(context);</div>
<div class="line"><a name="l04059"></a><span class="lineno"> 4059</span>&#160;</div>
<div class="line"><a name="l04060"></a><span class="lineno"> 4060</span>&#160;    <span class="keywordflow">if</span> (gridStyleMask &amp; <a class="code" href="_c_p_table_view_8j.html#acc262027919f5d8fa9961299c57e4887">CPTableViewSolidHorizontalGridLineMask</a>)</div>
<div class="line"><a name="l04061"></a><span class="lineno"> 4061</span>&#160;    {</div>
<div class="line"><a name="l04062"></a><span class="lineno"> 4062</span>&#160;        var exposedRows = [<span class="keyword">self</span> _exposedRowsInRect:aRect],</div>
<div class="line"><a name="l04063"></a><span class="lineno"> 4063</span>&#160;            row = exposedRows.location,</div>
<div class="line"><a name="l04064"></a><span class="lineno"> 4064</span>&#160;            lastRow = <a class="code" href="group__foundation.html#ga9a9c6e53b2b0861cedbb77b5ab72e78f">CPMaxRange</a>(exposedRows) - 1,</div>
<div class="line"><a name="l04065"></a><span class="lineno"> 4065</span>&#160;            rowY = -lineThickness / 2,</div>
<div class="line"><a name="l04066"></a><span class="lineno"> 4066</span>&#160;            minX = CGRectGetMinX(aRect),</div>
<div class="line"><a name="l04067"></a><span class="lineno"> 4067</span>&#160;            maxX = CGRectGetMaxX(aRect);</div>
<div class="line"><a name="l04068"></a><span class="lineno"> 4068</span>&#160;</div>
<div class="line"><a name="l04069"></a><span class="lineno"> 4069</span>&#160;        <span class="keywordflow">for</span> (; row &lt;= lastRow; ++row)</div>
<div class="line"><a name="l04070"></a><span class="lineno"> 4070</span>&#160;        {</div>
<div class="line"><a name="l04071"></a><span class="lineno"> 4071</span>&#160;            <span class="comment">// grab each row rect and add the top and bottom lines</span></div>
<div class="line"><a name="l04072"></a><span class="lineno"> 4072</span>&#160;            var rowRect = [<span class="keyword">self</span> _rectOfRow:row checkRange:NO],</div>
<div class="line"><a name="l04073"></a><span class="lineno"> 4073</span>&#160;                rowY = CGRectGetMaxY(rowRect) - lineThickness / 2;</div>
<div class="line"><a name="l04074"></a><span class="lineno"> 4074</span>&#160;</div>
<div class="line"><a name="l04075"></a><span class="lineno"> 4075</span>&#160;            <a class="code" href="group__coregraphics.html#ga44dc04bb1efb98ff834308c997d10dc5">CGContextMoveToPoint</a>(context, minX, rowY);</div>
<div class="line"><a name="l04076"></a><span class="lineno"> 4076</span>&#160;            <a class="code" href="group__coregraphics.html#ga834b9d5848989453730d162f251a29c3">CGContextAddLineToPoint</a>(context, maxX, rowY);</div>
<div class="line"><a name="l04077"></a><span class="lineno"> 4077</span>&#160;        }</div>
<div class="line"><a name="l04078"></a><span class="lineno"> 4078</span>&#160;</div>
<div class="line"><a name="l04079"></a><span class="lineno"> 4079</span>&#160;        <span class="keywordflow">if</span> (_rowHeight &gt; 0.0)</div>
<div class="line"><a name="l04080"></a><span class="lineno"> 4080</span>&#160;        {</div>
<div class="line"><a name="l04081"></a><span class="lineno"> 4081</span>&#160;            var rowHeight = <a class="code" href="_c_p_table_view_8j.html#a3c9003b0a97bc491df8b6ec7b02f4120">FULL_ROW_HEIGHT</a>(),</div>
<div class="line"><a name="l04082"></a><span class="lineno"> 4082</span>&#160;                totalHeight = CGRectGetMaxY(aRect) - lineThickness / 2;</div>
<div class="line"><a name="l04083"></a><span class="lineno"> 4083</span>&#160;</div>
<div class="line"><a name="l04084"></a><span class="lineno"> 4084</span>&#160;            <span class="keywordflow">while</span> (rowY &lt; totalHeight)</div>
<div class="line"><a name="l04085"></a><span class="lineno"> 4085</span>&#160;            {</div>
<div class="line"><a name="l04086"></a><span class="lineno"> 4086</span>&#160;                rowY += rowHeight;</div>
<div class="line"><a name="l04087"></a><span class="lineno"> 4087</span>&#160;</div>
<div class="line"><a name="l04088"></a><span class="lineno"> 4088</span>&#160;                <a class="code" href="group__coregraphics.html#ga44dc04bb1efb98ff834308c997d10dc5">CGContextMoveToPoint</a>(context, minX, rowY);</div>
<div class="line"><a name="l04089"></a><span class="lineno"> 4089</span>&#160;                <a class="code" href="group__coregraphics.html#ga834b9d5848989453730d162f251a29c3">CGContextAddLineToPoint</a>(context, maxX, rowY);</div>
<div class="line"><a name="l04090"></a><span class="lineno"> 4090</span>&#160;            }</div>
<div class="line"><a name="l04091"></a><span class="lineno"> 4091</span>&#160;        }</div>
<div class="line"><a name="l04092"></a><span class="lineno"> 4092</span>&#160;    }</div>
<div class="line"><a name="l04093"></a><span class="lineno"> 4093</span>&#160;</div>
<div class="line"><a name="l04094"></a><span class="lineno"> 4094</span>&#160;    <span class="keywordflow">if</span> (gridStyleMask &amp; <a class="code" href="_c_p_table_view_8j.html#af147002e8b12fcaf12a2df975edb95b5">CPTableViewSolidVerticalGridLineMask</a>)</div>
<div class="line"><a name="l04095"></a><span class="lineno"> 4095</span>&#160;    {</div>
<div class="line"><a name="l04096"></a><span class="lineno"> 4096</span>&#160;        var exposedColumnIndexes = [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a1acdacf678fb91a541b692d378586289">columnIndexesInRect</a>:aRect],</div>
<div class="line"><a name="l04097"></a><span class="lineno"> 4097</span>&#160;            columnsArray = [];</div>
<div class="line"><a name="l04098"></a><span class="lineno"> 4098</span>&#160;</div>
<div class="line"><a name="l04099"></a><span class="lineno"> 4099</span>&#160;        [exposedColumnIndexes getIndexes:columnsArray maxCount:-1 inIndexRange:nil];</div>
<div class="line"><a name="l04100"></a><span class="lineno"> 4100</span>&#160;</div>
<div class="line"><a name="l04101"></a><span class="lineno"> 4101</span>&#160;        var columnArrayIndex = 0,</div>
<div class="line"><a name="l04102"></a><span class="lineno"> 4102</span>&#160;            columnArrayCount = columnsArray.length,</div>
<div class="line"><a name="l04103"></a><span class="lineno"> 4103</span>&#160;            minY = CGRectGetMinY(aRect),</div>
<div class="line"><a name="l04104"></a><span class="lineno"> 4104</span>&#160;            maxY = CGRectGetMaxY(aRect);</div>
<div class="line"><a name="l04105"></a><span class="lineno"> 4105</span>&#160;</div>
<div class="line"><a name="l04106"></a><span class="lineno"> 4106</span>&#160;        <span class="keywordflow">for</span> (; columnArrayIndex &lt; columnArrayCount; ++columnArrayIndex)</div>
<div class="line"><a name="l04107"></a><span class="lineno"> 4107</span>&#160;        {</div>
<div class="line"><a name="l04108"></a><span class="lineno"> 4108</span>&#160;            var columnRect = [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#af86aacec5d36506c1fee17f1fab5803f">rectOfColumn</a>:columnsArray[columnArrayIndex]],</div>
<div class="line"><a name="l04109"></a><span class="lineno"> 4109</span>&#160;                columnX = CGRectGetMaxX(columnRect) - lineThickness / 2;</div>
<div class="line"><a name="l04110"></a><span class="lineno"> 4110</span>&#160;</div>
<div class="line"><a name="l04111"></a><span class="lineno"> 4111</span>&#160;            <a class="code" href="group__coregraphics.html#ga44dc04bb1efb98ff834308c997d10dc5">CGContextMoveToPoint</a>(context, columnX, minY);</div>
<div class="line"><a name="l04112"></a><span class="lineno"> 4112</span>&#160;            <a class="code" href="group__coregraphics.html#ga834b9d5848989453730d162f251a29c3">CGContextAddLineToPoint</a>(context, columnX, maxY);</div>
<div class="line"><a name="l04113"></a><span class="lineno"> 4113</span>&#160;        }</div>
<div class="line"><a name="l04114"></a><span class="lineno"> 4114</span>&#160;    }</div>
<div class="line"><a name="l04115"></a><span class="lineno"> 4115</span>&#160;</div>
<div class="line"><a name="l04116"></a><span class="lineno"> 4116</span>&#160;    <a class="code" href="group__coregraphics.html#gaaf20d10c7501084913e6fdee367f3efa">CGContextClosePath</a>(context);</div>
<div class="line"><a name="l04117"></a><span class="lineno"> 4117</span>&#160;    <a class="code" href="group__coregraphics.html#gac13f17a8bed76d16b9e5252106d196e0">CGContextSetStrokeColor</a>(context, [<span class="keyword">self</span> gridColor]);</div>
<div class="line"><a name="l04118"></a><span class="lineno"> 4118</span>&#160;    <a class="code" href="group__coregraphics.html#ga96bba0be21dd53a15a84c8f23eb7cc70">CGContextSetLineWidth</a>(context, lineThickness);</div>
<div class="line"><a name="l04119"></a><span class="lineno"> 4119</span>&#160;    <a class="code" href="group__coregraphics.html#ga03bda4b6dc1763d22d122d565e027012">CGContextStrokePath</a>(context);</div>
<div class="line"><a name="l04120"></a><span class="lineno"> 4120</span>&#160;}</div>
<div class="line"><a name="l04121"></a><span class="lineno"> 4121</span>&#160;</div>
<div class="line"><a name="l04127"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a0c0337c6cc26dff4a0f656e889f21fae"> 4127</a></span>&#160;- (void)highlightSelectionInClipRect:(CGRect)aRect</div>
<div class="line"><a name="l04128"></a><span class="lineno"> 4128</span>&#160;{</div>
<div class="line"><a name="l04129"></a><span class="lineno"> 4129</span>&#160;    <span class="keywordflow">if</span> (_selectionHighlightStyle === <a class="code" href="_c_p_table_view_8j.html#a01cb9ff2b6562f83a7f4073abf81f7ce">CPTableViewSelectionHighlightStyleNone</a>)</div>
<div class="line"><a name="l04130"></a><span class="lineno"> 4130</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04131"></a><span class="lineno"> 4131</span>&#160;</div>
<div class="line"><a name="l04132"></a><span class="lineno"> 4132</span>&#160;    var context = [[<a class="code" href="interface_c_p_graphics_context.html">CPGraphicsContext</a> <a class="code" href="interface_c_p_graphics_context.html#a378dafc8fb951053dd6877fb45e87f61">currentContext</a>] <a class="code" href="interface_c_p_graphics_context.html#a92895bd939c04da463d02425bec83f0b">graphicsPort</a>],</div>
<div class="line"><a name="l04133"></a><span class="lineno"> 4133</span>&#160;        indexes = [],</div>
<div class="line"><a name="l04134"></a><span class="lineno"> 4134</span>&#160;        rectSelector = <span class="keyword">@selector</span>(rectOfRow:);</div>
<div class="line"><a name="l04135"></a><span class="lineno"> 4135</span>&#160;</div>
<div class="line"><a name="l04136"></a><span class="lineno"> 4136</span>&#160;    <span class="keywordflow">if</span> ([_selectedRowIndexes count] &gt;= 1)</div>
<div class="line"><a name="l04137"></a><span class="lineno"> 4137</span>&#160;    {</div>
<div class="line"><a name="l04138"></a><span class="lineno"> 4138</span>&#160;        var exposedRows = [<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a> <a class="code" href="interface_c_p_index_set.html#a4c32a454bd5323253b9e8c4f81712ea5">indexSetWithIndexesInRange</a>:[<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a7d9128a2f32c6714364d5217894daa44">rowsInRect</a>:aRect]],</div>
<div class="line"><a name="l04139"></a><span class="lineno"> 4139</span>&#160;            firstRow = [exposedRows firstIndex],</div>
<div class="line"><a name="l04140"></a><span class="lineno"> 4140</span>&#160;            exposedRange = <a class="code" href="group__foundation.html#gab09805608dfb3449e840c3ce22d7e7fe">CPMakeRange</a>(firstRow, [exposedRows lastIndex] - firstRow + 1);</div>
<div class="line"><a name="l04141"></a><span class="lineno"> 4141</span>&#160;</div>
<div class="line"><a name="l04142"></a><span class="lineno"> 4142</span>&#160;        [_selectedRowIndexes getIndexes:indexes maxCount:-1 inIndexRange:exposedRange];</div>
<div class="line"><a name="l04143"></a><span class="lineno"> 4143</span>&#160;    }</div>
<div class="line"><a name="l04144"></a><span class="lineno"> 4144</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ([_selectedColumnIndexes count] &gt;= 1)</div>
<div class="line"><a name="l04145"></a><span class="lineno"> 4145</span>&#160;    {</div>
<div class="line"><a name="l04146"></a><span class="lineno"> 4146</span>&#160;        rectSelector = <span class="keyword">@selector</span>(rectOfColumn:);</div>
<div class="line"><a name="l04147"></a><span class="lineno"> 4147</span>&#160;</div>
<div class="line"><a name="l04148"></a><span class="lineno"> 4148</span>&#160;        var exposedColumns = [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a1acdacf678fb91a541b692d378586289">columnIndexesInRect</a>:aRect],</div>
<div class="line"><a name="l04149"></a><span class="lineno"> 4149</span>&#160;            firstColumn = [exposedColumns firstIndex],</div>
<div class="line"><a name="l04150"></a><span class="lineno"> 4150</span>&#160;            exposedRange = <a class="code" href="group__foundation.html#gab09805608dfb3449e840c3ce22d7e7fe">CPMakeRange</a>(firstColumn, [exposedColumns lastIndex] - firstColumn + 1);</div>
<div class="line"><a name="l04151"></a><span class="lineno"> 4151</span>&#160;</div>
<div class="line"><a name="l04152"></a><span class="lineno"> 4152</span>&#160;        [_selectedColumnIndexes getIndexes:indexes maxCount:-1 inIndexRange:exposedRange];</div>
<div class="line"><a name="l04153"></a><span class="lineno"> 4153</span>&#160;    }</div>
<div class="line"><a name="l04154"></a><span class="lineno"> 4154</span>&#160;</div>
<div class="line"><a name="l04155"></a><span class="lineno"> 4155</span>&#160;    var count,</div>
<div class="line"><a name="l04156"></a><span class="lineno"> 4156</span>&#160;        count2 = count = [indexes count];</div>
<div class="line"><a name="l04157"></a><span class="lineno"> 4157</span>&#160;</div>
<div class="line"><a name="l04158"></a><span class="lineno"> 4158</span>&#160;    <span class="keywordflow">if</span> (!count)</div>
<div class="line"><a name="l04159"></a><span class="lineno"> 4159</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04160"></a><span class="lineno"> 4160</span>&#160;</div>
<div class="line"><a name="l04161"></a><span class="lineno"> 4161</span>&#160;    var drawGradient = (<a class="code" href="_c_p_compatibility_8j.html#a1fbfe7ca6b2cef354ecfe78f6cfd6659">CPFeatureIsCompatible</a>(<a class="code" href="_c_p_compatibility_8j.html#a3665bae1ce94c5c2c3d9e65fb78d0f15">CPHTMLCanvasFeature</a>) &amp;&amp; _selectionHighlightStyle === <a class="code" href="_c_p_table_view_8j.html#a9b1494c16eb023b6a546dc0fb584fce7">CPTableViewSelectionHighlightStyleSourceList</a> &amp;&amp; [_selectedRowIndexes count] &gt;= 1),</div>
<div class="line"><a name="l04162"></a><span class="lineno"> 4162</span>&#160;        deltaHeight = 0.5 * (_gridStyleMask &amp; <a class="code" href="_c_p_table_view_8j.html#acc262027919f5d8fa9961299c57e4887">CPTableViewSolidHorizontalGridLineMask</a>),</div>
<div class="line"><a name="l04163"></a><span class="lineno"> 4163</span>&#160;        focused = [<span class="keyword">self</span> _isFocused];</div>
<div class="line"><a name="l04164"></a><span class="lineno"> 4164</span>&#160;</div>
<div class="line"><a name="l04165"></a><span class="lineno"> 4165</span>&#160;    <a class="code" href="group__coregraphics.html#ga02cca9368e5aacc0bef423d724635376">CGContextBeginPath</a>(context);</div>
<div class="line"><a name="l04166"></a><span class="lineno"> 4166</span>&#160;</div>
<div class="line"><a name="l04167"></a><span class="lineno"> 4167</span>&#160;    <span class="keywordflow">if</span> (drawGradient)</div>
<div class="line"><a name="l04168"></a><span class="lineno"> 4168</span>&#160;    {</div>
<div class="line"><a name="l04169"></a><span class="lineno"> 4169</span>&#160;        var gradientCache = focused ? [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a6a923296245546e44a0c25f7709a1285">selectionGradientColors</a>] : [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#adf6e7e4cb4a8711e30c3ed90f0391d13">unfocusedSelectionGradientColors</a>],</div>
<div class="line"><a name="l04170"></a><span class="lineno"> 4170</span>&#160;            topLineColor = [gradientCache objectForKey:CPSourceListTopLineColor],</div>
<div class="line"><a name="l04171"></a><span class="lineno"> 4171</span>&#160;            bottomLineColor = [gradientCache objectForKey:CPSourceListBottomLineColor],</div>
<div class="line"><a name="l04172"></a><span class="lineno"> 4172</span>&#160;            gradientColor = [gradientCache objectForKey:CPSourceListGradient];</div>
<div class="line"><a name="l04173"></a><span class="lineno"> 4173</span>&#160;    }</div>
<div class="line"><a name="l04174"></a><span class="lineno"> 4174</span>&#160;</div>
<div class="line"><a name="l04175"></a><span class="lineno"> 4175</span>&#160;    var normalSelectionHighlightColor = focused ? [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#ad7269481be5a77cb295ec2328d8576df">selectionHighlightColor</a>] : [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#af8ddaab656284351f053aa3336d1f317">unfocusedSelectionHighlightColor</a>];</div>
<div class="line"><a name="l04176"></a><span class="lineno"> 4176</span>&#160;</div>
<div class="line"><a name="l04177"></a><span class="lineno"> 4177</span>&#160;    <span class="comment">// don&#39;t do these lookups if there are no group rows</span></div>
<div class="line"><a name="l04178"></a><span class="lineno"> 4178</span>&#160;    <span class="keywordflow">if</span> ([_groupRows count])</div>
<div class="line"><a name="l04179"></a><span class="lineno"> 4179</span>&#160;    {</div>
<div class="line"><a name="l04180"></a><span class="lineno"> 4180</span>&#160;        var topGroupLineColor = [<a class="code" href="interface_c_p_color.html">CPColor</a> <a class="code" href="interface_c_p_color.html#aa833ca4d353c6a9854c2386f13a17680">colorWithCalibratedWhite</a>:212.0 / 255.0 <a class="code" href="interface_c_p_color.html#aa833ca4d353c6a9854c2386f13a17680">alpha</a>:1.0],</div>
<div class="line"><a name="l04181"></a><span class="lineno"> 4181</span>&#160;            bottomGroupLineColor = [<a class="code" href="interface_c_p_color.html">CPColor</a> <a class="code" href="interface_c_p_color.html#aa833ca4d353c6a9854c2386f13a17680">colorWithCalibratedWhite</a>:185.0 / 255.0 <a class="code" href="interface_c_p_color.html#aa833ca4d353c6a9854c2386f13a17680">alpha</a>:1.0],</div>
<div class="line"><a name="l04182"></a><span class="lineno"> 4182</span>&#160;            gradientGroupColor = <a class="code" href="_c_g_gradient_8j.html#ad8d31cbcc471f671205098ba416bfc84">CGGradientCreateWithColorComponents</a>(<a class="code" href="_c_g_color_space_8j.html#a775e411191b3539566c438fb961b62df">CGColorSpaceCreateDeviceRGB</a>(), [212.0 / 255.0, 212.0 / 255.0, 212.0 / 255.0, 1.0, 197.0 / 255.0, 197.0 / 255.0, 197.0 / 255.0, 1.0], [0, 1], 2);</div>
<div class="line"><a name="l04183"></a><span class="lineno"> 4183</span>&#160;    }</div>
<div class="line"><a name="l04184"></a><span class="lineno"> 4184</span>&#160;</div>
<div class="line"><a name="l04185"></a><span class="lineno"> 4185</span>&#160;    <span class="keywordflow">while</span> (count--)</div>
<div class="line"><a name="l04186"></a><span class="lineno"> 4186</span>&#160;    {</div>
<div class="line"><a name="l04187"></a><span class="lineno"> 4187</span>&#160;        var currentIndex = indexes[count],</div>
<div class="line"><a name="l04188"></a><span class="lineno"> 4188</span>&#160;            rowRect = CGRectIntersection(objj_msgSend(<span class="keyword">self</span>, rectSelector, currentIndex), aRect);</div>
<div class="line"><a name="l04189"></a><span class="lineno"> 4189</span>&#160;</div>
<div class="line"><a name="l04190"></a><span class="lineno"> 4190</span>&#160;        <span class="comment">// group rows get the same highlight style as other rows if they&#39;re source list...</span></div>
<div class="line"><a name="l04191"></a><span class="lineno"> 4191</span>&#160;        <span class="keywordflow">if</span> (!drawGradient)</div>
<div class="line"><a name="l04192"></a><span class="lineno"> 4192</span>&#160;            var shouldUseGroupGradient = [_groupRows containsIndex:currentIndex];</div>
<div class="line"><a name="l04193"></a><span class="lineno"> 4193</span>&#160;</div>
<div class="line"><a name="l04194"></a><span class="lineno"> 4194</span>&#160;        <span class="keywordflow">if</span> (drawGradient || shouldUseGroupGradient)</div>
<div class="line"><a name="l04195"></a><span class="lineno"> 4195</span>&#160;        {</div>
<div class="line"><a name="l04196"></a><span class="lineno"> 4196</span>&#160;            var minX = CGRectGetMinX(rowRect),</div>
<div class="line"><a name="l04197"></a><span class="lineno"> 4197</span>&#160;                minY = CGRectGetMinY(rowRect),</div>
<div class="line"><a name="l04198"></a><span class="lineno"> 4198</span>&#160;                maxX = CGRectGetMaxX(rowRect),</div>
<div class="line"><a name="l04199"></a><span class="lineno"> 4199</span>&#160;                maxY = CGRectGetMaxY(rowRect) - deltaHeight;</div>
<div class="line"><a name="l04200"></a><span class="lineno"> 4200</span>&#160;</div>
<div class="line"><a name="l04201"></a><span class="lineno"> 4201</span>&#160;            <span class="keywordflow">if</span> (!drawGradient)</div>
<div class="line"><a name="l04202"></a><span class="lineno"> 4202</span>&#160;            {</div>
<div class="line"><a name="l04203"></a><span class="lineno"> 4203</span>&#160;                <span class="comment">//If there is no source list gradient we need to close the selection path and fill it now</span></div>
<div class="line"><a name="l04204"></a><span class="lineno"> 4204</span>&#160;                [normalSelectionHighlightColor setFill];</div>
<div class="line"><a name="l04205"></a><span class="lineno"> 4205</span>&#160;                <a class="code" href="group__coregraphics.html#gaaf20d10c7501084913e6fdee367f3efa">CGContextClosePath</a>(context);</div>
<div class="line"><a name="l04206"></a><span class="lineno"> 4206</span>&#160;                <a class="code" href="group__coregraphics.html#ga5619db65db539d72c1ab275d1d5f54a1">CGContextFillPath</a>(context);</div>
<div class="line"><a name="l04207"></a><span class="lineno"> 4207</span>&#160;                <a class="code" href="group__coregraphics.html#ga02cca9368e5aacc0bef423d724635376">CGContextBeginPath</a>(context);</div>
<div class="line"><a name="l04208"></a><span class="lineno"> 4208</span>&#160;            }</div>
<div class="line"><a name="l04209"></a><span class="lineno"> 4209</span>&#160;</div>
<div class="line"><a name="l04210"></a><span class="lineno"> 4210</span>&#160;            <a class="code" href="group__coregraphics.html#ga63142912cf5a80c8c72c29d55cd7f730">CGContextAddRect</a>(context, rowRect);</div>
<div class="line"><a name="l04211"></a><span class="lineno"> 4211</span>&#160;</div>
<div class="line"><a name="l04212"></a><span class="lineno"> 4212</span>&#160;            <a class="code" href="_c_g_context_canvas_8j.html#ad5aab9a4c77342b828db694cea80e128">CGContextDrawLinearGradient</a>(context, (shouldUseGroupGradient) ? gradientGroupColor : gradientColor, rowRect.origin, CGPointMake(minX, maxY), 0);</div>
<div class="line"><a name="l04213"></a><span class="lineno"> 4213</span>&#160;</div>
<div class="line"><a name="l04214"></a><span class="lineno"> 4214</span>&#160;            <a class="code" href="group__coregraphics.html#ga02cca9368e5aacc0bef423d724635376">CGContextBeginPath</a>(context);</div>
<div class="line"><a name="l04215"></a><span class="lineno"> 4215</span>&#160;            <a class="code" href="group__coregraphics.html#ga44dc04bb1efb98ff834308c997d10dc5">CGContextMoveToPoint</a>(context, minX, minY + .5);</div>
<div class="line"><a name="l04216"></a><span class="lineno"> 4216</span>&#160;            <a class="code" href="group__coregraphics.html#ga834b9d5848989453730d162f251a29c3">CGContextAddLineToPoint</a>(context, maxX, minY + .5);</div>
<div class="line"><a name="l04217"></a><span class="lineno"> 4217</span>&#160;            <a class="code" href="group__coregraphics.html#gac13f17a8bed76d16b9e5252106d196e0">CGContextSetStrokeColor</a>(context, (shouldUseGroupGradient) ? topGroupLineColor : topLineColor);</div>
<div class="line"><a name="l04218"></a><span class="lineno"> 4218</span>&#160;            <a class="code" href="group__coregraphics.html#ga03bda4b6dc1763d22d122d565e027012">CGContextStrokePath</a>(context);</div>
<div class="line"><a name="l04219"></a><span class="lineno"> 4219</span>&#160;</div>
<div class="line"><a name="l04220"></a><span class="lineno"> 4220</span>&#160;            <a class="code" href="group__coregraphics.html#ga02cca9368e5aacc0bef423d724635376">CGContextBeginPath</a>(context);</div>
<div class="line"><a name="l04221"></a><span class="lineno"> 4221</span>&#160;            <a class="code" href="group__coregraphics.html#ga44dc04bb1efb98ff834308c997d10dc5">CGContextMoveToPoint</a>(context, minX, maxY - .5);</div>
<div class="line"><a name="l04222"></a><span class="lineno"> 4222</span>&#160;            <a class="code" href="group__coregraphics.html#ga834b9d5848989453730d162f251a29c3">CGContextAddLineToPoint</a>(context, maxX, maxY - .5);</div>
<div class="line"><a name="l04223"></a><span class="lineno"> 4223</span>&#160;            <a class="code" href="group__coregraphics.html#gac13f17a8bed76d16b9e5252106d196e0">CGContextSetStrokeColor</a>(context, (shouldUseGroupGradient) ? bottomGroupLineColor : bottomLineColor);</div>
<div class="line"><a name="l04224"></a><span class="lineno"> 4224</span>&#160;            <a class="code" href="group__coregraphics.html#ga03bda4b6dc1763d22d122d565e027012">CGContextStrokePath</a>(context);</div>
<div class="line"><a name="l04225"></a><span class="lineno"> 4225</span>&#160;        }</div>
<div class="line"><a name="l04226"></a><span class="lineno"> 4226</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l04227"></a><span class="lineno"> 4227</span>&#160;        {</div>
<div class="line"><a name="l04228"></a><span class="lineno"> 4228</span>&#160;            var radius = [<span class="keyword">self</span> <a class="code" href="interface_c_p_view.html#a5c464f67ba8046d256adbf1cb549fb4c">currentValueForThemeAttribute</a>:@&quot;selection-radius&quot;];</div>
<div class="line"><a name="l04229"></a><span class="lineno"> 4229</span>&#160;</div>
<div class="line"><a name="l04230"></a><span class="lineno"> 4230</span>&#160;            <span class="keywordflow">if</span> (radius &gt; 0)</div>
<div class="line"><a name="l04231"></a><span class="lineno"> 4231</span>&#160;            {</div>
<div class="line"><a name="l04232"></a><span class="lineno"> 4232</span>&#160;                var minX = CGRectGetMinX(rowRect),</div>
<div class="line"><a name="l04233"></a><span class="lineno"> 4233</span>&#160;                    maxX = CGRectGetMaxX(rowRect),</div>
<div class="line"><a name="l04234"></a><span class="lineno"> 4234</span>&#160;                    minY = CGRectGetMinY(rowRect),</div>
<div class="line"><a name="l04235"></a><span class="lineno"> 4235</span>&#160;                    maxY = CGRectGetMaxY(rowRect);</div>
<div class="line"><a name="l04236"></a><span class="lineno"> 4236</span>&#160;</div>
<div class="line"><a name="l04237"></a><span class="lineno"> 4237</span>&#160;                <a class="code" href="group__coregraphics.html#ga44dc04bb1efb98ff834308c997d10dc5">CGContextMoveToPoint</a>(context, minX + radius, minY);</div>
<div class="line"><a name="l04238"></a><span class="lineno"> 4238</span>&#160;                <a class="code" href="group__coregraphics.html#ga917be14f02e018002bc478dda09d1db8">CGContextAddArcToPoint</a>(context, maxX, minY, maxX, minY + radius, radius);</div>
<div class="line"><a name="l04239"></a><span class="lineno"> 4239</span>&#160;                <a class="code" href="group__coregraphics.html#ga917be14f02e018002bc478dda09d1db8">CGContextAddArcToPoint</a>(context, maxX, maxY, maxX - radius, maxY, radius);</div>
<div class="line"><a name="l04240"></a><span class="lineno"> 4240</span>&#160;                <a class="code" href="group__coregraphics.html#ga917be14f02e018002bc478dda09d1db8">CGContextAddArcToPoint</a>(context, minX, maxY, minX, maxY - radius, radius);</div>
<div class="line"><a name="l04241"></a><span class="lineno"> 4241</span>&#160;                <a class="code" href="group__coregraphics.html#ga917be14f02e018002bc478dda09d1db8">CGContextAddArcToPoint</a>(context, minX, minY, minX + radius, minY, radius);</div>
<div class="line"><a name="l04242"></a><span class="lineno"> 4242</span>&#160;            }</div>
<div class="line"><a name="l04243"></a><span class="lineno"> 4243</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l04244"></a><span class="lineno"> 4244</span>&#160;                <a class="code" href="group__coregraphics.html#ga63142912cf5a80c8c72c29d55cd7f730">CGContextAddRect</a>(context, rowRect);</div>
<div class="line"><a name="l04245"></a><span class="lineno"> 4245</span>&#160;        }</div>
<div class="line"><a name="l04246"></a><span class="lineno"> 4246</span>&#160;    }</div>
<div class="line"><a name="l04247"></a><span class="lineno"> 4247</span>&#160;</div>
<div class="line"><a name="l04248"></a><span class="lineno"> 4248</span>&#160;    <a class="code" href="group__coregraphics.html#gaaf20d10c7501084913e6fdee367f3efa">CGContextClosePath</a>(context);</div>
<div class="line"><a name="l04249"></a><span class="lineno"> 4249</span>&#160;</div>
<div class="line"><a name="l04250"></a><span class="lineno"> 4250</span>&#160;    <span class="keywordflow">if</span> (!drawGradient)</div>
<div class="line"><a name="l04251"></a><span class="lineno"> 4251</span>&#160;    {</div>
<div class="line"><a name="l04252"></a><span class="lineno"> 4252</span>&#160;        [normalSelectionHighlightColor setFill];</div>
<div class="line"><a name="l04253"></a><span class="lineno"> 4253</span>&#160;        <a class="code" href="group__coregraphics.html#ga5619db65db539d72c1ab275d1d5f54a1">CGContextFillPath</a>(context);</div>
<div class="line"><a name="l04254"></a><span class="lineno"> 4254</span>&#160;    }</div>
<div class="line"><a name="l04255"></a><span class="lineno"> 4255</span>&#160;</div>
<div class="line"><a name="l04256"></a><span class="lineno"> 4256</span>&#160;    <a class="code" href="group__coregraphics.html#ga02cca9368e5aacc0bef423d724635376">CGContextBeginPath</a>(context);</div>
<div class="line"><a name="l04257"></a><span class="lineno"> 4257</span>&#160;</div>
<div class="line"><a name="l04258"></a><span class="lineno"> 4258</span>&#160;    var gridStyleMask = [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a9b133d62d7aba9a887f38e686627e160">gridStyleMask</a>];</div>
<div class="line"><a name="l04259"></a><span class="lineno"> 4259</span>&#160;</div>
<div class="line"><a name="l04260"></a><span class="lineno"> 4260</span>&#160;    <span class="keywordflow">for</span> (var i = 0; i &lt; count2; i++)</div>
<div class="line"><a name="l04261"></a><span class="lineno"> 4261</span>&#160;    {</div>
<div class="line"><a name="l04262"></a><span class="lineno"> 4262</span>&#160;         var rect = objj_msgSend(<span class="keyword">self</span>, rectSelector, indexes[i]),</div>
<div class="line"><a name="l04263"></a><span class="lineno"> 4263</span>&#160;             minX = CGRectGetMinX(rect) - 0.5,</div>
<div class="line"><a name="l04264"></a><span class="lineno"> 4264</span>&#160;             maxX = CGRectGetMaxX(rect) - 0.5,</div>
<div class="line"><a name="l04265"></a><span class="lineno"> 4265</span>&#160;             minY = CGRectGetMinY(rect) - 0.5,</div>
<div class="line"><a name="l04266"></a><span class="lineno"> 4266</span>&#160;             maxY = CGRectGetMaxY(rect) - 0.5;</div>
<div class="line"><a name="l04267"></a><span class="lineno"> 4267</span>&#160;</div>
<div class="line"><a name="l04268"></a><span class="lineno"> 4268</span>&#160;        <span class="keywordflow">if</span> ([_selectedRowIndexes count] &gt;= 1 &amp;&amp; gridStyleMask &amp; <a class="code" href="_c_p_table_view_8j.html#af147002e8b12fcaf12a2df975edb95b5">CPTableViewSolidVerticalGridLineMask</a>)</div>
<div class="line"><a name="l04269"></a><span class="lineno"> 4269</span>&#160;        {</div>
<div class="line"><a name="l04270"></a><span class="lineno"> 4270</span>&#160;            var exposedColumns = [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a1acdacf678fb91a541b692d378586289">columnIndexesInRect</a>:aRect],</div>
<div class="line"><a name="l04271"></a><span class="lineno"> 4271</span>&#160;                exposedColumnIndexes = [],</div>
<div class="line"><a name="l04272"></a><span class="lineno"> 4272</span>&#160;                firstExposedColumn = [exposedColumns firstIndex],</div>
<div class="line"><a name="l04273"></a><span class="lineno"> 4273</span>&#160;                exposedRange = <a class="code" href="group__foundation.html#gab09805608dfb3449e840c3ce22d7e7fe">CPMakeRange</a>(firstExposedColumn, [exposedColumns lastIndex] - firstExposedColumn + 1);</div>
<div class="line"><a name="l04274"></a><span class="lineno"> 4274</span>&#160;</div>
<div class="line"><a name="l04275"></a><span class="lineno"> 4275</span>&#160;            [exposedColumns getIndexes:exposedColumnIndexes maxCount:-1 inIndexRange:exposedRange];</div>
<div class="line"><a name="l04276"></a><span class="lineno"> 4276</span>&#160;</div>
<div class="line"><a name="l04277"></a><span class="lineno"> 4277</span>&#160;            var exposedColumnCount = [exposedColumnIndexes count];</div>
<div class="line"><a name="l04278"></a><span class="lineno"> 4278</span>&#160;</div>
<div class="line"><a name="l04279"></a><span class="lineno"> 4279</span>&#160;            <span class="keywordflow">for</span> (var c = firstExposedColumn; c &lt; exposedColumnCount; c++)</div>
<div class="line"><a name="l04280"></a><span class="lineno"> 4280</span>&#160;            {</div>
<div class="line"><a name="l04281"></a><span class="lineno"> 4281</span>&#160;                var colRect = [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#af86aacec5d36506c1fee17f1fab5803f">rectOfColumn</a>:exposedColumnIndexes[c]],</div>
<div class="line"><a name="l04282"></a><span class="lineno"> 4282</span>&#160;                    colX = CGRectGetMaxX(colRect) + 0.5;</div>
<div class="line"><a name="l04283"></a><span class="lineno"> 4283</span>&#160;</div>
<div class="line"><a name="l04284"></a><span class="lineno"> 4284</span>&#160;                <a class="code" href="group__coregraphics.html#ga44dc04bb1efb98ff834308c997d10dc5">CGContextMoveToPoint</a>(context, colX, minY);</div>
<div class="line"><a name="l04285"></a><span class="lineno"> 4285</span>&#160;                <a class="code" href="group__coregraphics.html#ga834b9d5848989453730d162f251a29c3">CGContextAddLineToPoint</a>(context, colX, maxY);</div>
<div class="line"><a name="l04286"></a><span class="lineno"> 4286</span>&#160;            }</div>
<div class="line"><a name="l04287"></a><span class="lineno"> 4287</span>&#160;        }</div>
<div class="line"><a name="l04288"></a><span class="lineno"> 4288</span>&#160;</div>
<div class="line"><a name="l04289"></a><span class="lineno"> 4289</span>&#160;        <span class="comment">//if the row after the current row is not selected then there is no need to draw the bottom grid line white.</span></div>
<div class="line"><a name="l04290"></a><span class="lineno"> 4290</span>&#160;        <span class="keywordflow">if</span> ([indexes containsObject:indexes[i] + 1])</div>
<div class="line"><a name="l04291"></a><span class="lineno"> 4291</span>&#160;        {</div>
<div class="line"><a name="l04292"></a><span class="lineno"> 4292</span>&#160;            <a class="code" href="group__coregraphics.html#ga44dc04bb1efb98ff834308c997d10dc5">CGContextMoveToPoint</a>(context, minX, maxY);</div>
<div class="line"><a name="l04293"></a><span class="lineno"> 4293</span>&#160;            <a class="code" href="group__coregraphics.html#ga834b9d5848989453730d162f251a29c3">CGContextAddLineToPoint</a>(context, maxX, maxY);</div>
<div class="line"><a name="l04294"></a><span class="lineno"> 4294</span>&#160;        }</div>
<div class="line"><a name="l04295"></a><span class="lineno"> 4295</span>&#160;    }</div>
<div class="line"><a name="l04296"></a><span class="lineno"> 4296</span>&#160;</div>
<div class="line"><a name="l04297"></a><span class="lineno"> 4297</span>&#160;    <a class="code" href="group__coregraphics.html#gaaf20d10c7501084913e6fdee367f3efa">CGContextClosePath</a>(context);</div>
<div class="line"><a name="l04298"></a><span class="lineno"> 4298</span>&#160;    <a class="code" href="group__coregraphics.html#gac13f17a8bed76d16b9e5252106d196e0">CGContextSetStrokeColor</a>(context, [<span class="keyword">self</span> currentValueForThemeAttribute:<span class="stringliteral">@&quot;highlighted-grid-color&quot;</span>]);</div>
<div class="line"><a name="l04299"></a><span class="lineno"> 4299</span>&#160;    <a class="code" href="group__coregraphics.html#ga03bda4b6dc1763d22d122d565e027012">CGContextStrokePath</a>(context);</div>
<div class="line"><a name="l04300"></a><span class="lineno"> 4300</span>&#160;}</div>
<div class="line"><a name="l04301"></a><span class="lineno"> 4301</span>&#160;</div>
<div class="line"><a name="l04307"></a><span class="lineno"> 4307</span>&#160;- (void)_drawGroupRowsForRects:(CPArray)rects</div>
<div class="line"><a name="l04308"></a><span class="lineno"> 4308</span>&#160;{</div>
<div class="line"><a name="l04309"></a><span class="lineno"> 4309</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="_c_p_compatibility_8j.html#a1fbfe7ca6b2cef354ecfe78f6cfd6659">CPFeatureIsCompatible</a>(<a class="code" href="_c_p_compatibility_8j.html#a3665bae1ce94c5c2c3d9e65fb78d0f15">CPHTMLCanvasFeature</a>) &amp;&amp; _selectionHighlightStyle === <a class="code" href="_c_p_table_view_8j.html#a9b1494c16eb023b6a546dc0fb584fce7">CPTableViewSelectionHighlightStyleSourceList</a>) || !rects.length)</div>
<div class="line"><a name="l04310"></a><span class="lineno"> 4310</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04311"></a><span class="lineno"> 4311</span>&#160;</div>
<div class="line"><a name="l04312"></a><span class="lineno"> 4312</span>&#160;    var context = [[<a class="code" href="interface_c_p_graphics_context.html">CPGraphicsContext</a> <a class="code" href="interface_c_p_graphics_context.html#a378dafc8fb951053dd6877fb45e87f61">currentContext</a>] <a class="code" href="interface_c_p_graphics_context.html#a92895bd939c04da463d02425bec83f0b">graphicsPort</a>],</div>
<div class="line"><a name="l04313"></a><span class="lineno"> 4313</span>&#160;        i = rects.length;</div>
<div class="line"><a name="l04314"></a><span class="lineno"> 4314</span>&#160;</div>
<div class="line"><a name="l04315"></a><span class="lineno"> 4315</span>&#160;    <a class="code" href="group__coregraphics.html#ga02cca9368e5aacc0bef423d724635376">CGContextBeginPath</a>(context);</div>
<div class="line"><a name="l04316"></a><span class="lineno"> 4316</span>&#160;</div>
<div class="line"><a name="l04317"></a><span class="lineno"> 4317</span>&#160;    var gradientCache = [<span class="keyword">self</span> selectionGradientColors],</div>
<div class="line"><a name="l04318"></a><span class="lineno"> 4318</span>&#160;        topLineColor = [<a class="code" href="interface_c_p_color.html">CPColor</a> <a class="code" href="interface_c_p_color.html#a80c4273ef2d3bb9cc836946de79c8a1e">colorWithHexString</a>:&quot;d3d3d3&quot;],</div>
<div class="line"><a name="l04319"></a><span class="lineno"> 4319</span>&#160;        bottomLineColor = [<a class="code" href="interface_c_p_color.html">CPColor</a> <a class="code" href="interface_c_p_color.html#a80c4273ef2d3bb9cc836946de79c8a1e">colorWithHexString</a>:&quot;bebebd&quot;],</div>
<div class="line"><a name="l04320"></a><span class="lineno"> 4320</span>&#160;        gradientColor = <a class="code" href="_c_g_gradient_8j.html#ad8d31cbcc471f671205098ba416bfc84">CGGradientCreateWithColorComponents</a>(<a class="code" href="_c_g_color_space_8j.html#a775e411191b3539566c438fb961b62df">CGColorSpaceCreateDeviceRGB</a>(), [220.0 / 255.0, 220.0 / 255.0, 220.0 / 255.0, 1.0,</div>
<div class="line"><a name="l04321"></a><span class="lineno"> 4321</span>&#160;                                                                                            199.0 / 255.0, 199.0 / 255.0, 199.0 / 255.0, 1.0], [0, 1], 2),</div>
<div class="line"><a name="l04322"></a><span class="lineno"> 4322</span>&#160;        drawGradient = YES;</div>
<div class="line"><a name="l04323"></a><span class="lineno"> 4323</span>&#160;</div>
<div class="line"><a name="l04324"></a><span class="lineno"> 4324</span>&#160;    <span class="keywordflow">while</span> (i--)</div>
<div class="line"><a name="l04325"></a><span class="lineno"> 4325</span>&#160;    {</div>
<div class="line"><a name="l04326"></a><span class="lineno"> 4326</span>&#160;        var rowRect = rects[i];</div>
<div class="line"><a name="l04327"></a><span class="lineno"> 4327</span>&#160;</div>
<div class="line"><a name="l04328"></a><span class="lineno"> 4328</span>&#160;        <a class="code" href="group__coregraphics.html#ga63142912cf5a80c8c72c29d55cd7f730">CGContextAddRect</a>(context, rowRect);</div>
<div class="line"><a name="l04329"></a><span class="lineno"> 4329</span>&#160;</div>
<div class="line"><a name="l04330"></a><span class="lineno"> 4330</span>&#160;        <span class="keywordflow">if</span> (drawGradient)</div>
<div class="line"><a name="l04331"></a><span class="lineno"> 4331</span>&#160;        {</div>
<div class="line"><a name="l04332"></a><span class="lineno"> 4332</span>&#160;            var minX = CGRectGetMinX(rowRect),</div>
<div class="line"><a name="l04333"></a><span class="lineno"> 4333</span>&#160;                minY = CGRectGetMinY(rowRect),</div>
<div class="line"><a name="l04334"></a><span class="lineno"> 4334</span>&#160;                maxX = CGRectGetMaxX(rowRect),</div>
<div class="line"><a name="l04335"></a><span class="lineno"> 4335</span>&#160;                maxY = CGRectGetMaxY(rowRect);</div>
<div class="line"><a name="l04336"></a><span class="lineno"> 4336</span>&#160;</div>
<div class="line"><a name="l04337"></a><span class="lineno"> 4337</span>&#160;            <a class="code" href="_c_g_context_canvas_8j.html#ad5aab9a4c77342b828db694cea80e128">CGContextDrawLinearGradient</a>(context, gradientColor, rowRect.origin, CGPointMake(minX, maxY), 0);</div>
<div class="line"><a name="l04338"></a><span class="lineno"> 4338</span>&#160;</div>
<div class="line"><a name="l04339"></a><span class="lineno"> 4339</span>&#160;            <a class="code" href="group__coregraphics.html#ga02cca9368e5aacc0bef423d724635376">CGContextBeginPath</a>(context);</div>
<div class="line"><a name="l04340"></a><span class="lineno"> 4340</span>&#160;            <a class="code" href="group__coregraphics.html#ga44dc04bb1efb98ff834308c997d10dc5">CGContextMoveToPoint</a>(context, minX, minY);</div>
<div class="line"><a name="l04341"></a><span class="lineno"> 4341</span>&#160;            <a class="code" href="group__coregraphics.html#ga834b9d5848989453730d162f251a29c3">CGContextAddLineToPoint</a>(context, maxX, minY);</div>
<div class="line"><a name="l04342"></a><span class="lineno"> 4342</span>&#160;            <a class="code" href="group__coregraphics.html#gac13f17a8bed76d16b9e5252106d196e0">CGContextSetStrokeColor</a>(context, topLineColor);</div>
<div class="line"><a name="l04343"></a><span class="lineno"> 4343</span>&#160;            <a class="code" href="group__coregraphics.html#ga03bda4b6dc1763d22d122d565e027012">CGContextStrokePath</a>(context);</div>
<div class="line"><a name="l04344"></a><span class="lineno"> 4344</span>&#160;</div>
<div class="line"><a name="l04345"></a><span class="lineno"> 4345</span>&#160;            <a class="code" href="group__coregraphics.html#ga02cca9368e5aacc0bef423d724635376">CGContextBeginPath</a>(context);</div>
<div class="line"><a name="l04346"></a><span class="lineno"> 4346</span>&#160;            <a class="code" href="group__coregraphics.html#ga44dc04bb1efb98ff834308c997d10dc5">CGContextMoveToPoint</a>(context, minX, maxY);</div>
<div class="line"><a name="l04347"></a><span class="lineno"> 4347</span>&#160;            <a class="code" href="group__coregraphics.html#ga834b9d5848989453730d162f251a29c3">CGContextAddLineToPoint</a>(context, maxX, maxY - 1);</div>
<div class="line"><a name="l04348"></a><span class="lineno"> 4348</span>&#160;            <a class="code" href="group__coregraphics.html#gac13f17a8bed76d16b9e5252106d196e0">CGContextSetStrokeColor</a>(context, bottomLineColor);</div>
<div class="line"><a name="l04349"></a><span class="lineno"> 4349</span>&#160;            <a class="code" href="group__coregraphics.html#ga03bda4b6dc1763d22d122d565e027012">CGContextStrokePath</a>(context);</div>
<div class="line"><a name="l04350"></a><span class="lineno"> 4350</span>&#160;        }</div>
<div class="line"><a name="l04351"></a><span class="lineno"> 4351</span>&#160;    }</div>
<div class="line"><a name="l04352"></a><span class="lineno"> 4352</span>&#160;}</div>
<div class="line"><a name="l04353"></a><span class="lineno"> 4353</span>&#160;</div>
<div class="line"><a name="l04357"></a><span class="lineno"> 4357</span>&#160;- (void)_drawRows:(<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a>)rowsIndexes clipRect:(CGRect)clipRect</div>
<div class="line"><a name="l04358"></a><span class="lineno"> 4358</span>&#160;{</div>
<div class="line"><a name="l04359"></a><span class="lineno"> 4359</span>&#160;    var row = [rowsIndexes <a class="code" href="interface_c_p_index_set.html#abc895f4b5df7bdaf090161db6b234b73">firstIndex</a>];</div>
<div class="line"><a name="l04360"></a><span class="lineno"> 4360</span>&#160;</div>
<div class="line"><a name="l04361"></a><span class="lineno"> 4361</span>&#160;    <span class="keywordflow">while</span> (row !== <a class="code" href="_c_p_obj_j_runtime_8j.html#a84e3be579b365cc2c1559e1a1f469238">CPNotFound</a>)</div>
<div class="line"><a name="l04362"></a><span class="lineno"> 4362</span>&#160;    {</div>
<div class="line"><a name="l04363"></a><span class="lineno"> 4363</span>&#160;        [<span class="keyword">self</span> drawRow:row clipRect:CGRectIntersection(clipRect, [<span class="keyword">self</span> rectOfRow:row])];</div>
<div class="line"><a name="l04364"></a><span class="lineno"> 4364</span>&#160;        row = [rowsIndexes <a class="code" href="interface_c_p_index_set.html#a3f66583eea02c42c2b14e53daf697559">indexGreaterThanIndex</a>:row];</div>
<div class="line"><a name="l04365"></a><span class="lineno"> 4365</span>&#160;    }</div>
<div class="line"><a name="l04366"></a><span class="lineno"> 4366</span>&#160;}</div>
<div class="line"><a name="l04367"></a><span class="lineno"> 4367</span>&#160;</div>
<div class="line"><a name="l04374"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a0d0e754546163166d458ebf24ef4d149"> 4374</a></span>&#160;- (void)drawRow:(CPInteger)row clipRect:(CGRect)rect</div>
<div class="line"><a name="l04375"></a><span class="lineno"> 4375</span>&#160;{</div>
<div class="line"><a name="l04376"></a><span class="lineno"> 4376</span>&#160;    <span class="comment">// This method does currently nothing in cappuccino. Can be overridden by subclasses.</span></div>
<div class="line"><a name="l04377"></a><span class="lineno"> 4377</span>&#160;</div>
<div class="line"><a name="l04378"></a><span class="lineno"> 4378</span>&#160;}</div>
<div class="line"><a name="l04379"></a><span class="lineno"> 4379</span>&#160;</div>
<div class="line"><a name="l04383"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a37955da775ea839340abc7bea7bd9fd1"> 4383</a></span>&#160;- (void)layoutSubviews</div>
<div class="line"><a name="l04384"></a><span class="lineno"> 4384</span>&#160;{</div>
<div class="line"><a name="l04385"></a><span class="lineno"> 4385</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a7dc6ff16b80a132f5bb7aa3dbaa16e50">load</a>];</div>
<div class="line"><a name="l04386"></a><span class="lineno"> 4386</span>&#160;}</div>
<div class="line"><a name="l04387"></a><span class="lineno"> 4387</span>&#160;</div>
<div class="line"><a name="l04391"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a7a71c5e32d14791d19693f9a87d88491"> 4391</a></span>&#160;- (void)viewWillMoveToSuperview:(<a class="code" href="interface_c_p_view.html">CPView</a>)aView</div>
<div class="line"><a name="l04392"></a><span class="lineno"> 4392</span>&#160;{</div>
<div class="line"><a name="l04393"></a><span class="lineno"> 4393</span>&#160;    <span class="keywordflow">if</span> ([aView isKindOfClass:[<a class="code" href="interface_c_p_clip_view.html">CPClipView</a> <span class="keyword">class</span>]])</div>
<div class="line"><a name="l04394"></a><span class="lineno"> 4394</span>&#160;    {</div>
<div class="line"><a name="l04395"></a><span class="lineno"> 4395</span>&#160;        _observedClipView = aView;</div>
<div class="line"><a name="l04396"></a><span class="lineno"> 4396</span>&#160;    }</div>
<div class="line"><a name="l04397"></a><span class="lineno"> 4397</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l04398"></a><span class="lineno"> 4398</span>&#160;    {</div>
<div class="line"><a name="l04399"></a><span class="lineno"> 4399</span>&#160;        [<span class="keyword">self</span> _stopObservingClipView];</div>
<div class="line"><a name="l04400"></a><span class="lineno"> 4400</span>&#160;        _observedClipView = nil;</div>
<div class="line"><a name="l04401"></a><span class="lineno"> 4401</span>&#160;    }</div>
<div class="line"><a name="l04402"></a><span class="lineno"> 4402</span>&#160;</div>
<div class="line"><a name="l04403"></a><span class="lineno"> 4403</span>&#160;    [<span class="keyword">super</span> <a class="code" href="interface_c_p_view.html#ab503a53e67e622652872b0fe9db639cc">viewWillMoveToSuperview</a>:aView];</div>
<div class="line"><a name="l04404"></a><span class="lineno"> 4404</span>&#160;}</div>
<div class="line"><a name="l04405"></a><span class="lineno"> 4405</span>&#160;</div>
<div class="line"><a name="l04409"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#abe4f0984deafc23e6ae4e952155e75f4"> 4409</a></span>&#160;- (void)superviewBoundsChanged:(<a class="code" href="interface_c_p_notification.html" title="A notification that can be posted to a CPNotificationCenter. ">CPNotification</a>)aNotification</div>
<div class="line"><a name="l04410"></a><span class="lineno"> 4410</span>&#160;{</div>
<div class="line"><a name="l04411"></a><span class="lineno"> 4411</span>&#160;    _exposedRect = nil;</div>
<div class="line"><a name="l04412"></a><span class="lineno"> 4412</span>&#160;</div>
<div class="line"><a name="l04413"></a><span class="lineno"> 4413</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a31af19dc321476a95414cd5e5da60ef0">setNeedsDisplay</a>:YES];</div>
<div class="line"><a name="l04414"></a><span class="lineno"> 4414</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a45bd62a3fb6f8dec17b8a955ad08632d">setNeedsLayout</a>];</div>
<div class="line"><a name="l04415"></a><span class="lineno"> 4415</span>&#160;}</div>
<div class="line"><a name="l04416"></a><span class="lineno"> 4416</span>&#160;</div>
<div class="line"><a name="l04420"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a95d81bc03909fd8aa1c2ace4c5a81285"> 4420</a></span>&#160;- (void)superviewFrameChanged:(<a class="code" href="interface_c_p_notification.html" title="A notification that can be posted to a CPNotificationCenter. ">CPNotification</a>)aNotification</div>
<div class="line"><a name="l04421"></a><span class="lineno"> 4421</span>&#160;{</div>
<div class="line"><a name="l04422"></a><span class="lineno"> 4422</span>&#160;    _exposedRect = nil;</div>
<div class="line"><a name="l04423"></a><span class="lineno"> 4423</span>&#160;</div>
<div class="line"><a name="l04424"></a><span class="lineno"> 4424</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#af2af4f3cd8a4020f17c25c64548051ea">tile</a>];</div>
<div class="line"><a name="l04425"></a><span class="lineno"> 4425</span>&#160;}</div>
<div class="line"><a name="l04426"></a><span class="lineno"> 4426</span>&#160;</div>
<div class="line"><a name="l04427"></a><span class="lineno"> 4427</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l04428"></a><span class="lineno"> 4428</span>&#160;<span class="comment">    @ignore</span></div>
<div class="line"><a name="l04429"></a><span class="lineno"> 4429</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l04430"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a1f7e3a786ba3254260371678d08d0abf"> 4430</a></span>&#160;- (BOOL)tracksMouseOutsideOfFrame</div>
<div class="line"><a name="l04431"></a><span class="lineno"> 4431</span>&#160;{</div>
<div class="line"><a name="l04432"></a><span class="lineno"> 4432</span>&#160;    <span class="keywordflow">return</span> YES;</div>
<div class="line"><a name="l04433"></a><span class="lineno"> 4433</span>&#160;}</div>
<div class="line"><a name="l04434"></a><span class="lineno"> 4434</span>&#160;</div>
<div class="line"><a name="l04435"></a><span class="lineno"> 4435</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l04436"></a><span class="lineno"> 4436</span>&#160;<span class="comment">    @ignore</span></div>
<div class="line"><a name="l04437"></a><span class="lineno"> 4437</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l04438"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#abbf2e419712fbe7887c2660c1b6a8370"> 4438</a></span>&#160;- (BOOL)startTrackingAt:(CGPoint)aPoint</div>
<div class="line"><a name="l04439"></a><span class="lineno"> 4439</span>&#160;{</div>
<div class="line"><a name="l04440"></a><span class="lineno"> 4440</span>&#160;    <span class="comment">// Try to become the first responder, but if we can&#39;t, that&#39;s okay.</span></div>
<div class="line"><a name="l04441"></a><span class="lineno"> 4441</span>&#160;    [[<span class="keyword">self</span> <a class="code" href="interface_c_p_view.html#ae83c8efd2cc2cfe0dd767c1a6bb6d0a7">window</a>] <a class="code" href="interface_c_p_window.html#a8fc7c3a24092c25057a4314694ef7c6d">makeFirstResponder</a>:self];</div>
<div class="line"><a name="l04442"></a><span class="lineno"> 4442</span>&#160;</div>
<div class="line"><a name="l04443"></a><span class="lineno"> 4443</span>&#160;    var row = [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a6f1d4aad7598b4ca189e2a262d51cd08">rowAtPoint</a>:aPoint];</div>
<div class="line"><a name="l04444"></a><span class="lineno"> 4444</span>&#160;</div>
<div class="line"><a name="l04445"></a><span class="lineno"> 4445</span>&#160;    _clickedRow = row;</div>
<div class="line"><a name="l04446"></a><span class="lineno"> 4446</span>&#160;    _clickedColumn = [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#aa5bce119e8c4b79e4ed0f9a10172996d">columnAtPoint</a>:aPoint];</div>
<div class="line"><a name="l04447"></a><span class="lineno"> 4447</span>&#160;</div>
<div class="line"><a name="l04448"></a><span class="lineno"> 4448</span>&#160;    <span class="comment">// If the user clicks outside a row then deselect everything.</span></div>
<div class="line"><a name="l04449"></a><span class="lineno"> 4449</span>&#160;    <span class="keywordflow">if</span> (row &lt; 0 &amp;&amp; _allowsEmptySelection)</div>
<div class="line"><a name="l04450"></a><span class="lineno"> 4450</span>&#160;    {</div>
<div class="line"><a name="l04451"></a><span class="lineno"> 4451</span>&#160;        <span class="keywordflow">if</span> ([<span class="keyword">self</span> _sendDelegateSelectionShouldChangeInTableView])</div>
<div class="line"><a name="l04452"></a><span class="lineno"> 4452</span>&#160;        {</div>
<div class="line"><a name="l04453"></a><span class="lineno"> 4453</span>&#160;            var indexSet = [<span class="keyword">self</span> _sendDelegateSelectionIndexesForProposedSelection:[<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a> <a class="code" href="interface_c_p_index_set.html#a339845eb2d96fae878209105dde5e140">indexSet</a>]];</div>
<div class="line"><a name="l04454"></a><span class="lineno"> 4454</span>&#160;</div>
<div class="line"><a name="l04455"></a><span class="lineno"> 4455</span>&#160;            [<span class="keyword">self</span> _noteSelectionIsChanging];</div>
<div class="line"><a name="l04456"></a><span class="lineno"> 4456</span>&#160;            [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a9b6204a962c90a046897dce505fec408">selectRowIndexes</a>:indexSet <a class="code" href="interface_c_p_table_view.html#a9b6204a962c90a046897dce505fec408">byExtendingSelection</a>:NO];</div>
<div class="line"><a name="l04457"></a><span class="lineno"> 4457</span>&#160;        }</div>
<div class="line"><a name="l04458"></a><span class="lineno"> 4458</span>&#160;    }</div>
<div class="line"><a name="l04459"></a><span class="lineno"> 4459</span>&#160;</div>
<div class="line"><a name="l04460"></a><span class="lineno"> 4460</span>&#160;    <span class="keywordflow">if</span> ([<span class="keyword">self</span> mouseDownFlags] &amp; <a class="code" href="_c_p_event___constants_8j.html#a2343191b34b38dc1952bb44d83fa30d6">CPShiftKeyMask</a>)</div>
<div class="line"><a name="l04461"></a><span class="lineno"> 4461</span>&#160;        _selectionAnchorRow = (ABS([_selectedRowIndexes firstIndex] - row) &lt; ABS([_selectedRowIndexes lastIndex] - row)) ?</div>
<div class="line"><a name="l04462"></a><span class="lineno"> 4462</span>&#160;            [_selectedRowIndexes firstIndex] : [_selectedRowIndexes lastIndex];</div>
<div class="line"><a name="l04463"></a><span class="lineno"> 4463</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l04464"></a><span class="lineno"> 4464</span>&#160;        _selectionAnchorRow = row;</div>
<div class="line"><a name="l04465"></a><span class="lineno"> 4465</span>&#160;</div>
<div class="line"><a name="l04466"></a><span class="lineno"> 4466</span>&#160;    <span class="comment">//set ivars for startTrackingPoint and time...</span></div>
<div class="line"><a name="l04467"></a><span class="lineno"> 4467</span>&#160;    _startTrackingPoint = aPoint;</div>
<div class="line"><a name="l04468"></a><span class="lineno"> 4468</span>&#160;    _startTrackingTimestamp = <span class="keyword">new</span> Date();</div>
<div class="line"><a name="l04469"></a><span class="lineno"> 4469</span>&#160;</div>
<div class="line"><a name="l04470"></a><span class="lineno"> 4470</span>&#160;    <span class="keywordflow">if</span> ([<span class="keyword">self</span> _dataSourceRespondsToSetObjectValueForTableColumnRow])</div>
<div class="line"><a name="l04471"></a><span class="lineno"> 4471</span>&#160;        _trackingPointMovedOutOfClickSlop = NO;</div>
<div class="line"><a name="l04472"></a><span class="lineno"> 4472</span>&#160;</div>
<div class="line"><a name="l04473"></a><span class="lineno"> 4473</span>&#160;    <span class="comment">// if the table has drag support then we use mouseUp to select a single row.</span></div>
<div class="line"><a name="l04474"></a><span class="lineno"> 4474</span>&#160;    <span class="comment">// otherwise it uses mouse down.</span></div>
<div class="line"><a name="l04475"></a><span class="lineno"> 4475</span>&#160;    <span class="keywordflow">if</span> (row &gt;= 0 &amp;&amp; !([<span class="keyword">self</span> _dataSourceRespondsToWriteRowsWithIndexesToPasteboard]))</div>
<div class="line"><a name="l04476"></a><span class="lineno"> 4476</span>&#160;        [<span class="keyword">self</span> _updateSelectionWithMouseAtRow:row];</div>
<div class="line"><a name="l04477"></a><span class="lineno"> 4477</span>&#160;</div>
<div class="line"><a name="l04478"></a><span class="lineno"> 4478</span>&#160;    <span class="keywordflow">return</span> YES;</div>
<div class="line"><a name="l04479"></a><span class="lineno"> 4479</span>&#160;}</div>
<div class="line"><a name="l04480"></a><span class="lineno"> 4480</span>&#160;</div>
<div class="line"><a name="l04484"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a6310c6a469089601b2de6e897d6c4450"> 4484</a></span>&#160;- (<a class="code" href="interface_c_p_menu.html">CPMenu</a>)menuForEvent:(<a class="code" href="interface_c_p_event.html">CPEvent</a>)theEvent</div>
<div class="line"><a name="l04485"></a><span class="lineno"> 4485</span>&#160;{</div>
<div class="line"><a name="l04486"></a><span class="lineno"> 4486</span>&#160;    <span class="keywordflow">if</span> (!([<span class="keyword">self</span> _delegateRespondsToMenuForTableColumnRow]))</div>
<div class="line"><a name="l04487"></a><span class="lineno"> 4487</span>&#160;        <span class="keywordflow">return</span> [<span class="keyword">super</span> <a class="code" href="interface_c_p_view.html#a84c4725d05ca3699e09f8d2b265189e3">menuForEvent</a>:theEvent];</div>
<div class="line"><a name="l04488"></a><span class="lineno"> 4488</span>&#160;</div>
<div class="line"><a name="l04489"></a><span class="lineno"> 4489</span>&#160;    var location = [<span class="keyword">self</span> <a class="code" href="interface_c_p_view.html#ae2bfa5f8caa8e73b81f97180c50cd80f">convertPoint</a>:[theEvent <a class="code" href="interface_c_p_event.html#a5a57f4fa909de5d83e5402a8d8af4b94">locationInWindow</a>] <a class="code" href="interface_c_p_view.html#ae2bfa5f8caa8e73b81f97180c50cd80f">fromView</a>:nil],</div>
<div class="line"><a name="l04490"></a><span class="lineno"> 4490</span>&#160;        row = [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a6f1d4aad7598b4ca189e2a262d51cd08">rowAtPoint</a>:location],</div>
<div class="line"><a name="l04491"></a><span class="lineno"> 4491</span>&#160;        column = [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#aa5bce119e8c4b79e4ed0f9a10172996d">columnAtPoint</a>:location],</div>
<div class="line"><a name="l04492"></a><span class="lineno"> 4492</span>&#160;        tableColumn = [[<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#addef4fffbf36e02b399b1fad4425b71e">tableColumns</a>] objectAtIndex:column];</div>
<div class="line"><a name="l04493"></a><span class="lineno"> 4493</span>&#160;</div>
<div class="line"><a name="l04494"></a><span class="lineno"> 4494</span>&#160;    <span class="keywordflow">return</span> [<span class="keyword">self</span> _sendDelegateMenuForTableColumn:tableColumn row:row];</div>
<div class="line"><a name="l04495"></a><span class="lineno"> 4495</span>&#160;}</div>
<div class="line"><a name="l04496"></a><span class="lineno"> 4496</span>&#160;</div>
<div class="line"><a name="l04497"></a><span class="lineno"> 4497</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l04498"></a><span class="lineno"> 4498</span>&#160;<span class="comment">    @ignore</span></div>
<div class="line"><a name="l04499"></a><span class="lineno"> 4499</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l04500"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#adbef7bbed471e4c00409a0931612ac33"> 4500</a></span>&#160;- (void)trackMouse:(<a class="code" href="interface_c_p_event.html">CPEvent</a>)anEvent</div>
<div class="line"><a name="l04501"></a><span class="lineno"> 4501</span>&#160;{</div>
<div class="line"><a name="l04502"></a><span class="lineno"> 4502</span>&#160;    <span class="comment">// Prevent CPControl from eating the mouse events when we are in a drag session</span></div>
<div class="line"><a name="l04503"></a><span class="lineno"> 4503</span>&#160;    <span class="keywordflow">if</span> (![_draggedRowIndexes count])</div>
<div class="line"><a name="l04504"></a><span class="lineno"> 4504</span>&#160;    {</div>
<div class="line"><a name="l04505"></a><span class="lineno"> 4505</span>&#160;        [<span class="keyword">self</span> <a class="code" href="interface_c_p_view.html#af9dcf4bdd9a34104db09579dc70dd9b0">autoscroll</a>:anEvent];</div>
<div class="line"><a name="l04506"></a><span class="lineno"> 4506</span>&#160;        [<span class="keyword">super</span> <a class="code" href="interface_c_p_control.html#a582e5be1f236418e9067169e13b77194">trackMouse</a>:anEvent];</div>
<div class="line"><a name="l04507"></a><span class="lineno"> 4507</span>&#160;    }</div>
<div class="line"><a name="l04508"></a><span class="lineno"> 4508</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l04509"></a><span class="lineno"> 4509</span>&#160;        [CPApp sendEvent:anEvent];</div>
<div class="line"><a name="l04510"></a><span class="lineno"> 4510</span>&#160;</div>
<div class="line"><a name="l04511"></a><span class="lineno"> 4511</span>&#160;    <span class="keywordflow">if</span> ([anEvent type] == <a class="code" href="_c_p_event___constants_8j.html#a192f15362855840eb6cfb4177a6494ef">CPLeftMouseUp</a>)</div>
<div class="line"><a name="l04512"></a><span class="lineno"> 4512</span>&#160;    {</div>
<div class="line"><a name="l04513"></a><span class="lineno"> 4513</span>&#160;        _clickedRow = <a class="code" href="_c_p_obj_j_runtime_8j.html#a84e3be579b365cc2c1559e1a1f469238">CPNotFound</a>;</div>
<div class="line"><a name="l04514"></a><span class="lineno"> 4514</span>&#160;        _clickedColumn = <a class="code" href="_c_p_obj_j_runtime_8j.html#a84e3be579b365cc2c1559e1a1f469238">CPNotFound</a>;</div>
<div class="line"><a name="l04515"></a><span class="lineno"> 4515</span>&#160;    }</div>
<div class="line"><a name="l04516"></a><span class="lineno"> 4516</span>&#160;}</div>
<div class="line"><a name="l04517"></a><span class="lineno"> 4517</span>&#160;</div>
<div class="line"><a name="l04518"></a><span class="lineno"> 4518</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l04519"></a><span class="lineno"> 4519</span>&#160;<span class="comment">    @ignore</span></div>
<div class="line"><a name="l04520"></a><span class="lineno"> 4520</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l04521"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a76f737f3ee5a3cae63075c13d8ac3496"> 4521</a></span>&#160;- (BOOL)continueTracking:(CGPoint)lastPoint at:(CGPoint)aPoint</div>
<div class="line"><a name="l04522"></a><span class="lineno"> 4522</span>&#160;{</div>
<div class="line"><a name="l04523"></a><span class="lineno"> 4523</span>&#160;    var row = [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a6f1d4aad7598b4ca189e2a262d51cd08">rowAtPoint</a>:aPoint];</div>
<div class="line"><a name="l04524"></a><span class="lineno"> 4524</span>&#160;</div>
<div class="line"><a name="l04525"></a><span class="lineno"> 4525</span>&#160;    _clickedRow = row;</div>
<div class="line"><a name="l04526"></a><span class="lineno"> 4526</span>&#160;    _clickedColumn = [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#aa5bce119e8c4b79e4ed0f9a10172996d">columnAtPoint</a>:aPoint];</div>
<div class="line"><a name="l04527"></a><span class="lineno"> 4527</span>&#160;</div>
<div class="line"><a name="l04528"></a><span class="lineno"> 4528</span>&#160;    <span class="comment">// begin the drag is the datasource lets us, we&#39;ve move at least +-3px vertical or horizontal,</span></div>
<div class="line"><a name="l04529"></a><span class="lineno"> 4529</span>&#160;    <span class="comment">// or we&#39;re dragging from selected rows and we haven&#39;t begun a drag session</span></div>
<div class="line"><a name="l04530"></a><span class="lineno"> 4530</span>&#160;    <span class="keywordflow">if</span> (!_isSelectingSession &amp;&amp; [<span class="keyword">self</span> _dataSourceRespondsToWriteRowsWithIndexesToPasteboard])</div>
<div class="line"><a name="l04531"></a><span class="lineno"> 4531</span>&#160;    {</div>
<div class="line"><a name="l04532"></a><span class="lineno"> 4532</span>&#160;        <span class="keywordflow">if</span> (row &gt;= 0 &amp;&amp; (ABS(_startTrackingPoint.x - aPoint.x) &gt; 3 || (_verticalMotionCanDrag &amp;&amp; ABS(_startTrackingPoint.y - aPoint.y) &gt; 3)) ||</div>
<div class="line"><a name="l04533"></a><span class="lineno"> 4533</span>&#160;            ([_selectedRowIndexes containsIndex:row]))</div>
<div class="line"><a name="l04534"></a><span class="lineno"> 4534</span>&#160;        {</div>
<div class="line"><a name="l04535"></a><span class="lineno"> 4535</span>&#160;            <span class="keywordflow">if</span> ([_selectedRowIndexes containsIndex:row])</div>
<div class="line"><a name="l04536"></a><span class="lineno"> 4536</span>&#160;                _draggedRowIndexes = [[<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a> <a class="code" href="class_c_p_object.html#aa6d290852c6a151058e8e82d053db475">alloc</a>] <a class="code" href="interface_c_p_index_set.html#a9eacbcbc06b50caf7630354dc33da8c3">initWithIndexSet</a>:_selectedRowIndexes];</div>
<div class="line"><a name="l04537"></a><span class="lineno"> 4537</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l04538"></a><span class="lineno"> 4538</span>&#160;                _draggedRowIndexes = [<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a> <a class="code" href="interface_c_p_index_set.html#a4aa683fde78ba593d0e70040125ed306">indexSetWithIndex</a>:row];</div>
<div class="line"><a name="l04539"></a><span class="lineno"> 4539</span>&#160;</div>
<div class="line"><a name="l04540"></a><span class="lineno"> 4540</span>&#160;            <span class="comment">//ask the datasource for the data</span></div>
<div class="line"><a name="l04541"></a><span class="lineno"> 4541</span>&#160;            var pboard = [<a class="code" href="interface_c_p_pasteboard.html">CPPasteboard</a> <a class="code" href="interface_c_p_pasteboard.html#adc671279bc4d0608ebe421e4657ecd07">pasteboardWithName</a>:CPDragPboard];</div>
<div class="line"><a name="l04542"></a><span class="lineno"> 4542</span>&#160;</div>
<div class="line"><a name="l04543"></a><span class="lineno"> 4543</span>&#160;            <span class="keywordflow">if</span> ([<span class="keyword">self</span> canDragRowsWithIndexes:_draggedRowIndexes atPoint:aPoint] &amp;&amp; [<span class="keyword">self</span> _sendDataSourceWriteRowsWithIndexes:_draggedRowIndexes toPasteboard:pboard])</div>
<div class="line"><a name="l04544"></a><span class="lineno"> 4544</span>&#160;            {</div>
<div class="line"><a name="l04545"></a><span class="lineno"> 4545</span>&#160;                var currentEvent = [CPApp currentEvent],</div>
<div class="line"><a name="l04546"></a><span class="lineno"> 4546</span>&#160;                    offset = CGPointMakeZero(),</div>
<div class="line"><a name="l04547"></a><span class="lineno"> 4547</span>&#160;                    tableColumns = [_tableColumns objectsAtIndexes:_exposedColumns];</div>
<div class="line"><a name="l04548"></a><span class="lineno"> 4548</span>&#160;</div>
<div class="line"><a name="l04549"></a><span class="lineno"> 4549</span>&#160;                <span class="comment">// We deviate from the default Cocoa implementation here by asking for a view in stead of an image</span></div>
<div class="line"><a name="l04550"></a><span class="lineno"> 4550</span>&#160;                <span class="comment">// We support both, but the view preferred over the image because we can mimic the rows we are dragging</span></div>
<div class="line"><a name="l04551"></a><span class="lineno"> 4551</span>&#160;                <span class="comment">// by re-creating the data views for the dragged rows</span></div>
<div class="line"><a name="l04552"></a><span class="lineno"> 4552</span>&#160;                var view = [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a094bbe4cb452c6c540b46ad612fb66f9">dragViewForRowsWithIndexes</a>:_draggedRowIndexes</div>
<div class="line"><a name="l04553"></a><span class="lineno"> 4553</span>&#160;                                               <a class="code" href="interface_c_p_table_view.html#a094bbe4cb452c6c540b46ad612fb66f9">tableColumns</a>:tableColumns</div>
<div class="line"><a name="l04554"></a><span class="lineno"> 4554</span>&#160;                                                      <a class="code" href="interface_c_p_table_view.html#a094bbe4cb452c6c540b46ad612fb66f9">event</a>:currentEvent</div>
<div class="line"><a name="l04555"></a><span class="lineno"> 4555</span>&#160;                                                     <a class="code" href="interface_c_p_table_view.html#a094bbe4cb452c6c540b46ad612fb66f9">offset</a>:offset];</div>
<div class="line"><a name="l04556"></a><span class="lineno"> 4556</span>&#160;</div>
<div class="line"><a name="l04557"></a><span class="lineno"> 4557</span>&#160;                <span class="keywordflow">if</span> (!view)</div>
<div class="line"><a name="l04558"></a><span class="lineno"> 4558</span>&#160;                {</div>
<div class="line"><a name="l04559"></a><span class="lineno"> 4559</span>&#160;                    var image = [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a62fac1ba2cdd4209fc686134972885b6">dragImageForRowsWithIndexes</a>:_draggedRowIndexes</div>
<div class="line"><a name="l04560"></a><span class="lineno"> 4560</span>&#160;                                                     <a class="code" href="interface_c_p_table_view.html#a62fac1ba2cdd4209fc686134972885b6">tableColumns</a>:tableColumns</div>
<div class="line"><a name="l04561"></a><span class="lineno"> 4561</span>&#160;                                                            <a class="code" href="interface_c_p_table_view.html#a62fac1ba2cdd4209fc686134972885b6">event</a>:currentEvent</div>
<div class="line"><a name="l04562"></a><span class="lineno"> 4562</span>&#160;                                                           <a class="code" href="interface_c_p_table_view.html#a62fac1ba2cdd4209fc686134972885b6">offset</a>:offset];</div>
<div class="line"><a name="l04563"></a><span class="lineno"> 4563</span>&#160;                    view = [[<a class="code" href="interface_c_p_image_view.html">CPImageView</a> <a class="code" href="class_c_p_object.html#aa6d290852c6a151058e8e82d053db475">alloc</a>] initWithFrame:CGRectMake(0, 0, [image size].width, [image size].height)];</div>
<div class="line"><a name="l04564"></a><span class="lineno"> 4564</span>&#160;                    [view setImage:image];</div>
<div class="line"><a name="l04565"></a><span class="lineno"> 4565</span>&#160;                }</div>
<div class="line"><a name="l04566"></a><span class="lineno"> 4566</span>&#160;</div>
<div class="line"><a name="l04567"></a><span class="lineno"> 4567</span>&#160;                var <a class="code" href="_c_a_layer_8j.html#a76e98e4f35c628cffcb1a388ec583bec">bounds</a> = [view bounds],</div>
<div class="line"><a name="l04568"></a><span class="lineno"> 4568</span>&#160;                    viewLocation = CGPointMake(aPoint.x - CGRectGetWidth(bounds) / 2 + offset.x, aPoint.y - CGRectGetHeight(bounds) / 2 + offset.y);</div>
<div class="line"><a name="l04569"></a><span class="lineno"> 4569</span>&#160;                [<span class="keyword">self</span> <a class="code" href="interface_c_p_view.html#aff931bfcefcbab095e6ec57d34759770">dragView</a>:view <a class="code" href="interface_c_p_view.html#aff931bfcefcbab095e6ec57d34759770">at</a>:viewLocation <a class="code" href="interface_c_p_view.html#aff931bfcefcbab095e6ec57d34759770">offset</a>:CGPointMakeZero() <a class="code" href="interface_c_p_view.html#aff931bfcefcbab095e6ec57d34759770">event</a>:[CPApp currentEvent] <a class="code" href="interface_c_p_view.html#aff931bfcefcbab095e6ec57d34759770">pasteboard</a>:pboard <a class="code" href="interface_c_p_view.html#aff931bfcefcbab095e6ec57d34759770">source</a>:self <a class="code" href="interface_c_p_view.html#aff931bfcefcbab095e6ec57d34759770">slideBack</a>:YES];</div>
<div class="line"><a name="l04570"></a><span class="lineno"> 4570</span>&#160;                _startTrackingPoint = nil;</div>
<div class="line"><a name="l04571"></a><span class="lineno"> 4571</span>&#160;</div>
<div class="line"><a name="l04572"></a><span class="lineno"> 4572</span>&#160;                <span class="keywordflow">return</span> NO;</div>
<div class="line"><a name="l04573"></a><span class="lineno"> 4573</span>&#160;            }</div>
<div class="line"><a name="l04574"></a><span class="lineno"> 4574</span>&#160;</div>
<div class="line"><a name="l04575"></a><span class="lineno"> 4575</span>&#160;            <span class="comment">// The delegate disallowed the drag so clear the dragged row indexes</span></div>
<div class="line"><a name="l04576"></a><span class="lineno"> 4576</span>&#160;            _draggedRowIndexes = [<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a> <a class="code" href="interface_c_p_index_set.html#a339845eb2d96fae878209105dde5e140">indexSet</a>];</div>
<div class="line"><a name="l04577"></a><span class="lineno"> 4577</span>&#160;        }</div>
<div class="line"><a name="l04578"></a><span class="lineno"> 4578</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ABS(_startTrackingPoint.x - aPoint.x) &lt; 5 &amp;&amp; ABS(_startTrackingPoint.y - aPoint.y) &lt; 5)</div>
<div class="line"><a name="l04579"></a><span class="lineno"> 4579</span>&#160;            <span class="keywordflow">return</span> YES;</div>
<div class="line"><a name="l04580"></a><span class="lineno"> 4580</span>&#160;    }</div>
<div class="line"><a name="l04581"></a><span class="lineno"> 4581</span>&#160;</div>
<div class="line"><a name="l04582"></a><span class="lineno"> 4582</span>&#160;    _isSelectingSession = YES;</div>
<div class="line"><a name="l04583"></a><span class="lineno"> 4583</span>&#160;    <span class="keywordflow">if</span> (row &gt;= 0 &amp;&amp; row !== _lastTrackedRowIndex)</div>
<div class="line"><a name="l04584"></a><span class="lineno"> 4584</span>&#160;    {</div>
<div class="line"><a name="l04585"></a><span class="lineno"> 4585</span>&#160;        _lastTrackedRowIndex = row;</div>
<div class="line"><a name="l04586"></a><span class="lineno"> 4586</span>&#160;        [<span class="keyword">self</span> _updateSelectionWithMouseAtRow:row];</div>
<div class="line"><a name="l04587"></a><span class="lineno"> 4587</span>&#160;    }</div>
<div class="line"><a name="l04588"></a><span class="lineno"> 4588</span>&#160;</div>
<div class="line"><a name="l04589"></a><span class="lineno"> 4589</span>&#160;    <span class="keywordflow">if</span> ([<span class="keyword">self</span> _dataSourceRespondsToSetObjectValueForTableColumnRow]</div>
<div class="line"><a name="l04590"></a><span class="lineno"> 4590</span>&#160;        &amp;&amp; !_trackingPointMovedOutOfClickSlop)</div>
<div class="line"><a name="l04591"></a><span class="lineno"> 4591</span>&#160;    {</div>
<div class="line"><a name="l04592"></a><span class="lineno"> 4592</span>&#160;        var CLICK_SPACE_DELTA = 5.0; <span class="comment">// Stolen from AppKit/Platform/DOM/CPPlatformWindow+DOM.j</span></div>
<div class="line"><a name="l04593"></a><span class="lineno"> 4593</span>&#160;        <span class="keywordflow">if</span> (ABS(aPoint.x - _startTrackingPoint.x) &gt; CLICK_SPACE_DELTA</div>
<div class="line"><a name="l04594"></a><span class="lineno"> 4594</span>&#160;            || ABS(aPoint.y - _startTrackingPoint.y) &gt; CLICK_SPACE_DELTA)</div>
<div class="line"><a name="l04595"></a><span class="lineno"> 4595</span>&#160;        {</div>
<div class="line"><a name="l04596"></a><span class="lineno"> 4596</span>&#160;            _trackingPointMovedOutOfClickSlop = YES;</div>
<div class="line"><a name="l04597"></a><span class="lineno"> 4597</span>&#160;        }</div>
<div class="line"><a name="l04598"></a><span class="lineno"> 4598</span>&#160;    }</div>
<div class="line"><a name="l04599"></a><span class="lineno"> 4599</span>&#160;</div>
<div class="line"><a name="l04600"></a><span class="lineno"> 4600</span>&#160;    <span class="keywordflow">return</span> YES;</div>
<div class="line"><a name="l04601"></a><span class="lineno"> 4601</span>&#160;}</div>
<div class="line"><a name="l04602"></a><span class="lineno"> 4602</span>&#160;</div>
<div class="line"><a name="l04606"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a3b1fa54e2fd7aa107531a00790b725ed"> 4606</a></span>&#160;- (void)stopTracking:(CGPoint)lastPoint at:(CGPoint)aPoint mouseIsUp:(BOOL)mouseIsUp</div>
<div class="line"><a name="l04607"></a><span class="lineno"> 4607</span>&#160;{</div>
<div class="line"><a name="l04608"></a><span class="lineno"> 4608</span>&#160;    _isSelectingSession = NO;</div>
<div class="line"><a name="l04609"></a><span class="lineno"> 4609</span>&#160;</div>
<div class="line"><a name="l04610"></a><span class="lineno"> 4610</span>&#160;    var CLICK_TIME_DELTA = 1000,</div>
<div class="line"><a name="l04611"></a><span class="lineno"> 4611</span>&#160;        <a class="code" href="_c_p_table_view_8j.html#a8fcaace9d7ea1c63a8ab03f24af2fbae">columnIndex</a> = -1,</div>
<div class="line"><a name="l04612"></a><span class="lineno"> 4612</span>&#160;        column,</div>
<div class="line"><a name="l04613"></a><span class="lineno"> 4613</span>&#160;        rowIndex,</div>
<div class="line"><a name="l04614"></a><span class="lineno"> 4614</span>&#160;        shouldEdit = YES;</div>
<div class="line"><a name="l04615"></a><span class="lineno"> 4615</span>&#160;</div>
<div class="line"><a name="l04616"></a><span class="lineno"> 4616</span>&#160;    _clickedRow = [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a6f1d4aad7598b4ca189e2a262d51cd08">rowAtPoint</a>:aPoint];</div>
<div class="line"><a name="l04617"></a><span class="lineno"> 4617</span>&#160;    _clickedColumn = [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#aa5bce119e8c4b79e4ed0f9a10172996d">columnAtPoint</a>:aPoint];</div>
<div class="line"><a name="l04618"></a><span class="lineno"> 4618</span>&#160;</div>
<div class="line"><a name="l04619"></a><span class="lineno"> 4619</span>&#160;    <span class="keywordflow">if</span> ([<span class="keyword">self</span> _dataSourceRespondsToWriteRowsWithIndexesToPasteboard])</div>
<div class="line"><a name="l04620"></a><span class="lineno"> 4620</span>&#160;    {</div>
<div class="line"><a name="l04621"></a><span class="lineno"> 4621</span>&#160;        rowIndex = _clickedRow;</div>
<div class="line"><a name="l04622"></a><span class="lineno"> 4622</span>&#160;</div>
<div class="line"><a name="l04623"></a><span class="lineno"> 4623</span>&#160;        <span class="keywordflow">if</span> (rowIndex !== -1)</div>
<div class="line"><a name="l04624"></a><span class="lineno"> 4624</span>&#160;        {</div>
<div class="line"><a name="l04625"></a><span class="lineno"> 4625</span>&#160;            <span class="keywordflow">if</span> ([_draggedRowIndexes count] &gt; 0)</div>
<div class="line"><a name="l04626"></a><span class="lineno"> 4626</span>&#160;            {</div>
<div class="line"><a name="l04627"></a><span class="lineno"> 4627</span>&#160;                _draggedRowIndexes = [<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a> <a class="code" href="interface_c_p_index_set.html#a339845eb2d96fae878209105dde5e140">indexSet</a>];</div>
<div class="line"><a name="l04628"></a><span class="lineno"> 4628</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04629"></a><span class="lineno"> 4629</span>&#160;            }</div>
<div class="line"><a name="l04630"></a><span class="lineno"> 4630</span>&#160;            <span class="comment">// if the table has drag support then we use mouseUp to select a single row.</span></div>
<div class="line"><a name="l04631"></a><span class="lineno"> 4631</span>&#160;             _previouslySelectedRowIndexes = [_selectedRowIndexes copy];</div>
<div class="line"><a name="l04632"></a><span class="lineno"> 4632</span>&#160;            [<span class="keyword">self</span> _updateSelectionWithMouseAtRow:rowIndex];</div>
<div class="line"><a name="l04633"></a><span class="lineno"> 4633</span>&#160;        }</div>
<div class="line"><a name="l04634"></a><span class="lineno"> 4634</span>&#160;    }</div>
<div class="line"><a name="l04635"></a><span class="lineno"> 4635</span>&#160;</div>
<div class="line"><a name="l04636"></a><span class="lineno"> 4636</span>&#160;    <span class="comment">// Accept either tableView:setObjectValue:forTableColumn:row: delegate method, or a binding.</span></div>
<div class="line"><a name="l04637"></a><span class="lineno"> 4637</span>&#160;    <span class="keywordflow">if</span> (!_isViewBased &amp;&amp; mouseIsUp</div>
<div class="line"><a name="l04638"></a><span class="lineno"> 4638</span>&#160;        &amp;&amp; !_trackingPointMovedOutOfClickSlop</div>
<div class="line"><a name="l04639"></a><span class="lineno"> 4639</span>&#160;        &amp;&amp; ([[<a class="code" href="_c_p_application___constants_8j.html#a428912231c07effc32c420ee523bf0b7">CPApp</a> currentEvent] clickCount] &gt; 1)</div>
<div class="line"><a name="l04640"></a><span class="lineno"> 4640</span>&#160;        &amp;&amp; ([<span class="keyword">self</span> _dataSourceRespondsToSetObjectValueForTableColumnRow]</div>
<div class="line"><a name="l04641"></a><span class="lineno"> 4641</span>&#160;            || [<span class="keyword">self</span> infoForBinding:<span class="stringliteral">@&quot;content&quot;</span>]))</div>
<div class="line"><a name="l04642"></a><span class="lineno"> 4642</span>&#160;    {</div>
<div class="line"><a name="l04643"></a><span class="lineno"> 4643</span>&#160;        <a class="code" href="_c_p_table_view_8j.html#a8fcaace9d7ea1c63a8ab03f24af2fbae">columnIndex</a> = _clickedColumn;</div>
<div class="line"><a name="l04644"></a><span class="lineno"> 4644</span>&#160;</div>
<div class="line"><a name="l04645"></a><span class="lineno"> 4645</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="_c_p_table_view_8j.html#a8fcaace9d7ea1c63a8ab03f24af2fbae">columnIndex</a> !== -1)</div>
<div class="line"><a name="l04646"></a><span class="lineno"> 4646</span>&#160;        {</div>
<div class="line"><a name="l04647"></a><span class="lineno"> 4647</span>&#160;            column = _tableColumns[columnIndex];</div>
<div class="line"><a name="l04648"></a><span class="lineno"> 4648</span>&#160;</div>
<div class="line"><a name="l04649"></a><span class="lineno"> 4649</span>&#160;            <span class="keywordflow">if</span> ([column isEditable])</div>
<div class="line"><a name="l04650"></a><span class="lineno"> 4650</span>&#160;            {</div>
<div class="line"><a name="l04651"></a><span class="lineno"> 4651</span>&#160;                rowIndex = [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a6f1d4aad7598b4ca189e2a262d51cd08">rowAtPoint</a>:aPoint];</div>
<div class="line"><a name="l04652"></a><span class="lineno"> 4652</span>&#160;</div>
<div class="line"><a name="l04653"></a><span class="lineno"> 4653</span>&#160;                <span class="keywordflow">if</span> (rowIndex !== -1)</div>
<div class="line"><a name="l04654"></a><span class="lineno"> 4654</span>&#160;                {</div>
<div class="line"><a name="l04655"></a><span class="lineno"> 4655</span>&#160;                    <span class="keywordflow">if</span> ([<span class="keyword">self</span> _sendDelegateShouldEditTableColumn:column row:rowIndex])</div>
<div class="line"><a name="l04656"></a><span class="lineno"> 4656</span>&#160;                    {</div>
<div class="line"><a name="l04657"></a><span class="lineno"> 4657</span>&#160;                        [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a4787c1ca24a7e508bc95eabd86eddbbf">editColumn</a>:columnIndex <a class="code" href="interface_c_p_table_view.html#a4787c1ca24a7e508bc95eabd86eddbbf">row</a>:rowIndex <a class="code" href="interface_c_p_table_view.html#a4787c1ca24a7e508bc95eabd86eddbbf">withEvent</a>:nil <a class="code" href="interface_c_p_table_view.html#a4787c1ca24a7e508bc95eabd86eddbbf">select</a>:YES];</div>
<div class="line"><a name="l04658"></a><span class="lineno"> 4658</span>&#160;                        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04659"></a><span class="lineno"> 4659</span>&#160;                    }</div>
<div class="line"><a name="l04660"></a><span class="lineno"> 4660</span>&#160;                }</div>
<div class="line"><a name="l04661"></a><span class="lineno"> 4661</span>&#160;            }</div>
<div class="line"><a name="l04662"></a><span class="lineno"> 4662</span>&#160;        }</div>
<div class="line"><a name="l04663"></a><span class="lineno"> 4663</span>&#160;</div>
<div class="line"><a name="l04664"></a><span class="lineno"> 4664</span>&#160;    } <span class="comment">//end of editing conditional</span></div>
<div class="line"><a name="l04665"></a><span class="lineno"> 4665</span>&#160;</div>
<div class="line"><a name="l04666"></a><span class="lineno"> 4666</span>&#160;    <span class="comment">//double click actions</span></div>
<div class="line"><a name="l04667"></a><span class="lineno"> 4667</span>&#160;    <span class="keywordflow">if</span> ([[<a class="code" href="_c_p_application___constants_8j.html#a428912231c07effc32c420ee523bf0b7">CPApp</a> currentEvent] clickCount] === 2 &amp;&amp; _doubleAction)</div>
<div class="line"><a name="l04668"></a><span class="lineno"> 4668</span>&#160;        [<span class="keyword">self</span> <a class="code" href="interface_c_p_control.html#a29cd2ce9301709d266fc7f920c901ade">sendAction</a>:_doubleAction <a class="code" href="interface_c_p_control.html#a29cd2ce9301709d266fc7f920c901ade">to</a>:_target];</div>
<div class="line"><a name="l04669"></a><span class="lineno"> 4669</span>&#160;}</div>
<div class="line"><a name="l04670"></a><span class="lineno"> 4670</span>&#160;</div>
<div class="line"><a name="l04671"></a><span class="lineno"> 4671</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l04672"></a><span class="lineno"> 4672</span>&#160;<span class="comment">    @ignore</span></div>
<div class="line"><a name="l04673"></a><span class="lineno"> 4673</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l04674"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a917e31de3a4edadbd66e2c2095b70951"> 4674</a></span>&#160;- (CPDragOperation)draggingEntered:(<span class="keywordtype">id</span>)sender</div>
<div class="line"><a name="l04675"></a><span class="lineno"> 4675</span>&#160;{</div>
<div class="line"><a name="l04676"></a><span class="lineno"> 4676</span>&#160;    var location = [<span class="keyword">self</span> <a class="code" href="interface_c_p_view.html#ae2bfa5f8caa8e73b81f97180c50cd80f">convertPoint</a>:[sender draggingLocation] <a class="code" href="interface_c_p_view.html#ae2bfa5f8caa8e73b81f97180c50cd80f">fromView</a>:nil],</div>
<div class="line"><a name="l04677"></a><span class="lineno"> 4677</span>&#160;        dropOperation = [<span class="keyword">self</span> _proposedDropOperationAtPoint:location],</div>
<div class="line"><a name="l04678"></a><span class="lineno"> 4678</span>&#160;        row = [<span class="keyword">self</span> _proposedRowAtPoint:location];</div>
<div class="line"><a name="l04679"></a><span class="lineno"> 4679</span>&#160;</div>
<div class="line"><a name="l04680"></a><span class="lineno"> 4680</span>&#160;    <span class="keywordflow">if</span> (_retargetedDropRow !== nil)</div>
<div class="line"><a name="l04681"></a><span class="lineno"> 4681</span>&#160;        row = _retargetedDropRow;</div>
<div class="line"><a name="l04682"></a><span class="lineno"> 4682</span>&#160;</div>
<div class="line"><a name="l04683"></a><span class="lineno"> 4683</span>&#160;    var draggedTypes = [<span class="keyword">self</span> <a class="code" href="interface_c_p_view.html#ad1ecd9b6aa16014db655dff71ad7236b">registeredDraggedTypes</a>],</div>
<div class="line"><a name="l04684"></a><span class="lineno"> 4684</span>&#160;        count = [draggedTypes count],</div>
<div class="line"><a name="l04685"></a><span class="lineno"> 4685</span>&#160;        i = 0;</div>
<div class="line"><a name="l04686"></a><span class="lineno"> 4686</span>&#160;</div>
<div class="line"><a name="l04687"></a><span class="lineno"> 4687</span>&#160;    <span class="keywordflow">for</span> (; i &lt; count; i++)</div>
<div class="line"><a name="l04688"></a><span class="lineno"> 4688</span>&#160;    {</div>
<div class="line"><a name="l04689"></a><span class="lineno"> 4689</span>&#160;        <span class="keywordflow">if</span> ([[[sender draggingPasteboard] types] containsObject:[draggedTypes objectAtIndex: i]])</div>
<div class="line"><a name="l04690"></a><span class="lineno"> 4690</span>&#160;            <span class="keywordflow">return</span> [<span class="keyword">self</span> _sendDataSourceValidateDrop:sender proposedRow:row proposedDropOperation:dropOperation];</div>
<div class="line"><a name="l04691"></a><span class="lineno"> 4691</span>&#160;    }</div>
<div class="line"><a name="l04692"></a><span class="lineno"> 4692</span>&#160;</div>
<div class="line"><a name="l04693"></a><span class="lineno"> 4693</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="_c_p_drag_server___constants_8j.html#a4c8a51b72ef80d850f6d42fc94223ec5">CPDragOperationNone</a>;</div>
<div class="line"><a name="l04694"></a><span class="lineno"> 4694</span>&#160;}</div>
<div class="line"><a name="l04695"></a><span class="lineno"> 4695</span>&#160;</div>
<div class="line"><a name="l04696"></a><span class="lineno"> 4696</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l04697"></a><span class="lineno"> 4697</span>&#160;<span class="comment">    @ignore</span></div>
<div class="line"><a name="l04698"></a><span class="lineno"> 4698</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l04699"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a7184eae8871a2f1046906dbd68ed4e5f"> 4699</a></span>&#160;- (void)draggingExited:(<span class="keywordtype">id</span>)sender</div>
<div class="line"><a name="l04700"></a><span class="lineno"> 4700</span>&#160;{</div>
<div class="line"><a name="l04701"></a><span class="lineno"> 4701</span>&#160;    [_dropOperationFeedbackView removeFromSuperview];</div>
<div class="line"><a name="l04702"></a><span class="lineno"> 4702</span>&#160;}</div>
<div class="line"><a name="l04703"></a><span class="lineno"> 4703</span>&#160;</div>
<div class="line"><a name="l04704"></a><span class="lineno"> 4704</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l04705"></a><span class="lineno"> 4705</span>&#160;<span class="comment">    @ignore</span></div>
<div class="line"><a name="l04706"></a><span class="lineno"> 4706</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l04707"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a6db889a793062a09ddede1f02d991f5f"> 4707</a></span>&#160;- (void)draggingEnded:(<span class="keywordtype">id</span>)sender</div>
<div class="line"><a name="l04708"></a><span class="lineno"> 4708</span>&#160;{</div>
<div class="line"><a name="l04709"></a><span class="lineno"> 4709</span>&#160;    [<span class="keyword">self</span> _draggingEnded];</div>
<div class="line"><a name="l04710"></a><span class="lineno"> 4710</span>&#160;}</div>
<div class="line"><a name="l04711"></a><span class="lineno"> 4711</span>&#160;</div>
<div class="line"><a name="l04715"></a><span class="lineno"> 4715</span>&#160;- (void)_draggingEnded</div>
<div class="line"><a name="l04716"></a><span class="lineno"> 4716</span>&#160;{</div>
<div class="line"><a name="l04717"></a><span class="lineno"> 4717</span>&#160;    _retargetedDropOperation = nil;</div>
<div class="line"><a name="l04718"></a><span class="lineno"> 4718</span>&#160;    _retargetedDropRow = nil;</div>
<div class="line"><a name="l04719"></a><span class="lineno"> 4719</span>&#160;    _draggedRowIndexes = [<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a> <a class="code" href="interface_c_p_index_set.html#a339845eb2d96fae878209105dde5e140">indexSet</a>];</div>
<div class="line"><a name="l04720"></a><span class="lineno"> 4720</span>&#160;    [_dropOperationFeedbackView removeFromSuperview];</div>
<div class="line"><a name="l04721"></a><span class="lineno"> 4721</span>&#160;}</div>
<div class="line"><a name="l04722"></a><span class="lineno"> 4722</span>&#160;</div>
<div class="line"><a name="l04723"></a><span class="lineno"> 4723</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l04724"></a><span class="lineno"> 4724</span>&#160;<span class="comment">    @ignore</span></div>
<div class="line"><a name="l04725"></a><span class="lineno"> 4725</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l04726"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a84a148402b33c5309fb33eb077d016d0"> 4726</a></span>&#160;- (BOOL)wantsPeriodicDraggingUpdates</div>
<div class="line"><a name="l04727"></a><span class="lineno"> 4727</span>&#160;{</div>
<div class="line"><a name="l04728"></a><span class="lineno"> 4728</span>&#160;    <span class="keywordflow">return</span> YES;</div>
<div class="line"><a name="l04729"></a><span class="lineno"> 4729</span>&#160;}</div>
<div class="line"><a name="l04730"></a><span class="lineno"> 4730</span>&#160;</div>
<div class="line"><a name="l04731"></a><span class="lineno"> 4731</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l04732"></a><span class="lineno"> 4732</span>&#160;<span class="comment">    @ignore</span></div>
<div class="line"><a name="l04733"></a><span class="lineno"> 4733</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l04734"></a><span class="lineno"> 4734</span>&#160;- (CPTableViewDropOperation)_proposedDropOperationAtPoint:(CGPoint)theDragPoint</div>
<div class="line"><a name="l04735"></a><span class="lineno"> 4735</span>&#160;{</div>
<div class="line"><a name="l04736"></a><span class="lineno"> 4736</span>&#160;    <span class="keywordflow">if</span> (_retargetedDropOperation !== nil)</div>
<div class="line"><a name="l04737"></a><span class="lineno"> 4737</span>&#160;        <span class="keywordflow">return</span> _retargetedDropOperation;</div>
<div class="line"><a name="l04738"></a><span class="lineno"> 4738</span>&#160;</div>
<div class="line"><a name="l04739"></a><span class="lineno"> 4739</span>&#160;    var row = [<span class="keyword">self</span> _proposedRowAtPoint:theDragPoint],</div>
<div class="line"><a name="l04740"></a><span class="lineno"> 4740</span>&#160;        rowRect = [<span class="keyword">self</span> rectOfRow:row];</div>
<div class="line"><a name="l04741"></a><span class="lineno"> 4741</span>&#160;</div>
<div class="line"><a name="l04742"></a><span class="lineno"> 4742</span>&#160;    <span class="comment">// If there is no (the default) or too little inter-cell spacing we create some room for the CPTableViewDropAbove indicator</span></div>
<div class="line"><a name="l04743"></a><span class="lineno"> 4743</span>&#160;    <span class="comment">// This probably doesn&#39;t work if the row height is smaller than or around 5.0</span></div>
<div class="line"><a name="l04744"></a><span class="lineno"> 4744</span>&#160;    <span class="keywordflow">if</span> ([<span class="keyword">self</span> intercellSpacing].height &lt; 5.0)</div>
<div class="line"><a name="l04745"></a><span class="lineno"> 4745</span>&#160;        rowRect = CGRectInset(rowRect, 0.0, 5.0 - [<span class="keyword">self</span> intercellSpacing].height);</div>
<div class="line"><a name="l04746"></a><span class="lineno"> 4746</span>&#160;</div>
<div class="line"><a name="l04747"></a><span class="lineno"> 4747</span>&#160;    <span class="comment">// If the altered row rect contains the drag point we show the drop on</span></div>
<div class="line"><a name="l04748"></a><span class="lineno"> 4748</span>&#160;    <span class="comment">// We don&#39;t show the drop on indicator if we are dragging below the last row</span></div>
<div class="line"><a name="l04749"></a><span class="lineno"> 4749</span>&#160;    <span class="comment">// in that case we always want to show the drop above indicator</span></div>
<div class="line"><a name="l04750"></a><span class="lineno"> 4750</span>&#160;    <span class="keywordflow">if</span> (CGRectContainsPoint(rowRect, theDragPoint) &amp;&amp; row &lt; _numberOfRows)</div>
<div class="line"><a name="l04751"></a><span class="lineno"> 4751</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="_c_p_table_view_8j.html#a279093eafa50075a94c202e0dd51861a">CPTableViewDropOn</a>;</div>
<div class="line"><a name="l04752"></a><span class="lineno"> 4752</span>&#160;</div>
<div class="line"><a name="l04753"></a><span class="lineno"> 4753</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="_c_p_table_view_8j.html#a4c2d1434c8bc5b937eeb47b55f5c74d0">CPTableViewDropAbove</a>;</div>
<div class="line"><a name="l04754"></a><span class="lineno"> 4754</span>&#160;}</div>
<div class="line"><a name="l04755"></a><span class="lineno"> 4755</span>&#160;</div>
<div class="line"><a name="l04756"></a><span class="lineno"> 4756</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l04757"></a><span class="lineno"> 4757</span>&#160;<span class="comment">    @ignore</span></div>
<div class="line"><a name="l04758"></a><span class="lineno"> 4758</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l04759"></a><span class="lineno"> 4759</span>&#160;- (CPInteger)_proposedRowAtPoint:(CGPoint)dragPoint</div>
<div class="line"><a name="l04760"></a><span class="lineno"> 4760</span>&#160;{</div>
<div class="line"><a name="l04761"></a><span class="lineno"> 4761</span>&#160;    var row = [<span class="keyword">self</span> rowAtPoint:dragPoint],</div>
<div class="line"><a name="l04762"></a><span class="lineno"> 4762</span>&#160;        <span class="comment">// Determine if the mouse is currently closer to this row or the row below it</span></div>
<div class="line"><a name="l04763"></a><span class="lineno"> 4763</span>&#160;        lowerRow = row + 1,</div>
<div class="line"><a name="l04764"></a><span class="lineno"> 4764</span>&#160;        rect = [self rectOfRow:row],</div>
<div class="line"><a name="l04765"></a><span class="lineno"> 4765</span>&#160;        bottomPoint = CGRectGetMaxY(rect),</div>
<div class="line"><a name="l04766"></a><span class="lineno"> 4766</span>&#160;        bottomThirty = bottomPoint - ((bottomPoint - CGRectGetMinY(rect)) * 0.3),</div>
<div class="line"><a name="l04767"></a><span class="lineno"> 4767</span>&#160;        numberOfRows = [self numberOfRows];</div>
<div class="line"><a name="l04768"></a><span class="lineno"> 4768</span>&#160;</div>
<div class="line"><a name="l04769"></a><span class="lineno"> 4769</span>&#160;    <span class="keywordflow">if</span> (row &lt; 0)</div>
<div class="line"><a name="l04770"></a><span class="lineno"> 4770</span>&#160;        row = (CGRectGetMaxY(rect) &lt; dragPoint.y) ? numberOfRows : row;</div>
<div class="line"><a name="l04771"></a><span class="lineno"> 4771</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dragPoint.y &gt; MAX(bottomThirty, bottomPoint - 6))</div>
<div class="line"><a name="l04772"></a><span class="lineno"> 4772</span>&#160;        row = lowerRow;</div>
<div class="line"><a name="l04773"></a><span class="lineno"> 4773</span>&#160;</div>
<div class="line"><a name="l04774"></a><span class="lineno"> 4774</span>&#160;    row = MIN(numberOfRows, row);</div>
<div class="line"><a name="l04775"></a><span class="lineno"> 4775</span>&#160;</div>
<div class="line"><a name="l04776"></a><span class="lineno"> 4776</span>&#160;    <span class="keywordflow">return</span> row;</div>
<div class="line"><a name="l04777"></a><span class="lineno"> 4777</span>&#160;}</div>
<div class="line"><a name="l04778"></a><span class="lineno"> 4778</span>&#160;</div>
<div class="line"><a name="l04782"></a><span class="lineno"> 4782</span>&#160;- (CGRect)_rectForDropHighlightViewOnRow:(CPInteger)theRowIndex</div>
<div class="line"><a name="l04783"></a><span class="lineno"> 4783</span>&#160;{</div>
<div class="line"><a name="l04784"></a><span class="lineno"> 4784</span>&#160;    <span class="keywordflow">if</span> (theRowIndex &gt;= [<span class="keyword">self</span> numberOfRows])</div>
<div class="line"><a name="l04785"></a><span class="lineno"> 4785</span>&#160;        theRowIndex = [<span class="keyword">self</span> numberOfRows] - 1;</div>
<div class="line"><a name="l04786"></a><span class="lineno"> 4786</span>&#160;</div>
<div class="line"><a name="l04787"></a><span class="lineno"> 4787</span>&#160;    <span class="keywordflow">return</span> [<span class="keyword">self</span> _rectOfRow:theRowIndex checkRange:NO];</div>
<div class="line"><a name="l04788"></a><span class="lineno"> 4788</span>&#160;}</div>
<div class="line"><a name="l04789"></a><span class="lineno"> 4789</span>&#160;</div>
<div class="line"><a name="l04793"></a><span class="lineno"> 4793</span>&#160;- (CGRect)_rectForDropHighlightViewBetweenUpperRow:(CPInteger)theUpperRowIndex andLowerRow:(CPInteger)theLowerRowIndex offset:(CGPoint)theOffset</div>
<div class="line"><a name="l04794"></a><span class="lineno"> 4794</span>&#160;{</div>
<div class="line"><a name="l04795"></a><span class="lineno"> 4795</span>&#160;    <span class="keywordflow">if</span> (theLowerRowIndex &gt; [<span class="keyword">self</span> numberOfRows])</div>
<div class="line"><a name="l04796"></a><span class="lineno"> 4796</span>&#160;        theLowerRowIndex = [<span class="keyword">self</span> numberOfRows];</div>
<div class="line"><a name="l04797"></a><span class="lineno"> 4797</span>&#160;</div>
<div class="line"><a name="l04798"></a><span class="lineno"> 4798</span>&#160;    <span class="keywordflow">return</span> [<span class="keyword">self</span> _rectOfRow:theLowerRowIndex checkRange:NO];</div>
<div class="line"><a name="l04799"></a><span class="lineno"> 4799</span>&#160;}</div>
<div class="line"><a name="l04800"></a><span class="lineno"> 4800</span>&#160;</div>
<div class="line"><a name="l04804"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#abeda677bfc7e10aac73b1fe55bb2dd9e"> 4804</a></span>&#160;- (CPDragOperation)draggingUpdated:(<span class="keywordtype">id</span>)sender</div>
<div class="line"><a name="l04805"></a><span class="lineno"> 4805</span>&#160;{</div>
<div class="line"><a name="l04806"></a><span class="lineno"> 4806</span>&#160;    _retargetedDropRow = nil;</div>
<div class="line"><a name="l04807"></a><span class="lineno"> 4807</span>&#160;    _retargetedDropOperation = nil;</div>
<div class="line"><a name="l04808"></a><span class="lineno"> 4808</span>&#160;</div>
<div class="line"><a name="l04809"></a><span class="lineno"> 4809</span>&#160;    var location = [<span class="keyword">self</span> <a class="code" href="interface_c_p_view.html#ae2bfa5f8caa8e73b81f97180c50cd80f">convertPoint</a>:[sender draggingLocation] <a class="code" href="interface_c_p_view.html#ae2bfa5f8caa8e73b81f97180c50cd80f">fromView</a>:nil],</div>
<div class="line"><a name="l04810"></a><span class="lineno"> 4810</span>&#160;        dropOperation = [<span class="keyword">self</span> _proposedDropOperationAtPoint:location],</div>
<div class="line"><a name="l04811"></a><span class="lineno"> 4811</span>&#160;        numberOfRows = [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#ab93d1883609b8aaca737188ee9667c17">numberOfRows</a>],</div>
<div class="line"><a name="l04812"></a><span class="lineno"> 4812</span>&#160;        row = [<span class="keyword">self</span> _proposedRowAtPoint:location],</div>
<div class="line"><a name="l04813"></a><span class="lineno"> 4813</span>&#160;        dragOperation = [<span class="keyword">self</span> _sendDataSourceValidateDrop:sender proposedRow:row proposedDropOperation:dropOperation];</div>
<div class="line"><a name="l04814"></a><span class="lineno"> 4814</span>&#160;</div>
<div class="line"><a name="l04815"></a><span class="lineno"> 4815</span>&#160;    <span class="keywordflow">if</span> (_retargetedDropRow !== nil)</div>
<div class="line"><a name="l04816"></a><span class="lineno"> 4816</span>&#160;        row = _retargetedDropRow;</div>
<div class="line"><a name="l04817"></a><span class="lineno"> 4817</span>&#160;</div>
<div class="line"><a name="l04818"></a><span class="lineno"> 4818</span>&#160;    <span class="keywordflow">if</span> (_retargetedDropOperation !== nil)</div>
<div class="line"><a name="l04819"></a><span class="lineno"> 4819</span>&#160;        dropOperation = _retargetedDropOperation;</div>
<div class="line"><a name="l04820"></a><span class="lineno"> 4820</span>&#160;</div>
<div class="line"><a name="l04821"></a><span class="lineno"> 4821</span>&#160;    <span class="keywordflow">if</span> (dropOperation === <a class="code" href="_c_p_table_view_8j.html#a279093eafa50075a94c202e0dd51861a">CPTableViewDropOn</a> &amp;&amp; row &gt;= numberOfRows)</div>
<div class="line"><a name="l04822"></a><span class="lineno"> 4822</span>&#160;        row = numberOfRows - 1;</div>
<div class="line"><a name="l04823"></a><span class="lineno"> 4823</span>&#160;</div>
<div class="line"><a name="l04824"></a><span class="lineno"> 4824</span>&#160;    var rect = CGRectMakeZero();</div>
<div class="line"><a name="l04825"></a><span class="lineno"> 4825</span>&#160;</div>
<div class="line"><a name="l04826"></a><span class="lineno"> 4826</span>&#160;    <span class="keywordflow">if</span> (row === -1)</div>
<div class="line"><a name="l04827"></a><span class="lineno"> 4827</span>&#160;        rect = [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#aafe2e8782dc906770b1dbfcbf97023a2">exposedRect</a>];</div>
<div class="line"><a name="l04828"></a><span class="lineno"> 4828</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dropOperation === <a class="code" href="_c_p_table_view_8j.html#a4c2d1434c8bc5b937eeb47b55f5c74d0">CPTableViewDropAbove</a>)</div>
<div class="line"><a name="l04829"></a><span class="lineno"> 4829</span>&#160;        rect = [<span class="keyword">self</span> _rectForDropHighlightViewBetweenUpperRow:row - 1 andLowerRow:row offset:location];</div>
<div class="line"><a name="l04830"></a><span class="lineno"> 4830</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l04831"></a><span class="lineno"> 4831</span>&#160;        rect = [<span class="keyword">self</span> _rectForDropHighlightViewOnRow:row];</div>
<div class="line"><a name="l04832"></a><span class="lineno"> 4832</span>&#160;</div>
<div class="line"><a name="l04833"></a><span class="lineno"> 4833</span>&#160;    [_dropOperationFeedbackView setDropOperation:row !== -1 ? dropOperation : CPDragOperationNone];</div>
<div class="line"><a name="l04834"></a><span class="lineno"> 4834</span>&#160;    [_dropOperationFeedbackView setHidden:(dragOperation == CPDragOperationNone)];</div>
<div class="line"><a name="l04835"></a><span class="lineno"> 4835</span>&#160;    [_dropOperationFeedbackView setFrame:rect];</div>
<div class="line"><a name="l04836"></a><span class="lineno"> 4836</span>&#160;    [_dropOperationFeedbackView setCurrentRow:row];</div>
<div class="line"><a name="l04837"></a><span class="lineno"> 4837</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_view.html#af4924adfc835aab52b493d32b8f49397">addSubview</a>:_dropOperationFeedbackView];</div>
<div class="line"><a name="l04838"></a><span class="lineno"> 4838</span>&#160;</div>
<div class="line"><a name="l04839"></a><span class="lineno"> 4839</span>&#160;    <span class="keywordflow">return</span> dragOperation;</div>
<div class="line"><a name="l04840"></a><span class="lineno"> 4840</span>&#160;}</div>
<div class="line"><a name="l04841"></a><span class="lineno"> 4841</span>&#160;</div>
<div class="line"><a name="l04842"></a><span class="lineno"> 4842</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l04843"></a><span class="lineno"> 4843</span>&#160;<span class="comment">    @ignore</span></div>
<div class="line"><a name="l04844"></a><span class="lineno"> 4844</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l04845"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a1dbc3c06724af6921ba35a9c15b5c7c5"> 4845</a></span>&#160;- (BOOL)prepareForDragOperation:(<span class="keywordtype">id</span>)sender</div>
<div class="line"><a name="l04846"></a><span class="lineno"> 4846</span>&#160;{</div>
<div class="line"><a name="l04847"></a><span class="lineno"> 4847</span>&#160;    <span class="comment">// FIX ME: is there anything else that needs to happen here?</span></div>
<div class="line"><a name="l04848"></a><span class="lineno"> 4848</span>&#160;    <span class="comment">// actual validation is called in draggingUpdated:</span></div>
<div class="line"><a name="l04849"></a><span class="lineno"> 4849</span>&#160;    [_dropOperationFeedbackView removeFromSuperview];</div>
<div class="line"><a name="l04850"></a><span class="lineno"> 4850</span>&#160;</div>
<div class="line"><a name="l04851"></a><span class="lineno"> 4851</span>&#160;    <span class="keywordflow">return</span> [<span class="keyword">self</span> _dataSourceRespondsToValidateDropProposedRowProposedDropOperation];</div>
<div class="line"><a name="l04852"></a><span class="lineno"> 4852</span>&#160;}</div>
<div class="line"><a name="l04853"></a><span class="lineno"> 4853</span>&#160;</div>
<div class="line"><a name="l04854"></a><span class="lineno"> 4854</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l04855"></a><span class="lineno"> 4855</span>&#160;<span class="comment">    @ignore</span></div>
<div class="line"><a name="l04856"></a><span class="lineno"> 4856</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l04857"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#af404297dc87b64a9111ed86eaa4f0881"> 4857</a></span>&#160;- (BOOL)performDragOperation:(<span class="keywordtype">id</span>)sender</div>
<div class="line"><a name="l04858"></a><span class="lineno"> 4858</span>&#160;{</div>
<div class="line"><a name="l04859"></a><span class="lineno"> 4859</span>&#160;    var location = [<span class="keyword">self</span> <a class="code" href="interface_c_p_view.html#ae2bfa5f8caa8e73b81f97180c50cd80f">convertPoint</a>:[sender draggingLocation] <a class="code" href="interface_c_p_view.html#ae2bfa5f8caa8e73b81f97180c50cd80f">fromView</a>:nil],</div>
<div class="line"><a name="l04860"></a><span class="lineno"> 4860</span>&#160;        operation = [<span class="keyword">self</span> _proposedDropOperationAtPoint:location],</div>
<div class="line"><a name="l04861"></a><span class="lineno"> 4861</span>&#160;        row = _retargetedDropRow;</div>
<div class="line"><a name="l04862"></a><span class="lineno"> 4862</span>&#160;</div>
<div class="line"><a name="l04863"></a><span class="lineno"> 4863</span>&#160;    <span class="keywordflow">if</span> (row === nil)</div>
<div class="line"><a name="l04864"></a><span class="lineno"> 4864</span>&#160;        var row = [<span class="keyword">self</span> _proposedRowAtPoint:location];</div>
<div class="line"><a name="l04865"></a><span class="lineno"> 4865</span>&#160;</div>
<div class="line"><a name="l04866"></a><span class="lineno"> 4866</span>&#160;    <span class="keywordflow">return</span> [<span class="keyword">self</span> _sendDataSourceAcceptDrop:sender row:row dropOperation:operation];</div>
<div class="line"><a name="l04867"></a><span class="lineno"> 4867</span>&#160;}</div>
<div class="line"><a name="l04868"></a><span class="lineno"> 4868</span>&#160;</div>
<div class="line"><a name="l04869"></a><span class="lineno"> 4869</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l04870"></a><span class="lineno"> 4870</span>&#160;<span class="comment">    @ignore</span></div>
<div class="line"><a name="l04871"></a><span class="lineno"> 4871</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l04872"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a9c2df81b08de90e3ca739e8433d1e4b1"> 4872</a></span>&#160;- (void)concludeDragOperation:(<span class="keywordtype">id</span>)sender</div>
<div class="line"><a name="l04873"></a><span class="lineno"> 4873</span>&#160;{</div>
<div class="line"><a name="l04874"></a><span class="lineno"> 4874</span>&#160;    [<span class="keyword">self</span> _reloadDataViews];</div>
<div class="line"><a name="l04875"></a><span class="lineno"> 4875</span>&#160;}</div>
<div class="line"><a name="l04876"></a><span class="lineno"> 4876</span>&#160;</div>
<div class="line"><a name="l04877"></a><span class="lineno"> 4877</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l04878"></a><span class="lineno"> 4878</span>&#160;<span class="comment">    @ignore</span></div>
<div class="line"><a name="l04879"></a><span class="lineno"> 4879</span>&#160;<span class="comment">    We&#39;re using this because we drag views instead of images so we can get the rows themselves to actually drag.</span></div>
<div class="line"><a name="l04880"></a><span class="lineno"> 4880</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l04881"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a91b55cc101d16dead6206293bdfa11c1"> 4881</a></span>&#160;- (void)draggedView:(<a class="code" href="interface_c_p_image.html">CPImage</a>)aView endedAt:(CGPoint)aLocation operation:(CPDragOperation)anOperation</div>
<div class="line"><a name="l04882"></a><span class="lineno"> 4882</span>&#160;{</div>
<div class="line"><a name="l04883"></a><span class="lineno"> 4883</span>&#160;    [<span class="keyword">self</span> _draggingEnded];</div>
<div class="line"><a name="l04884"></a><span class="lineno"> 4884</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a744ae0caf3779113cb97fa0cc72e8d2f">draggedImage</a>:aView <a class="code" href="interface_c_p_table_view.html#a744ae0caf3779113cb97fa0cc72e8d2f">endedAt</a>:aLocation <a class="code" href="interface_c_p_table_view.html#a744ae0caf3779113cb97fa0cc72e8d2f">operation</a>:anOperation];</div>
<div class="line"><a name="l04885"></a><span class="lineno"> 4885</span>&#160;}</div>
<div class="line"><a name="l04886"></a><span class="lineno"> 4886</span>&#160;</div>
<div class="line"><a name="l04890"></a><span class="lineno"> 4890</span>&#160;- (void)_updateSelectionWithMouseAtRow:(CPInteger)aRow</div>
<div class="line"><a name="l04891"></a><span class="lineno"> 4891</span>&#160;{</div>
<div class="line"><a name="l04892"></a><span class="lineno"> 4892</span>&#160;    <span class="comment">//check to make sure the row exists</span></div>
<div class="line"><a name="l04893"></a><span class="lineno"> 4893</span>&#160;    <span class="keywordflow">if</span> (aRow &lt; 0)</div>
<div class="line"><a name="l04894"></a><span class="lineno"> 4894</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04895"></a><span class="lineno"> 4895</span>&#160;</div>
<div class="line"><a name="l04896"></a><span class="lineno"> 4896</span>&#160;    var newSelection,</div>
<div class="line"><a name="l04897"></a><span class="lineno"> 4897</span>&#160;        shouldExtendSelection = NO;</div>
<div class="line"><a name="l04898"></a><span class="lineno"> 4898</span>&#160;</div>
<div class="line"><a name="l04899"></a><span class="lineno"> 4899</span>&#160;    <span class="comment">// If cmd/ctrl was held down XOR the old selection with the proposed selection</span></div>
<div class="line"><a name="l04900"></a><span class="lineno"> 4900</span>&#160;    <span class="keywordflow">if</span> ([<span class="keyword">self</span> mouseDownFlags] &amp; (<a class="code" href="_c_p_event___constants_8j.html#a675a3ab6cfc14dd4ad6702d7c682c7fe">CPCommandKeyMask</a> | <a class="code" href="_c_p_event___constants_8j.html#a144f394b3de6afb9b329491dba0e8d14">CPControlKeyMask</a> | <a class="code" href="_c_p_event___constants_8j.html#abb24a409c7daa575dd1fa20b7fcf8d51">CPAlternateKeyMask</a>))</div>
<div class="line"><a name="l04901"></a><span class="lineno"> 4901</span>&#160;    {</div>
<div class="line"><a name="l04902"></a><span class="lineno"> 4902</span>&#160;        <span class="keywordflow">if</span> ([_selectedRowIndexes containsIndex:aRow])</div>
<div class="line"><a name="l04903"></a><span class="lineno"> 4903</span>&#160;        {</div>
<div class="line"><a name="l04904"></a><span class="lineno"> 4904</span>&#160;            newSelection = [_selectedRowIndexes copy];</div>
<div class="line"><a name="l04905"></a><span class="lineno"> 4905</span>&#160;</div>
<div class="line"><a name="l04906"></a><span class="lineno"> 4906</span>&#160;            [newSelection removeIndex:aRow];</div>
<div class="line"><a name="l04907"></a><span class="lineno"> 4907</span>&#160;        }</div>
<div class="line"><a name="l04908"></a><span class="lineno"> 4908</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (_allowsMultipleSelection)</div>
<div class="line"><a name="l04909"></a><span class="lineno"> 4909</span>&#160;        {</div>
<div class="line"><a name="l04910"></a><span class="lineno"> 4910</span>&#160;            newSelection = [_selectedRowIndexes copy];</div>
<div class="line"><a name="l04911"></a><span class="lineno"> 4911</span>&#160;</div>
<div class="line"><a name="l04912"></a><span class="lineno"> 4912</span>&#160;            [newSelection addIndex:aRow];</div>
<div class="line"><a name="l04913"></a><span class="lineno"> 4913</span>&#160;        }</div>
<div class="line"><a name="l04914"></a><span class="lineno"> 4914</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l04915"></a><span class="lineno"> 4915</span>&#160;            newSelection = [<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a> <a class="code" href="interface_c_p_index_set.html#a4aa683fde78ba593d0e70040125ed306">indexSetWithIndex</a>:aRow];</div>
<div class="line"><a name="l04916"></a><span class="lineno"> 4916</span>&#160;    }</div>
<div class="line"><a name="l04917"></a><span class="lineno"> 4917</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (_allowsMultipleSelection)</div>
<div class="line"><a name="l04918"></a><span class="lineno"> 4918</span>&#160;    {</div>
<div class="line"><a name="l04919"></a><span class="lineno"> 4919</span>&#160;        <span class="keywordflow">if</span> (_selectionAnchorRow == <a class="code" href="_c_p_obj_j_runtime_8j.html#a84e3be579b365cc2c1559e1a1f469238">CPNotFound</a>)</div>
<div class="line"><a name="l04920"></a><span class="lineno"> 4920</span>&#160;            _selectionAnchorRow = [<span class="keyword">self</span> numberOfRows] - 1;</div>
<div class="line"><a name="l04921"></a><span class="lineno"> 4921</span>&#160;</div>
<div class="line"><a name="l04922"></a><span class="lineno"> 4922</span>&#160;        newSelection = [<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a> <a class="code" href="interface_c_p_index_set.html#a4c32a454bd5323253b9e8c4f81712ea5">indexSetWithIndexesInRange</a>:CPMakeRange(MIN(aRow, _selectionAnchorRow), ABS(aRow - _selectionAnchorRow) + 1)];</div>
<div class="line"><a name="l04923"></a><span class="lineno"> 4923</span>&#160;        shouldExtendSelection = [<span class="keyword">self</span> mouseDownFlags] &amp; <a class="code" href="_c_p_event___constants_8j.html#a2343191b34b38dc1952bb44d83fa30d6">CPShiftKeyMask</a> &amp;&amp;</div>
<div class="line"><a name="l04924"></a><span class="lineno"> 4924</span>&#160;                                ((_lastSelectedRow == [_selectedRowIndexes lastIndex] &amp;&amp; aRow &gt; _lastSelectedRow) ||</div>
<div class="line"><a name="l04925"></a><span class="lineno"> 4925</span>&#160;                                (_lastSelectedRow == [_selectedRowIndexes firstIndex] &amp;&amp; aRow &lt; _lastSelectedRow));</div>
<div class="line"><a name="l04926"></a><span class="lineno"> 4926</span>&#160;    }</div>
<div class="line"><a name="l04927"></a><span class="lineno"> 4927</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (aRow &gt;= 0 &amp;&amp; aRow &lt; _numberOfRows)</div>
<div class="line"><a name="l04928"></a><span class="lineno"> 4928</span>&#160;        newSelection = [<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a> <a class="code" href="interface_c_p_index_set.html#a4aa683fde78ba593d0e70040125ed306">indexSetWithIndex</a>:aRow];</div>
<div class="line"><a name="l04929"></a><span class="lineno"> 4929</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l04930"></a><span class="lineno"> 4930</span>&#160;        newSelection = [<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a> <a class="code" href="interface_c_p_index_set.html#a339845eb2d96fae878209105dde5e140">indexSet</a>];</div>
<div class="line"><a name="l04931"></a><span class="lineno"> 4931</span>&#160;</div>
<div class="line"><a name="l04932"></a><span class="lineno"> 4932</span>&#160;    <span class="keywordflow">if</span> ([newSelection isEqualToIndexSet:_selectedRowIndexes])</div>
<div class="line"><a name="l04933"></a><span class="lineno"> 4933</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04934"></a><span class="lineno"> 4934</span>&#160;</div>
<div class="line"><a name="l04935"></a><span class="lineno"> 4935</span>&#160;    <span class="keywordflow">if</span> (![<span class="keyword">self</span> _sendDelegateSelectionShouldChangeInTableView])</div>
<div class="line"><a name="l04936"></a><span class="lineno"> 4936</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04937"></a><span class="lineno"> 4937</span>&#160;</div>
<div class="line"><a name="l04938"></a><span class="lineno"> 4938</span>&#160;    newSelection = [<span class="keyword">self</span> _sendDelegateSelectionIndexesForProposedSelection:newSelection];</div>
<div class="line"><a name="l04939"></a><span class="lineno"> 4939</span>&#160;</div>
<div class="line"><a name="l04940"></a><span class="lineno"> 4940</span>&#160;    <span class="keywordflow">if</span> (![<span class="keyword">self</span> _delegateRespondsToSelectionIndexesForProposedSelection] &amp;&amp; [<span class="keyword">self</span> _delegateRespondsToShouldSelectRow])</div>
<div class="line"><a name="l04941"></a><span class="lineno"> 4941</span>&#160;    {</div>
<div class="line"><a name="l04942"></a><span class="lineno"> 4942</span>&#160;        var indexArray = [];</div>
<div class="line"><a name="l04943"></a><span class="lineno"> 4943</span>&#160;</div>
<div class="line"><a name="l04944"></a><span class="lineno"> 4944</span>&#160;        [newSelection getIndexes:indexArray maxCount:-1 inIndexRange:nil];</div>
<div class="line"><a name="l04945"></a><span class="lineno"> 4945</span>&#160;</div>
<div class="line"><a name="l04946"></a><span class="lineno"> 4946</span>&#160;        var indexCount = indexArray.length;</div>
<div class="line"><a name="l04947"></a><span class="lineno"> 4947</span>&#160;</div>
<div class="line"><a name="l04948"></a><span class="lineno"> 4948</span>&#160;        <span class="keywordflow">while</span> (indexCount--)</div>
<div class="line"><a name="l04949"></a><span class="lineno"> 4949</span>&#160;        {</div>
<div class="line"><a name="l04950"></a><span class="lineno"> 4950</span>&#160;            var index = indexArray[indexCount];</div>
<div class="line"><a name="l04951"></a><span class="lineno"> 4951</span>&#160;</div>
<div class="line"><a name="l04952"></a><span class="lineno"> 4952</span>&#160;            <span class="keywordflow">if</span> (![<span class="keyword">self</span> _sendDelegateShouldSelectRow:index])</div>
<div class="line"><a name="l04953"></a><span class="lineno"> 4953</span>&#160;                [newSelection removeIndex:index];</div>
<div class="line"><a name="l04954"></a><span class="lineno"> 4954</span>&#160;        }</div>
<div class="line"><a name="l04955"></a><span class="lineno"> 4955</span>&#160;</div>
<div class="line"><a name="l04956"></a><span class="lineno"> 4956</span>&#160;        <span class="comment">// as per cocoa</span></div>
<div class="line"><a name="l04957"></a><span class="lineno"> 4957</span>&#160;        <span class="keywordflow">if</span> ([newSelection count] === 0)</div>
<div class="line"><a name="l04958"></a><span class="lineno"> 4958</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04959"></a><span class="lineno"> 4959</span>&#160;    }</div>
<div class="line"><a name="l04960"></a><span class="lineno"> 4960</span>&#160;</div>
<div class="line"><a name="l04961"></a><span class="lineno"> 4961</span>&#160;    <span class="comment">// if empty selection is not allowed and the new selection has nothing selected, abort</span></div>
<div class="line"><a name="l04962"></a><span class="lineno"> 4962</span>&#160;    <span class="keywordflow">if</span> (!_allowsEmptySelection &amp;&amp; [newSelection count] === 0)</div>
<div class="line"><a name="l04963"></a><span class="lineno"> 4963</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04964"></a><span class="lineno"> 4964</span>&#160;</div>
<div class="line"><a name="l04965"></a><span class="lineno"> 4965</span>&#160;    <span class="keywordflow">if</span> ([newSelection isEqualToIndexSet:_selectedRowIndexes])</div>
<div class="line"><a name="l04966"></a><span class="lineno"> 4966</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04967"></a><span class="lineno"> 4967</span>&#160;</div>
<div class="line"><a name="l04968"></a><span class="lineno"> 4968</span>&#160;    [<span class="keyword">self</span> _noteSelectionIsChanging];</div>
<div class="line"><a name="l04969"></a><span class="lineno"> 4969</span>&#160;    [<span class="keyword">self</span> selectRowIndexes:newSelection byExtendingSelection:shouldExtendSelection];</div>
<div class="line"><a name="l04970"></a><span class="lineno"> 4970</span>&#160;</div>
<div class="line"><a name="l04971"></a><span class="lineno"> 4971</span>&#160;    _lastSelectedRow = [newSelection containsIndex:aRow] ? aRow : [newSelection lastIndex];</div>
<div class="line"><a name="l04972"></a><span class="lineno"> 4972</span>&#160;}</div>
<div class="line"><a name="l04973"></a><span class="lineno"> 4973</span>&#160;</div>
<div class="line"><a name="l04977"></a><span class="lineno"> 4977</span>&#160;- (void)_noteSelectionIsChanging</div>
<div class="line"><a name="l04978"></a><span class="lineno"> 4978</span>&#160;{</div>
<div class="line"><a name="l04979"></a><span class="lineno"> 4979</span>&#160;    [[<a class="code" href="interface_c_p_notification_center.html" title="Sends messages (CPNotification) between objects. ">CPNotificationCenter</a> <a class="code" href="interface_c_p_notification_center.html#a5abe725f1a1a48ac4cb1e45b6d9d50a8">defaultCenter</a>]</div>
<div class="line"><a name="l04980"></a><span class="lineno"> 4980</span>&#160;        <a class="code" href="interface_c_p_notification_center.html#ac5e7dc8d0972292f52736f6f662bb25a">postNotificationName</a>:CPTableViewSelectionIsChangingNotification</div>
<div class="line"><a name="l04981"></a><span class="lineno"> 4981</span>&#160;                      <a class="code" href="interface_c_p_notification_center.html#ac5e7dc8d0972292f52736f6f662bb25a">object</a>:self</div>
<div class="line"><a name="l04982"></a><span class="lineno"> 4982</span>&#160;                    <a class="code" href="interface_c_p_notification_center.html#ac5e7dc8d0972292f52736f6f662bb25a">userInfo</a>:nil];</div>
<div class="line"><a name="l04983"></a><span class="lineno"> 4983</span>&#160;</div>
<div class="line"><a name="l04984"></a><span class="lineno"> 4984</span>&#160;    <span class="keywordflow">if</span> (_implementedDelegateMethods &amp; <a class="code" href="_c_p_table_view_8j.html#ac80a4fc92d5dd3f875a79b2c44b55ed3">CPTableViewDelegate_tableViewSelectionIsChanging_</a>)</div>
<div class="line"><a name="l04985"></a><span class="lineno"> 4985</span>&#160;        [_delegate tableViewSelectionIsChanging:[[<a class="code" href="interface_c_p_notification.html" title="A notification that can be posted to a CPNotificationCenter. ">CPNotification</a> <a class="code" href="class_c_p_object.html#aa6d290852c6a151058e8e82d053db475">alloc</a>] <a class="code" href="interface_c_p_notification.html#a72649655d083ced1c2bbbf372cfd51b6">initWithName</a>:CPTableViewSelectionIsChangingNotification <a class="code" href="interface_c_p_notification.html#a72649655d083ced1c2bbbf372cfd51b6">object</a>:self <a class="code" href="interface_c_p_notification.html#a72649655d083ced1c2bbbf372cfd51b6">userInfo</a>:nil]];</div>
<div class="line"><a name="l04986"></a><span class="lineno"> 4986</span>&#160;}</div>
<div class="line"><a name="l04987"></a><span class="lineno"> 4987</span>&#160;</div>
<div class="line"><a name="l04991"></a><span class="lineno"> 4991</span>&#160;- (void)_noteSelectionDidChange</div>
<div class="line"><a name="l04992"></a><span class="lineno"> 4992</span>&#160;{</div>
<div class="line"><a name="l04993"></a><span class="lineno"> 4993</span>&#160;    [[<a class="code" href="interface_c_p_notification_center.html" title="Sends messages (CPNotification) between objects. ">CPNotificationCenter</a> <a class="code" href="interface_c_p_notification_center.html#a5abe725f1a1a48ac4cb1e45b6d9d50a8">defaultCenter</a>]</div>
<div class="line"><a name="l04994"></a><span class="lineno"> 4994</span>&#160;        <a class="code" href="interface_c_p_notification_center.html#ac5e7dc8d0972292f52736f6f662bb25a">postNotificationName</a>:CPTableViewSelectionDidChangeNotification</div>
<div class="line"><a name="l04995"></a><span class="lineno"> 4995</span>&#160;                      <a class="code" href="interface_c_p_notification_center.html#ac5e7dc8d0972292f52736f6f662bb25a">object</a>:self</div>
<div class="line"><a name="l04996"></a><span class="lineno"> 4996</span>&#160;                    <a class="code" href="interface_c_p_notification_center.html#ac5e7dc8d0972292f52736f6f662bb25a">userInfo</a>:nil];</div>
<div class="line"><a name="l04997"></a><span class="lineno"> 4997</span>&#160;</div>
<div class="line"><a name="l04998"></a><span class="lineno"> 4998</span>&#160;    <span class="keywordflow">if</span> (_implementedDelegateMethods &amp; <a class="code" href="_c_p_table_view_8j.html#a0e92f5ab48715248e82afe1bd74528b7">CPTableViewDelegate_tableViewSelectionDidChange_</a>)</div>
<div class="line"><a name="l04999"></a><span class="lineno"> 4999</span>&#160;        [_delegate tableViewSelectionDidChange:[[<a class="code" href="interface_c_p_notification.html" title="A notification that can be posted to a CPNotificationCenter. ">CPNotification</a> <a class="code" href="class_c_p_object.html#aa6d290852c6a151058e8e82d053db475">alloc</a>] <a class="code" href="interface_c_p_notification.html#a72649655d083ced1c2bbbf372cfd51b6">initWithName</a>:CPTableViewSelectionDidChangeNotification <a class="code" href="interface_c_p_notification.html#a72649655d083ced1c2bbbf372cfd51b6">object</a>:self <a class="code" href="interface_c_p_notification.html#a72649655d083ced1c2bbbf372cfd51b6">userInfo</a>:nil]];</div>
<div class="line"><a name="l05000"></a><span class="lineno"> 5000</span>&#160;}</div>
<div class="line"><a name="l05001"></a><span class="lineno"> 5001</span>&#160;</div>
<div class="line"><a name="l05005"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a7945e0b157d959ff1abab7f9607f6875"> 5005</a></span>&#160;- (void)becomeKeyWindow</div>
<div class="line"><a name="l05006"></a><span class="lineno"> 5006</span>&#160;{</div>
<div class="line"><a name="l05007"></a><span class="lineno"> 5007</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a31af19dc321476a95414cd5e5da60ef0">setNeedsDisplay</a>:YES];</div>
<div class="line"><a name="l05008"></a><span class="lineno"> 5008</span>&#160;}</div>
<div class="line"><a name="l05009"></a><span class="lineno"> 5009</span>&#160;</div>
<div class="line"><a name="l05013"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#ac1571d75d9a31113df01564d5908d8af"> 5013</a></span>&#160;- (void)resignKeyWindow</div>
<div class="line"><a name="l05014"></a><span class="lineno"> 5014</span>&#160;{</div>
<div class="line"><a name="l05015"></a><span class="lineno"> 5015</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a31af19dc321476a95414cd5e5da60ef0">setNeedsDisplay</a>:YES];</div>
<div class="line"><a name="l05016"></a><span class="lineno"> 5016</span>&#160;}</div>
<div class="line"><a name="l05017"></a><span class="lineno"> 5017</span>&#160;</div>
<div class="line"><a name="l05021"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a2a59649caf5935edd4b2d24ee477cc6b"> 5021</a></span>&#160;- (BOOL)acceptsFirstResponder</div>
<div class="line"><a name="l05022"></a><span class="lineno"> 5022</span>&#160;{</div>
<div class="line"><a name="l05023"></a><span class="lineno"> 5023</span>&#160;    <span class="keywordflow">return</span> YES;</div>
<div class="line"><a name="l05024"></a><span class="lineno"> 5024</span>&#160;}</div>
<div class="line"><a name="l05025"></a><span class="lineno"> 5025</span>&#160;</div>
<div class="line"><a name="l05029"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#ae97ad92284dffc1b134d8b62f7e8a3b3"> 5029</a></span>&#160;- (BOOL)needsPanelToBecomeKey</div>
<div class="line"><a name="l05030"></a><span class="lineno"> 5030</span>&#160;{</div>
<div class="line"><a name="l05031"></a><span class="lineno"> 5031</span>&#160;    <span class="keywordflow">return</span> YES;</div>
<div class="line"><a name="l05032"></a><span class="lineno"> 5032</span>&#160;}</div>
<div class="line"><a name="l05033"></a><span class="lineno"> 5033</span>&#160;</div>
<div class="line"><a name="l05037"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a14de46bcc456d0c00053efd819f9fd83"> 5037</a></span>&#160;- (<a class="code" href="interface_c_p_view.html">CPView</a>)hitTest:(CGPoint)aPoint</div>
<div class="line"><a name="l05038"></a><span class="lineno"> 5038</span>&#160;{</div>
<div class="line"><a name="l05039"></a><span class="lineno"> 5039</span>&#160;    var hit = [<span class="keyword">super</span> <a class="code" href="interface_c_p_view.html#ac17fb5a1bb7c5a6dfbabef05d4183d29">hitTest</a>:aPoint];</div>
<div class="line"><a name="l05040"></a><span class="lineno"> 5040</span>&#160;</div>
<div class="line"><a name="l05041"></a><span class="lineno"> 5041</span>&#160;    <span class="keywordflow">if</span> ([[<a class="code" href="_c_p_application___constants_8j.html#a428912231c07effc32c420ee523bf0b7">CPApp</a> currentEvent] type] !== <a class="code" href="_c_p_event___constants_8j.html#afa8a297874e3a2649a6361e5d1fb39db">CPLeftMouseDown</a>)</div>
<div class="line"><a name="l05042"></a><span class="lineno"> 5042</span>&#160;        <span class="keywordflow">return</span> hit;</div>
<div class="line"><a name="l05043"></a><span class="lineno"> 5043</span>&#160;</div>
<div class="line"><a name="l05044"></a><span class="lineno"> 5044</span>&#160;    <span class="keywordflow">return</span> [<span class="keyword">self</span> _hitTest:hit];</div>
<div class="line"><a name="l05045"></a><span class="lineno"> 5045</span>&#160;}</div>
<div class="line"><a name="l05046"></a><span class="lineno"> 5046</span>&#160;</div>
<div class="line"><a name="l05047"></a><span class="lineno"> 5047</span>&#160;- (id)_hitTest:(<a class="code" href="interface_c_p_view.html">CPView</a>)aView</div>
<div class="line"><a name="l05048"></a><span class="lineno"> 5048</span>&#160;{</div>
<div class="line"><a name="l05049"></a><span class="lineno"> 5049</span>&#160;    var column,</div>
<div class="line"><a name="l05050"></a><span class="lineno"> 5050</span>&#160;        row;</div>
<div class="line"><a name="l05051"></a><span class="lineno"> 5051</span>&#160;</div>
<div class="line"><a name="l05052"></a><span class="lineno"> 5052</span>&#160;    <span class="keywordflow">if</span> ([aView acceptsFirstResponder])</div>
<div class="line"><a name="l05053"></a><span class="lineno"> 5053</span>&#160;    {</div>
<div class="line"><a name="l05054"></a><span class="lineno"> 5054</span>&#160;        [<span class="keyword">self</span> getColumn:@ref(column) row:@ref(row) forView:aView];</div>
<div class="line"><a name="l05055"></a><span class="lineno"> 5055</span>&#160;</div>
<div class="line"><a name="l05056"></a><span class="lineno"> 5056</span>&#160;        <span class="keywordflow">if</span> (![<span class="keyword">self</span> isRowSelected:row])</div>
<div class="line"><a name="l05057"></a><span class="lineno"> 5057</span>&#160;        {</div>
<div class="line"><a name="l05058"></a><span class="lineno"> 5058</span>&#160;            <span class="keywordflow">if</span> (_selectionHighlightStyle == <a class="code" href="_c_p_table_view_8j.html#a01cb9ff2b6562f83a7f4073abf81f7ce">CPTableViewSelectionHighlightStyleNone</a>)</div>
<div class="line"><a name="l05059"></a><span class="lineno"> 5059</span>&#160;                <span class="keywordflow">return</span> aView;</div>
<div class="line"><a name="l05060"></a><span class="lineno"> 5060</span>&#160;</div>
<div class="line"><a name="l05061"></a><span class="lineno"> 5061</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">self</span>;</div>
<div class="line"><a name="l05062"></a><span class="lineno"> 5062</span>&#160;        }</div>
<div class="line"><a name="l05063"></a><span class="lineno"> 5063</span>&#160;    }</div>
<div class="line"><a name="l05064"></a><span class="lineno"> 5064</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!_isViewBased &amp;&amp; [aView isKindOfClass:[<a class="code" href="interface_c_p_control.html">CPControl</a> <span class="keyword">class</span>]] &amp;&amp; ![aView isKindOfClass:[<a class="code" href="interface_c_p_text_field.html">CPTextField</a> <span class="keyword">class</span>]])</div>
<div class="line"><a name="l05065"></a><span class="lineno"> 5065</span>&#160;    {</div>
<div class="line"><a name="l05066"></a><span class="lineno"> 5066</span>&#160;        [<span class="keyword">self</span> getColumn:@ref(column) row:@ref(row) forView:aView];</div>
<div class="line"><a name="l05067"></a><span class="lineno"> 5067</span>&#160;</div>
<div class="line"><a name="l05068"></a><span class="lineno"> 5068</span>&#160;        _editingColumn = column;</div>
<div class="line"><a name="l05069"></a><span class="lineno"> 5069</span>&#160;        _editingRow = row;</div>
<div class="line"><a name="l05070"></a><span class="lineno"> 5070</span>&#160;</div>
<div class="line"><a name="l05071"></a><span class="lineno"> 5071</span>&#160;        [aView <a class="code" href="class_c_p_object.html#a0f9b91227c48033449dcdc265741a79e">addObserver</a>:self <a class="code" href="class_c_p_object.html#a0f9b91227c48033449dcdc265741a79e">forKeyPath</a>:@&quot;objectValue&quot; <a class="code" href="class_c_p_object.html#a0f9b91227c48033449dcdc265741a79e">options</a>:CPKeyValueObservingOptionOld|CPKeyValueObservingOptionNew <a class="code" href="class_c_p_object.html#a0f9b91227c48033449dcdc265741a79e">context</a>:&quot;editing&quot;];</div>
<div class="line"><a name="l05072"></a><span class="lineno"> 5072</span>&#160;    }</div>
<div class="line"><a name="l05073"></a><span class="lineno"> 5073</span>&#160;</div>
<div class="line"><a name="l05074"></a><span class="lineno"> 5074</span>&#160;    <span class="keywordflow">return</span> aView;</div>
<div class="line"><a name="l05075"></a><span class="lineno"> 5075</span>&#160;}</div>
<div class="line"><a name="l05076"></a><span class="lineno"> 5076</span>&#160;</div>
<div class="line"><a name="l05077"></a><span class="lineno"> 5077</span>&#160;- (void)_removeObservers</div>
<div class="line"><a name="l05078"></a><span class="lineno"> 5078</span>&#160;{</div>
<div class="line"><a name="l05079"></a><span class="lineno"> 5079</span>&#160;    <span class="keywordflow">if</span> (!_isObserving)</div>
<div class="line"><a name="l05080"></a><span class="lineno"> 5080</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05081"></a><span class="lineno"> 5081</span>&#160;</div>
<div class="line"><a name="l05082"></a><span class="lineno"> 5082</span>&#160;    [<span class="keyword">self</span> _stopObservingClipView];</div>
<div class="line"><a name="l05083"></a><span class="lineno"> 5083</span>&#160;    [<span class="keyword">super</span> _removeObservers];</div>
<div class="line"><a name="l05084"></a><span class="lineno"> 5084</span>&#160;}</div>
<div class="line"><a name="l05085"></a><span class="lineno"> 5085</span>&#160;</div>
<div class="line"><a name="l05086"></a><span class="lineno"> 5086</span>&#160;- (void)_addObservers</div>
<div class="line"><a name="l05087"></a><span class="lineno"> 5087</span>&#160;{</div>
<div class="line"><a name="l05088"></a><span class="lineno"> 5088</span>&#160;    <span class="keywordflow">if</span> (_isObserving)</div>
<div class="line"><a name="l05089"></a><span class="lineno"> 5089</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05090"></a><span class="lineno"> 5090</span>&#160;</div>
<div class="line"><a name="l05091"></a><span class="lineno"> 5091</span>&#160;    [<span class="keyword">self</span> _startObservingClipView];</div>
<div class="line"><a name="l05092"></a><span class="lineno"> 5092</span>&#160;    [<span class="keyword">super</span> _addObservers];</div>
<div class="line"><a name="l05093"></a><span class="lineno"> 5093</span>&#160;}</div>
<div class="line"><a name="l05094"></a><span class="lineno"> 5094</span>&#160;</div>
<div class="line"><a name="l05099"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a9dcb5946abf2f57ee69059da882f0fb3"> 5099</a></span>&#160;- (void)viewWillMoveToWindow:(<a class="code" href="interface_c_p_window.html">CPWindow</a>)aWindow</div>
<div class="line"><a name="l05100"></a><span class="lineno"> 5100</span>&#160;{</div>
<div class="line"><a name="l05101"></a><span class="lineno"> 5101</span>&#160;    [<span class="keyword">super</span> <a class="code" href="interface_c_p_view.html#a8dbd42a28455f697789052eaa2c35d1b">viewWillMoveToWindow</a>:aWindow];</div>
<div class="line"><a name="l05102"></a><span class="lineno"> 5102</span>&#160;</div>
<div class="line"><a name="l05103"></a><span class="lineno"> 5103</span>&#160;    [<span class="keyword">self</span> _stopObservingFirstResponderForWindow:aWindow];</div>
<div class="line"><a name="l05104"></a><span class="lineno"> 5104</span>&#160;</div>
<div class="line"><a name="l05105"></a><span class="lineno"> 5105</span>&#160;    <span class="keywordflow">if</span> (aWindow)</div>
<div class="line"><a name="l05106"></a><span class="lineno"> 5106</span>&#160;        [<span class="keyword">self</span> _startObservingFirstResponderForWindow:aWindow];</div>
<div class="line"><a name="l05107"></a><span class="lineno"> 5107</span>&#160;}</div>
<div class="line"><a name="l05108"></a><span class="lineno"> 5108</span>&#160;</div>
<div class="line"><a name="l05109"></a><span class="lineno"> 5109</span>&#160;- (void)_startObservingClipView</div>
<div class="line"><a name="l05110"></a><span class="lineno"> 5110</span>&#160;{</div>
<div class="line"><a name="l05111"></a><span class="lineno"> 5111</span>&#160;    <span class="keywordflow">if</span> (!_observedClipView)</div>
<div class="line"><a name="l05112"></a><span class="lineno"> 5112</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05113"></a><span class="lineno"> 5113</span>&#160;</div>
<div class="line"><a name="l05114"></a><span class="lineno"> 5114</span>&#160;    var defaultCenter = [<a class="code" href="interface_c_p_notification_center.html" title="Sends messages (CPNotification) between objects. ">CPNotificationCenter</a> <a class="code" href="interface_c_p_notification_center.html#a5abe725f1a1a48ac4cb1e45b6d9d50a8">defaultCenter</a>];</div>
<div class="line"><a name="l05115"></a><span class="lineno"> 5115</span>&#160;</div>
<div class="line"><a name="l05116"></a><span class="lineno"> 5116</span>&#160;    [_observedClipView setPostsFrameChangedNotifications:YES];</div>
<div class="line"><a name="l05117"></a><span class="lineno"> 5117</span>&#160;    [_observedClipView setPostsBoundsChangedNotifications:YES];</div>
<div class="line"><a name="l05118"></a><span class="lineno"> 5118</span>&#160;</div>
<div class="line"><a name="l05119"></a><span class="lineno"> 5119</span>&#160;    [defaultCenter addObserver:self</div>
<div class="line"><a name="l05120"></a><span class="lineno"> 5120</span>&#160;                          selector:@selector(superviewFrameChanged:)</div>
<div class="line"><a name="l05121"></a><span class="lineno"> 5121</span>&#160;                              name:CPViewFrameDidChangeNotification</div>
<div class="line"><a name="l05122"></a><span class="lineno"> 5122</span>&#160;                            object:_observedClipView];</div>
<div class="line"><a name="l05123"></a><span class="lineno"> 5123</span>&#160;</div>
<div class="line"><a name="l05124"></a><span class="lineno"> 5124</span>&#160;    [defaultCenter addObserver:self</div>
<div class="line"><a name="l05125"></a><span class="lineno"> 5125</span>&#160;                      selector:@selector(superviewBoundsChanged:)</div>
<div class="line"><a name="l05126"></a><span class="lineno"> 5126</span>&#160;                          name:CPViewBoundsDidChangeNotification</div>
<div class="line"><a name="l05127"></a><span class="lineno"> 5127</span>&#160;                        object:_observedClipView];</div>
<div class="line"><a name="l05128"></a><span class="lineno"> 5128</span>&#160;}</div>
<div class="line"><a name="l05129"></a><span class="lineno"> 5129</span>&#160;</div>
<div class="line"><a name="l05130"></a><span class="lineno"> 5130</span>&#160;- (void)_stopObservingClipView</div>
<div class="line"><a name="l05131"></a><span class="lineno"> 5131</span>&#160;{</div>
<div class="line"><a name="l05132"></a><span class="lineno"> 5132</span>&#160;    <span class="keywordflow">if</span> (!_observedClipView)</div>
<div class="line"><a name="l05133"></a><span class="lineno"> 5133</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05134"></a><span class="lineno"> 5134</span>&#160;</div>
<div class="line"><a name="l05135"></a><span class="lineno"> 5135</span>&#160;    var defaultCenter = [<a class="code" href="interface_c_p_notification_center.html" title="Sends messages (CPNotification) between objects. ">CPNotificationCenter</a> <a class="code" href="interface_c_p_notification_center.html#a5abe725f1a1a48ac4cb1e45b6d9d50a8">defaultCenter</a>];</div>
<div class="line"><a name="l05136"></a><span class="lineno"> 5136</span>&#160;</div>
<div class="line"><a name="l05137"></a><span class="lineno"> 5137</span>&#160;    [defaultCenter removeObserver:self</div>
<div class="line"><a name="l05138"></a><span class="lineno"> 5138</span>&#160;                             name:CPViewFrameDidChangeNotification</div>
<div class="line"><a name="l05139"></a><span class="lineno"> 5139</span>&#160;                           object:_observedClipView];</div>
<div class="line"><a name="l05140"></a><span class="lineno"> 5140</span>&#160;</div>
<div class="line"><a name="l05141"></a><span class="lineno"> 5141</span>&#160;    [defaultCenter removeObserver:self</div>
<div class="line"><a name="l05142"></a><span class="lineno"> 5142</span>&#160;                          name:CPViewBoundsDidChangeNotification</div>
<div class="line"><a name="l05143"></a><span class="lineno"> 5143</span>&#160;                        object:_observedClipView];</div>
<div class="line"><a name="l05144"></a><span class="lineno"> 5144</span>&#160;}</div>
<div class="line"><a name="l05145"></a><span class="lineno"> 5145</span>&#160;</div>
<div class="line"><a name="l05146"></a><span class="lineno"> 5146</span>&#160;- (void)_startObservingFirstResponderForWindow:(<a class="code" href="interface_c_p_window.html">CPWindow</a>)aWindow</div>
<div class="line"><a name="l05147"></a><span class="lineno"> 5147</span>&#160;{</div>
<div class="line"><a name="l05148"></a><span class="lineno"> 5148</span>&#160;    [[<a class="code" href="interface_c_p_notification_center.html" title="Sends messages (CPNotification) between objects. ">CPNotificationCenter</a> <a class="code" href="interface_c_p_notification_center.html#a5abe725f1a1a48ac4cb1e45b6d9d50a8">defaultCenter</a>] <a class="code" href="interface_c_p_notification_center.html#a6bd3e02409bf75cb0d8c7a58a5b03d0c">addObserver</a>:self <a class="code" href="interface_c_p_notification_center.html#a6bd3e02409bf75cb0d8c7a58a5b03d0c">selector</a>:@selector(<a class="code" href="interface_c_p_notification_center.html#a6bd3e02409bf75cb0d8c7a58a5b03d0c">_firstResponderDidChange</a>:) <a class="code" href="interface_c_p_notification_center.html#a6bd3e02409bf75cb0d8c7a58a5b03d0c">name</a>:_CPWindowDidChangeFirstResponderNotification <a class="code" href="interface_c_p_notification_center.html#a6bd3e02409bf75cb0d8c7a58a5b03d0c">object</a>:aWindow];</div>
<div class="line"><a name="l05149"></a><span class="lineno"> 5149</span>&#160;}</div>
<div class="line"><a name="l05150"></a><span class="lineno"> 5150</span>&#160;</div>
<div class="line"><a name="l05151"></a><span class="lineno"> 5151</span>&#160;- (void)_stopObservingFirstResponderForWindow:(<a class="code" href="interface_c_p_window.html">CPWindow</a>)aWindow</div>
<div class="line"><a name="l05152"></a><span class="lineno"> 5152</span>&#160;{</div>
<div class="line"><a name="l05153"></a><span class="lineno"> 5153</span>&#160;    [[<a class="code" href="interface_c_p_notification_center.html" title="Sends messages (CPNotification) between objects. ">CPNotificationCenter</a> <a class="code" href="interface_c_p_notification_center.html#a5abe725f1a1a48ac4cb1e45b6d9d50a8">defaultCenter</a>] <a class="code" href="interface_c_p_notification_center.html#a39d66af94a532e254902cb1462092c99">removeObserver</a>:self <a class="code" href="interface_c_p_notification_center.html#a39d66af94a532e254902cb1462092c99">name</a>:_CPWindowDidChangeFirstResponderNotification <a class="code" href="interface_c_p_notification_center.html#a39d66af94a532e254902cb1462092c99">object</a>:aWindow];</div>
<div class="line"><a name="l05154"></a><span class="lineno"> 5154</span>&#160;}</div>
<div class="line"><a name="l05155"></a><span class="lineno"> 5155</span>&#160;</div>
<div class="line"><a name="l05156"></a><span class="lineno"> 5156</span>&#160;- (void)_firstResponderDidChange:(<a class="code" href="interface_c_p_notification.html" title="A notification that can be posted to a CPNotificationCenter. ">CPNotification</a>)aNotification</div>
<div class="line"><a name="l05157"></a><span class="lineno"> 5157</span>&#160;{</div>
<div class="line"><a name="l05158"></a><span class="lineno"> 5158</span>&#160;    var responder = [[<span class="keyword">self</span> window] firstResponder],</div>
<div class="line"><a name="l05159"></a><span class="lineno"> 5159</span>&#160;        column,</div>
<div class="line"><a name="l05160"></a><span class="lineno"> 5160</span>&#160;        row;</div>
<div class="line"><a name="l05161"></a><span class="lineno"> 5161</span>&#160;</div>
<div class="line"><a name="l05162"></a><span class="lineno"> 5162</span>&#160;    [<span class="keyword">self</span> getColumn:@ref(column) row:@ref(row) forView:responder];</div>
<div class="line"><a name="l05163"></a><span class="lineno"> 5163</span>&#160;</div>
<div class="line"><a name="l05164"></a><span class="lineno"> 5164</span>&#160;    _editingRow = row;</div>
<div class="line"><a name="l05165"></a><span class="lineno"> 5165</span>&#160;    _editingColumn = column;</div>
<div class="line"><a name="l05166"></a><span class="lineno"> 5166</span>&#160;</div>
<div class="line"><a name="l05167"></a><span class="lineno"> 5167</span>&#160;    <span class="comment">// We want to keep the &#39;First Responder&#39; theme state for the table view as a whole, even when a subview is being edited.</span></div>
<div class="line"><a name="l05168"></a><span class="lineno"> 5168</span>&#160;    <span class="comment">// This makes sure the theming effects of a focused table remain in effect even as cells are being edited in it.</span></div>
<div class="line"><a name="l05169"></a><span class="lineno"> 5169</span>&#160;    <span class="comment">// Check if the firstResponder is outside the tableview:</span></div>
<div class="line"><a name="l05170"></a><span class="lineno"> 5170</span>&#160;    <span class="keywordflow">if</span> (responder !== <span class="keyword">self</span> &amp;&amp; _editingRow == <a class="code" href="_c_p_obj_j_runtime_8j.html#a84e3be579b365cc2c1559e1a1f469238">CPNotFound</a> &amp;&amp; _editingColumn == <a class="code" href="_c_p_obj_j_runtime_8j.html#a84e3be579b365cc2c1559e1a1f469238">CPNotFound</a>)</div>
<div class="line"><a name="l05171"></a><span class="lineno"> 5171</span>&#160;        [<span class="keyword">self</span> _notifyViewDidResignFirstResponder];</div>
<div class="line"><a name="l05172"></a><span class="lineno"> 5172</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l05173"></a><span class="lineno"> 5173</span>&#160;        [<span class="keyword">self</span> _notifyViewDidBecomeFirstResponder];</div>
<div class="line"><a name="l05174"></a><span class="lineno"> 5174</span>&#160;</div>
<div class="line"><a name="l05175"></a><span class="lineno"> 5175</span>&#160;    <span class="comment">// This is for cell-based tables only. In view-based mode, we do not change the textfield apprearence during an edit.</span></div>
<div class="line"><a name="l05176"></a><span class="lineno"> 5176</span>&#160;    <span class="keywordflow">if</span> (!_isViewBased &amp;&amp; _editingRow !== <a class="code" href="_c_p_obj_j_runtime_8j.html#a84e3be579b365cc2c1559e1a1f469238">CPNotFound</a> &amp;&amp; [responder isKindOfClass:[<a class="code" href="interface_c_p_text_field.html">CPTextField</a> <span class="keyword">class</span>]] &amp;&amp; [responder isEditable])</div>
<div class="line"><a name="l05177"></a><span class="lineno"> 5177</span>&#160;    {</div>
<div class="line"><a name="l05178"></a><span class="lineno"> 5178</span>&#160;        [responder setBezeled:YES];</div>
<div class="line"><a name="l05179"></a><span class="lineno"> 5179</span>&#160;        [<span class="keyword">self</span> _registerForEndEditingNote:responder];</div>
<div class="line"><a name="l05180"></a><span class="lineno"> 5180</span>&#160;    }</div>
<div class="line"><a name="l05181"></a><span class="lineno"> 5181</span>&#160;}</div>
<div class="line"><a name="l05182"></a><span class="lineno"> 5182</span>&#160;</div>
<div class="line"><a name="l05183"></a><span class="lineno"> 5183</span>&#160;- (void)_registerForEndEditingNote:(<a class="code" href="interface_c_p_view.html">CPView</a>)aTextField</div>
<div class="line"><a name="l05184"></a><span class="lineno"> 5184</span>&#160;{</div>
<div class="line"><a name="l05185"></a><span class="lineno"> 5185</span>&#160;    [[<a class="code" href="interface_c_p_notification_center.html" title="Sends messages (CPNotification) between objects. ">CPNotificationCenter</a> <a class="code" href="interface_c_p_notification_center.html#a5abe725f1a1a48ac4cb1e45b6d9d50a8">defaultCenter</a>] <a class="code" href="interface_c_p_notification_center.html#a6bd3e02409bf75cb0d8c7a58a5b03d0c">addObserver</a>:self <a class="code" href="interface_c_p_notification_center.html#a6bd3e02409bf75cb0d8c7a58a5b03d0c">selector</a>:@selector(<a class="code" href="interface_c_p_notification_center.html#a6bd3e02409bf75cb0d8c7a58a5b03d0c">_textFieldEditingDidEnd</a>:) <a class="code" href="interface_c_p_notification_center.html#a6bd3e02409bf75cb0d8c7a58a5b03d0c">name</a>:CPControlTextDidEndEditingNotification <a class="code" href="interface_c_p_notification_center.html#a6bd3e02409bf75cb0d8c7a58a5b03d0c">object</a>:aTextField];</div>
<div class="line"><a name="l05186"></a><span class="lineno"> 5186</span>&#160;}</div>
<div class="line"><a name="l05187"></a><span class="lineno"> 5187</span>&#160;</div>
<div class="line"><a name="l05188"></a><span class="lineno"> 5188</span>&#160;- (void)_unregisterForEndEditingNote:(<a class="code" href="interface_c_p_view.html">CPView</a>)aTextField</div>
<div class="line"><a name="l05189"></a><span class="lineno"> 5189</span>&#160;{</div>
<div class="line"><a name="l05190"></a><span class="lineno"> 5190</span>&#160;    [[<a class="code" href="interface_c_p_notification_center.html" title="Sends messages (CPNotification) between objects. ">CPNotificationCenter</a> <a class="code" href="interface_c_p_notification_center.html#a5abe725f1a1a48ac4cb1e45b6d9d50a8">defaultCenter</a>] <a class="code" href="interface_c_p_notification_center.html#a39d66af94a532e254902cb1462092c99">removeObserver</a>:self <a class="code" href="interface_c_p_notification_center.html#a39d66af94a532e254902cb1462092c99">name</a>:CPControlTextDidEndEditingNotification <a class="code" href="interface_c_p_notification_center.html#a39d66af94a532e254902cb1462092c99">object</a>:aTextField];</div>
<div class="line"><a name="l05191"></a><span class="lineno"> 5191</span>&#160;}</div>
<div class="line"><a name="l05192"></a><span class="lineno"> 5192</span>&#160;</div>
<div class="line"><a name="l05193"></a><span class="lineno"> 5193</span>&#160;- (void)_textFieldEditingDidEnd:(<a class="code" href="interface_c_p_notification.html" title="A notification that can be posted to a CPNotificationCenter. ">CPNotification</a>)aNote</div>
<div class="line"><a name="l05194"></a><span class="lineno"> 5194</span>&#160;{</div>
<div class="line"><a name="l05195"></a><span class="lineno"> 5195</span>&#160;    <span class="comment">// FIXME: When you edit a text field and hit enter without any text modification, the CPControlTextDidEndEditingNotification</span></div>
<div class="line"><a name="l05196"></a><span class="lineno"> 5196</span>&#160;    <span class="comment">// is NOT sent. This is a bug in CPTextField or CPControl according to cocoa.</span></div>
<div class="line"><a name="l05197"></a><span class="lineno"> 5197</span>&#160;    var textField = [aNote <a class="code" href="interface_c_p_notification.html#a0a912e9648acf5e7f669aed339474158">object</a>];</div>
<div class="line"><a name="l05198"></a><span class="lineno"> 5198</span>&#160;</div>
<div class="line"><a name="l05199"></a><span class="lineno"> 5199</span>&#160;    [<span class="keyword">self</span> _unregisterForEndEditingNote:textField];</div>
<div class="line"><a name="l05200"></a><span class="lineno"> 5200</span>&#160;</div>
<div class="line"><a name="l05201"></a><span class="lineno"> 5201</span>&#160;    <span class="keywordflow">if</span> (!_isViewBased)</div>
<div class="line"><a name="l05202"></a><span class="lineno"> 5202</span>&#160;    {</div>
<div class="line"><a name="l05203"></a><span class="lineno"> 5203</span>&#160;        [<span class="keyword">self</span> _setEditingState:NO forView:textField];</div>
<div class="line"><a name="l05204"></a><span class="lineno"> 5204</span>&#160;        [<span class="keyword">self</span> _commitDataViewObjectValue:textField];</div>
<div class="line"><a name="l05205"></a><span class="lineno"> 5205</span>&#160;    }</div>
<div class="line"><a name="l05206"></a><span class="lineno"> 5206</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l05207"></a><span class="lineno"> 5207</span>&#160;        [textField setBezeled:NO];</div>
<div class="line"><a name="l05208"></a><span class="lineno"> 5208</span>&#160;</div>
<div class="line"><a name="l05209"></a><span class="lineno"> 5209</span>&#160;    [<span class="keyword">self</span> _resignFirstResponderWithoutSendingAction:textField];</div>
<div class="line"><a name="l05210"></a><span class="lineno"> 5210</span>&#160;}</div>
<div class="line"><a name="l05211"></a><span class="lineno"> 5211</span>&#160;</div>
<div class="line"><a name="l05212"></a><span class="lineno"> 5212</span>&#160;- (void)_resignFirstResponderWithoutSendingAction:(<a class="code" href="interface_c_p_view.html">CPView</a>)aView</div>
<div class="line"><a name="l05213"></a><span class="lineno"> 5213</span>&#160;{</div>
<div class="line"><a name="l05214"></a><span class="lineno"> 5214</span>&#160;    var action = [<span class="keyword">self</span> _disableActionIfExists:aView];</div>
<div class="line"><a name="l05215"></a><span class="lineno"> 5215</span>&#160;</div>
<div class="line"><a name="l05216"></a><span class="lineno"> 5216</span>&#160;    [[<span class="keyword">self</span> window] makeFirstResponder:self];</div>
<div class="line"><a name="l05217"></a><span class="lineno"> 5217</span>&#160;</div>
<div class="line"><a name="l05218"></a><span class="lineno"> 5218</span>&#160;    <span class="keywordflow">if</span> (action)</div>
<div class="line"><a name="l05219"></a><span class="lineno"> 5219</span>&#160;        [aView setAction:action];</div>
<div class="line"><a name="l05220"></a><span class="lineno"> 5220</span>&#160;}</div>
<div class="line"><a name="l05221"></a><span class="lineno"> 5221</span>&#160;</div>
<div class="line"><a name="l05222"></a><span class="lineno"> 5222</span>&#160;- (void)_resignEditedView</div>
<div class="line"><a name="l05223"></a><span class="lineno"> 5223</span>&#160;{</div>
<div class="line"><a name="l05224"></a><span class="lineno"> 5224</span>&#160;    var view = [[<span class="keyword">self</span> window] firstResponder];</div>
<div class="line"><a name="l05225"></a><span class="lineno"> 5225</span>&#160;</div>
<div class="line"><a name="l05226"></a><span class="lineno"> 5226</span>&#160;    <span class="keywordflow">if</span> ([view respondsToSelector:<span class="keyword">@selector</span>(selectText:)])</div>
<div class="line"><a name="l05227"></a><span class="lineno"> 5227</span>&#160;        [view selectText:nil];</div>
<div class="line"><a name="l05228"></a><span class="lineno"> 5228</span>&#160;</div>
<div class="line"><a name="l05229"></a><span class="lineno"> 5229</span>&#160;    <span class="keywordflow">if</span> (!_isViewBased)</div>
<div class="line"><a name="l05230"></a><span class="lineno"> 5230</span>&#160;    {</div>
<div class="line"><a name="l05231"></a><span class="lineno"> 5231</span>&#160;        [<span class="keyword">self</span> _unregisterForEndEditingNote:view];</div>
<div class="line"><a name="l05232"></a><span class="lineno"> 5232</span>&#160;        [<span class="keyword">self</span> _setEditingState:NO forView:view];</div>
<div class="line"><a name="l05233"></a><span class="lineno"> 5233</span>&#160;    }</div>
<div class="line"><a name="l05234"></a><span class="lineno"> 5234</span>&#160;</div>
<div class="line"><a name="l05235"></a><span class="lineno"> 5235</span>&#160;    [<span class="keyword">self</span> _resignFirstResponderWithoutSendingAction:view];</div>
<div class="line"><a name="l05236"></a><span class="lineno"> 5236</span>&#160;}</div>
<div class="line"><a name="l05237"></a><span class="lineno"> 5237</span>&#160;</div>
<div class="line"><a name="l05238"></a><span class="lineno"> 5238</span>&#160;- (SEL)_disableActionIfExists:(<a class="code" href="interface_c_p_view.html">CPView</a>)aView</div>
<div class="line"><a name="l05239"></a><span class="lineno"> 5239</span>&#160;{</div>
<div class="line"><a name="l05240"></a><span class="lineno"> 5240</span>&#160;    <span class="comment">// TODO: We disable action to prevent it from beeing sent twice when we resign the FR inside a textEndEditing notification.</span></div>
<div class="line"><a name="l05241"></a><span class="lineno"> 5241</span>&#160;    <span class="comment">// Check if this is due to a bug in CPTextField.</span></div>
<div class="line"><a name="l05242"></a><span class="lineno"> 5242</span>&#160;    var action = nil;</div>
<div class="line"><a name="l05243"></a><span class="lineno"> 5243</span>&#160;    <span class="keywordflow">if</span> ([aView respondsToSelector:<span class="keyword">@selector</span>(action)] &amp;&amp; (action = [aView action]))</div>
<div class="line"><a name="l05244"></a><span class="lineno"> 5244</span>&#160;        [aView setAction:nil];</div>
<div class="line"><a name="l05245"></a><span class="lineno"> 5245</span>&#160;</div>
<div class="line"><a name="l05246"></a><span class="lineno"> 5246</span>&#160;    <span class="keywordflow">return</span> action;</div>
<div class="line"><a name="l05247"></a><span class="lineno"> 5247</span>&#160;}</div>
<div class="line"><a name="l05248"></a><span class="lineno"> 5248</span>&#160;</div>
<div class="line"><a name="l05254"></a><span class="lineno"> 5254</span>&#160;- (void)_commitDataViewObjectValue:(<span class="keywordtype">id</span>)aDataView</div>
<div class="line"><a name="l05255"></a><span class="lineno"> 5255</span>&#160;{</div>
<div class="line"><a name="l05256"></a><span class="lineno"> 5256</span>&#160;    var editingTableColumn = _tableColumns[_editingColumn];</div>
<div class="line"><a name="l05257"></a><span class="lineno"> 5257</span>&#160;</div>
<div class="line"><a name="l05258"></a><span class="lineno"> 5258</span>&#160;    <span class="keywordflow">if</span> (_implementedDataSourceMethods &amp; <a class="code" href="_c_p_table_view_8j.html#a9f25c28df39dca590ad108beb6b4b48b">CPTableViewDataSource_tableView_setObjectValue_forTableColumn_row_</a>)</div>
<div class="line"><a name="l05259"></a><span class="lineno"> 5259</span>&#160;        [_dataSource tableView:self setObjectValue:[aDataView objectValue] forTableColumn:editingTableColumn row:_editingRow];</div>
<div class="line"><a name="l05260"></a><span class="lineno"> 5260</span>&#160;</div>
<div class="line"><a name="l05261"></a><span class="lineno"> 5261</span>&#160;    <span class="comment">// Allow the column binding to do a reverse set. Note that we do this even if the data source method above</span></div>
<div class="line"><a name="l05262"></a><span class="lineno"> 5262</span>&#160;    <span class="comment">// is implemented.</span></div>
<div class="line"><a name="l05263"></a><span class="lineno"> 5263</span>&#160;    [editingTableColumn _reverseSetDataView:aDataView forRow:_editingRow];</div>
<div class="line"><a name="l05264"></a><span class="lineno"> 5264</span>&#160;</div>
<div class="line"><a name="l05265"></a><span class="lineno"> 5265</span>&#160;    <span class="keywordflow">if</span> (_editingRow !== <a class="code" href="_c_p_obj_j_runtime_8j.html#a84e3be579b365cc2c1559e1a1f469238">CPNotFound</a> &amp;&amp; _editingColumn !== <a class="code" href="_c_p_obj_j_runtime_8j.html#a84e3be579b365cc2c1559e1a1f469238">CPNotFound</a>)</div>
<div class="line"><a name="l05266"></a><span class="lineno"> 5266</span>&#160;        [<span class="keyword">self</span> reloadDataForRowIndexes:[<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a> <a class="code" href="interface_c_p_index_set.html#a4aa683fde78ba593d0e70040125ed306">indexSetWithIndex</a>:_editingRow] <a class="code" href="interface_c_p_table_view.html#a69ae01655437f565b3f51bd2805fe68a">columnIndexes</a>:[<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a> <a class="code" href="interface_c_p_index_set.html#a4aa683fde78ba593d0e70040125ed306">indexSetWithIndex</a>:_editingColumn]];</div>
<div class="line"><a name="l05267"></a><span class="lineno"> 5267</span>&#160;}</div>
<div class="line"><a name="l05268"></a><span class="lineno"> 5268</span>&#160;</div>
<div class="line"><a name="l05269"></a><span class="lineno"> 5269</span>&#160;- (void)_setEditingState:(BOOL)editingState forView:(<a class="code" href="interface_c_p_view.html">CPView</a>)aView</div>
<div class="line"><a name="l05270"></a><span class="lineno"> 5270</span>&#160;{</div>
<div class="line"><a name="l05271"></a><span class="lineno"> 5271</span>&#160;    <span class="keywordflow">if</span> ([aView respondsToSelector:<span class="keyword">@selector</span>(setEditable:)])</div>
<div class="line"><a name="l05272"></a><span class="lineno"> 5272</span>&#160;        [aView setEditable:editingState];</div>
<div class="line"><a name="l05273"></a><span class="lineno"> 5273</span>&#160;</div>
<div class="line"><a name="l05274"></a><span class="lineno"> 5274</span>&#160;    <span class="keywordflow">if</span> ([aView respondsToSelector:<span class="keyword">@selector</span>(setSelectable:)])</div>
<div class="line"><a name="l05275"></a><span class="lineno"> 5275</span>&#160;        [aView setSelectable:editingState];</div>
<div class="line"><a name="l05276"></a><span class="lineno"> 5276</span>&#160;</div>
<div class="line"><a name="l05277"></a><span class="lineno"> 5277</span>&#160;    <span class="keywordflow">if</span> ([aView isKindOfClass:[<a class="code" href="interface_c_p_text_field.html">CPTextField</a> <span class="keyword">class</span>]])</div>
<div class="line"><a name="l05278"></a><span class="lineno"> 5278</span>&#160;        [aView setBezeled:editingState];</div>
<div class="line"><a name="l05279"></a><span class="lineno"> 5279</span>&#160;}</div>
<div class="line"><a name="l05289"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a4787c1ca24a7e508bc95eabd86eddbbf"> 5289</a></span>&#160;- (void)editColumn:(CPInteger)columnIndex row:(CPInteger)rowIndex withEvent:(<a class="code" href="interface_c_p_event.html">CPEvent</a>)theEvent select:(BOOL)flag</div>
<div class="line"><a name="l05290"></a><span class="lineno"> 5290</span>&#160;{</div>
<div class="line"><a name="l05291"></a><span class="lineno"> 5291</span>&#160;    <span class="keywordflow">if</span> (![<span class="keyword">self</span> isRowSelected:rowIndex])</div>
<div class="line"><a name="l05292"></a><span class="lineno"> 5292</span>&#160;        [[<a class="code" href="interface_c_p_exception.html" title="Used to implement exception handling (creating &amp; raising). ">CPException</a> <a class="code" href="interface_c_p_exception.html#a44c9e2d9ffa44471351ac8086093f542">exceptionWithName</a>:@&quot;Error&quot; <a class="code" href="interface_c_p_exception.html#a44c9e2d9ffa44471351ac8086093f542">reason</a>:@&quot;Attempt to edit row &quot; + rowIndex + &quot; when not selected.&quot; <a class="code" href="interface_c_p_exception.html#a44c9e2d9ffa44471351ac8086093f542">userInfo</a>:nil] <a class="code" href="interface_c_p_exception.html#a1428cc4e84f1d200dea624a85d6c9336">raise</a>];</div>
<div class="line"><a name="l05293"></a><span class="lineno"> 5293</span>&#160;</div>
<div class="line"><a name="l05294"></a><span class="lineno"> 5294</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a25ec67f805f6a97b91879cb04933310e">reloadData</a>];</div>
<div class="line"><a name="l05295"></a><span class="lineno"> 5295</span>&#160;</div>
<div class="line"><a name="l05296"></a><span class="lineno"> 5296</span>&#160;    <span class="comment">// Process all events immediately to make sure table data views are reloaded.</span></div>
<div class="line"><a name="l05297"></a><span class="lineno"> 5297</span>&#160;    [[<a class="code" href="interface_c_p_run_loop.html" title="The main run loop for the application. ">CPRunLoop</a> <a class="code" href="interface_c_p_run_loop.html#aba93f1cef957bad4353ce060981c0b9d">currentRunLoop</a>] <a class="code" href="interface_c_p_run_loop.html#aad8e51e44d4c17634d8c45c1ca540217">limitDateForMode</a>:CPDefaultRunLoopMode];</div>
<div class="line"><a name="l05298"></a><span class="lineno"> 5298</span>&#160;</div>
<div class="line"><a name="l05299"></a><span class="lineno"> 5299</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#aac2521d3f258b8a58f3357756a5b830f">scrollRowToVisible</a>:rowIndex];</div>
<div class="line"><a name="l05300"></a><span class="lineno"> 5300</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a2ffae1b91fadd2aa6055af8b2be802d8">scrollColumnToVisible</a>:columnIndex];</div>
<div class="line"><a name="l05301"></a><span class="lineno"> 5301</span>&#160;</div>
<div class="line"><a name="l05302"></a><span class="lineno"> 5302</span>&#160;    <span class="comment">// TODO Do something with flag.</span></div>
<div class="line"><a name="l05303"></a><span class="lineno"> 5303</span>&#160;</div>
<div class="line"><a name="l05304"></a><span class="lineno"> 5304</span>&#160;    _editingRow = rowIndex;</div>
<div class="line"><a name="l05305"></a><span class="lineno"> 5305</span>&#160;    _editingColumn = <a class="code" href="_c_p_table_view_8j.html#a8fcaace9d7ea1c63a8ab03f24af2fbae">columnIndex</a>;</div>
<div class="line"><a name="l05306"></a><span class="lineno"> 5306</span>&#160;</div>
<div class="line"><a name="l05307"></a><span class="lineno"> 5307</span>&#160;    var editingTableColumnUID = [_tableColumns[_editingColumn] UID],</div>
<div class="line"><a name="l05308"></a><span class="lineno"> 5308</span>&#160;        editingView = _dataViewsForRows[_editingRow][editingTableColumnUID];</div>
<div class="line"><a name="l05309"></a><span class="lineno"> 5309</span>&#160;</div>
<div class="line"><a name="l05310"></a><span class="lineno"> 5310</span>&#160;    [<span class="keyword">self</span> _setEditingState:YES forView:editingView];</div>
<div class="line"><a name="l05311"></a><span class="lineno"> 5311</span>&#160;    [[<span class="keyword">self</span> <a class="code" href="interface_c_p_view.html#ae83c8efd2cc2cfe0dd767c1a6bb6d0a7">window</a>] <a class="code" href="interface_c_p_window.html#a8fc7c3a24092c25057a4314694ef7c6d">makeFirstResponder</a>:editingView];</div>
<div class="line"><a name="l05312"></a><span class="lineno"> 5312</span>&#160;}</div>
<div class="line"><a name="l05313"></a><span class="lineno"> 5313</span>&#160;</div>
<div class="line"><a name="l05314"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a45eee03abb9bf9dc95598e6ed265ce38"> 5314</a></span>&#160;- (void)observeValueForKeyPath:(<a class="code" href="interface_c_p_string.html" title="An immutable string (collection of characters). ">CPString</a>)keyPath ofObject:(<span class="keywordtype">id</span>)object change:(<a class="code" href="interface_c_p_dictionary.html" title="A mutable key-value pair collection. ">CPDictionary</a>)change context:(<span class="keywordtype">void</span>)context</div>
<div class="line"><a name="l05315"></a><span class="lineno"> 5315</span>&#160;{</div>
<div class="line"><a name="l05316"></a><span class="lineno"> 5316</span>&#160;    <span class="keywordflow">if</span> (context === <span class="stringliteral">&quot;editing&quot;</span> &amp;&amp; [<span class="keywordtype">object</span> superview] === <span class="keyword">self</span>)</div>
<div class="line"><a name="l05317"></a><span class="lineno"> 5317</span>&#160;    {</div>
<div class="line"><a name="l05318"></a><span class="lineno"> 5318</span>&#160;        [object removeObserver:self forKeyPath:keyPath];</div>
<div class="line"><a name="l05319"></a><span class="lineno"> 5319</span>&#160;        [<span class="keyword">self</span> _commitDataViewObjectValue:object];</div>
<div class="line"><a name="l05320"></a><span class="lineno"> 5320</span>&#160;        _editingRow = <a class="code" href="_c_p_obj_j_runtime_8j.html#a84e3be579b365cc2c1559e1a1f469238">CPNotFound</a>;</div>
<div class="line"><a name="l05321"></a><span class="lineno"> 5321</span>&#160;        _editingColumn = <a class="code" href="_c_p_obj_j_runtime_8j.html#a84e3be579b365cc2c1559e1a1f469238">CPNotFound</a>;</div>
<div class="line"><a name="l05322"></a><span class="lineno"> 5322</span>&#160;    }</div>
<div class="line"><a name="l05323"></a><span class="lineno"> 5323</span>&#160;}</div>
<div class="line"><a name="l05324"></a><span class="lineno"> 5324</span>&#160;</div>
<div class="line"><a name="l05328"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#aab2509005e961a47adf2fa648c4f9246"> 5328</a></span>&#160;- (CPInteger)editedColumn</div>
<div class="line"><a name="l05329"></a><span class="lineno"> 5329</span>&#160;{</div>
<div class="line"><a name="l05330"></a><span class="lineno"> 5330</span>&#160;    <span class="keywordflow">return</span> _editingColumn;</div>
<div class="line"><a name="l05331"></a><span class="lineno"> 5331</span>&#160;}</div>
<div class="line"><a name="l05332"></a><span class="lineno"> 5332</span>&#160;</div>
<div class="line"><a name="l05336"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#abc2ea2f21ecc058296ed2e870e5389cd"> 5336</a></span>&#160;- (CPInteger)editedRow</div>
<div class="line"><a name="l05337"></a><span class="lineno"> 5337</span>&#160;{</div>
<div class="line"><a name="l05338"></a><span class="lineno"> 5338</span>&#160;    <span class="keywordflow">return</span> _editingRow;</div>
<div class="line"><a name="l05339"></a><span class="lineno"> 5339</span>&#160;}</div>
<div class="line"><a name="l05340"></a><span class="lineno"> 5340</span>&#160;</div>
<div class="line"><a name="l05344"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#acef038119638ef86e8c02a10d7076c7e"> 5344</a></span>&#160;- (void)keyDown:(<a class="code" href="interface_c_p_event.html">CPEvent</a>)anEvent</div>
<div class="line"><a name="l05345"></a><span class="lineno"> 5345</span>&#160;{</div>
<div class="line"><a name="l05346"></a><span class="lineno"> 5346</span>&#160;    var character = [anEvent <a class="code" href="interface_c_p_event.html#aa1b99c685842a415f6736d776c8aba90">charactersIgnoringModifiers</a>],</div>
<div class="line"><a name="l05347"></a><span class="lineno"> 5347</span>&#160;        modifierFlags = [anEvent <a class="code" href="interface_c_p_event.html#ae1990580a2f73b19009f30f27ff1e396">modifierFlags</a>];</div>
<div class="line"><a name="l05348"></a><span class="lineno"> 5348</span>&#160;</div>
<div class="line"><a name="l05349"></a><span class="lineno"> 5349</span>&#160;    <span class="comment">// Check for the key events manually, as opposed to waiting for CPWindow to sent the actual action message</span></div>
<div class="line"><a name="l05350"></a><span class="lineno"> 5350</span>&#160;    <span class="comment">// in _processKeyboardUIKey:, because we might not want to handle the arrow events.</span></div>
<div class="line"><a name="l05351"></a><span class="lineno"> 5351</span>&#160;    <span class="keywordflow">if</span> (character === <a class="code" href="_c_p_event___constants_8j.html#ae1778265f97b7c394c0617159156585c">CPUpArrowFunctionKey</a> || character === <a class="code" href="_c_p_event___constants_8j.html#a81c853f6885886ea46e804182dd4fa0b">CPDownArrowFunctionKey</a>)</div>
<div class="line"><a name="l05352"></a><span class="lineno"> 5352</span>&#160;    {</div>
<div class="line"><a name="l05353"></a><span class="lineno"> 5353</span>&#160;        <span class="comment">// We&#39;re not interested in the arrow keys if there are no rows.</span></div>
<div class="line"><a name="l05354"></a><span class="lineno"> 5354</span>&#160;        <span class="comment">// Technically we should also not be interested if we can&#39;t scroll,</span></div>
<div class="line"><a name="l05355"></a><span class="lineno"> 5355</span>&#160;        <span class="comment">// but Cocoa doesn&#39;t handle that situation either.</span></div>
<div class="line"><a name="l05356"></a><span class="lineno"> 5356</span>&#160;        <span class="keywordflow">if</span> ([<span class="keyword">self</span> numberOfRows] !== 0)</div>
<div class="line"><a name="l05357"></a><span class="lineno"> 5357</span>&#160;        {</div>
<div class="line"><a name="l05358"></a><span class="lineno"> 5358</span>&#160;            [<span class="keyword">self</span> _moveSelectionWithEvent:anEvent upward:(character === CPUpArrowFunctionKey)];</div>
<div class="line"><a name="l05359"></a><span class="lineno"> 5359</span>&#160;</div>
<div class="line"><a name="l05360"></a><span class="lineno"> 5360</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05361"></a><span class="lineno"> 5361</span>&#160;        }</div>
<div class="line"><a name="l05362"></a><span class="lineno"> 5362</span>&#160;    }</div>
<div class="line"><a name="l05363"></a><span class="lineno"> 5363</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (character === <a class="code" href="_c_p_text_8j.html#ac307a9857718545f7f0b9d43c0e6009c">CPDeleteCharacter</a> || character === <a class="code" href="_c_p_event___constants_8j.html#a18dd9139c2e4b4c4b833138bf7d73b40">CPDeleteFunctionKey</a>)</div>
<div class="line"><a name="l05364"></a><span class="lineno"> 5364</span>&#160;    {</div>
<div class="line"><a name="l05365"></a><span class="lineno"> 5365</span>&#160;        <span class="comment">// Don&#39;t call super if the delegate is interested in the delete key</span></div>
<div class="line"><a name="l05366"></a><span class="lineno"> 5366</span>&#160;        <span class="keywordflow">if</span> ([<span class="keyword">self</span> _sendDelegateDeleteKeyPressed])</div>
<div class="line"><a name="l05367"></a><span class="lineno"> 5367</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05368"></a><span class="lineno"> 5368</span>&#160;    }</div>
<div class="line"><a name="l05369"></a><span class="lineno"> 5369</span>&#160;</div>
<div class="line"><a name="l05370"></a><span class="lineno"> 5370</span>&#160;    [<span class="keyword">super</span> <a class="code" href="interface_c_p_responder.html#ab79a1f20ad2061e44fcf08ced0e2d391">keyDown</a>:anEvent];</div>
<div class="line"><a name="l05371"></a><span class="lineno"> 5371</span>&#160;}</div>
<div class="line"><a name="l05372"></a><span class="lineno"> 5372</span>&#160;</div>
<div class="line"><a name="l05378"></a><span class="lineno"> 5378</span>&#160;- (BOOL)_selectionIsBroken</div>
<div class="line"><a name="l05379"></a><span class="lineno"> 5379</span>&#160;{</div>
<div class="line"><a name="l05380"></a><span class="lineno"> 5380</span>&#160;    <span class="keywordflow">return</span> [<span class="keyword">self</span> selectedRowIndexes]._ranges.length !== 1;</div>
<div class="line"><a name="l05381"></a><span class="lineno"> 5381</span>&#160;}</div>
<div class="line"><a name="l05382"></a><span class="lineno"> 5382</span>&#160;</div>
<div class="line"><a name="l05388"></a><span class="lineno"> 5388</span>&#160;- (void)_moveSelectionWithEvent:(<a class="code" href="interface_c_p_event.html">CPEvent</a>)theEvent upward:(BOOL)shouldGoUpward</div>
<div class="line"><a name="l05389"></a><span class="lineno"> 5389</span>&#160;{</div>
<div class="line"><a name="l05390"></a><span class="lineno"> 5390</span>&#160;    <span class="keywordflow">if</span> (![<span class="keyword">self</span> _sendDelegateSelectionShouldChangeInTableView])</div>
<div class="line"><a name="l05391"></a><span class="lineno"> 5391</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05392"></a><span class="lineno"> 5392</span>&#160;</div>
<div class="line"><a name="l05393"></a><span class="lineno"> 5393</span>&#160;    var selectedIndexes = [<span class="keyword">self</span> selectedRowIndexes];</div>
<div class="line"><a name="l05394"></a><span class="lineno"> 5394</span>&#160;</div>
<div class="line"><a name="l05395"></a><span class="lineno"> 5395</span>&#160;    <span class="keywordflow">if</span> ([selectedIndexes count] &gt; 0)</div>
<div class="line"><a name="l05396"></a><span class="lineno"> 5396</span>&#160;    {</div>
<div class="line"><a name="l05397"></a><span class="lineno"> 5397</span>&#160;        var extend = (([theEvent <a class="code" href="interface_c_p_event.html#ae1990580a2f73b19009f30f27ff1e396">modifierFlags</a>] &amp; <a class="code" href="_c_p_event___constants_8j.html#a2343191b34b38dc1952bb44d83fa30d6">CPShiftKeyMask</a>) &amp;&amp; _allowsMultipleSelection),</div>
<div class="line"><a name="l05398"></a><span class="lineno"> 5398</span>&#160;            i = [<span class="keyword">self</span> selectedRow];</div>
<div class="line"><a name="l05399"></a><span class="lineno"> 5399</span>&#160;</div>
<div class="line"><a name="l05400"></a><span class="lineno"> 5400</span>&#160;        <span class="keywordflow">if</span> ([<span class="keyword">self</span> _selectionIsBroken])</div>
<div class="line"><a name="l05401"></a><span class="lineno"> 5401</span>&#160;        {</div>
<div class="line"><a name="l05402"></a><span class="lineno"> 5402</span>&#160;            <span class="keywordflow">while</span> ([selectedIndexes containsIndex:i])</div>
<div class="line"><a name="l05403"></a><span class="lineno"> 5403</span>&#160;            {</div>
<div class="line"><a name="l05404"></a><span class="lineno"> 5404</span>&#160;                shouldGoUpward ? i-- : i++;</div>
<div class="line"><a name="l05405"></a><span class="lineno"> 5405</span>&#160;            }</div>
<div class="line"><a name="l05406"></a><span class="lineno"> 5406</span>&#160;            _wasSelectionBroken = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05407"></a><span class="lineno"> 5407</span>&#160;        }</div>
<div class="line"><a name="l05408"></a><span class="lineno"> 5408</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (_wasSelectionBroken &amp;&amp; ((shouldGoUpward &amp;&amp; i !== [selectedIndexes firstIndex]) || (!shouldGoUpward &amp;&amp; i !== [selectedIndexes lastIndex])))</div>
<div class="line"><a name="l05409"></a><span class="lineno"> 5409</span>&#160;        {</div>
<div class="line"><a name="l05410"></a><span class="lineno"> 5410</span>&#160;            shouldGoUpward ? i = [selectedIndexes firstIndex] - 1 : i = [selectedIndexes lastIndex];</div>
<div class="line"><a name="l05411"></a><span class="lineno"> 5411</span>&#160;            _wasSelectionBroken = <span class="keyword">false</span>;</div>
<div class="line"><a name="l05412"></a><span class="lineno"> 5412</span>&#160;        }</div>
<div class="line"><a name="l05413"></a><span class="lineno"> 5413</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l05414"></a><span class="lineno"> 5414</span>&#160;        {</div>
<div class="line"><a name="l05415"></a><span class="lineno"> 5415</span>&#160;            shouldGoUpward ? i-- : i++;</div>
<div class="line"><a name="l05416"></a><span class="lineno"> 5416</span>&#160;        }</div>
<div class="line"><a name="l05417"></a><span class="lineno"> 5417</span>&#160;    }</div>
<div class="line"><a name="l05418"></a><span class="lineno"> 5418</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l05419"></a><span class="lineno"> 5419</span>&#160;    {</div>
<div class="line"><a name="l05420"></a><span class="lineno"> 5420</span>&#160;        var extend = NO;</div>
<div class="line"><a name="l05421"></a><span class="lineno"> 5421</span>&#160;        <span class="comment">//no rows are currently selected</span></div>
<div class="line"><a name="l05422"></a><span class="lineno"> 5422</span>&#160;        <span class="keywordflow">if</span> ([<span class="keyword">self</span> numberOfRows] &gt; 0)</div>
<div class="line"><a name="l05423"></a><span class="lineno"> 5423</span>&#160;            var i = shouldGoUpward ? [<span class="keyword">self</span> numberOfRows] - 1 : 0; <span class="comment">// if we select upward select the last row, otherwise select the first row</span></div>
<div class="line"><a name="l05424"></a><span class="lineno"> 5424</span>&#160;    }</div>
<div class="line"><a name="l05425"></a><span class="lineno"> 5425</span>&#160;</div>
<div class="line"><a name="l05426"></a><span class="lineno"> 5426</span>&#160;    <span class="keywordflow">if</span> (i &gt;= [<span class="keyword">self</span> numberOfRows] || i &lt; 0)</div>
<div class="line"><a name="l05427"></a><span class="lineno"> 5427</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05428"></a><span class="lineno"> 5428</span>&#160;</div>
<div class="line"><a name="l05429"></a><span class="lineno"> 5429</span>&#160;    <span class="keywordflow">if</span> ([<span class="keyword">self</span> _delegateRespondsToSelectionIndexesForProposedSelection] || [<span class="keyword">self</span> _delegateRespondsToShouldSelectRow])</div>
<div class="line"><a name="l05430"></a><span class="lineno"> 5430</span>&#160;    {</div>
<div class="line"><a name="l05431"></a><span class="lineno"> 5431</span>&#160;        var shouldSelect = !![[<span class="keyword">self</span> _cleanUpSelectionRowIndexes:[<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a> <a class="code" href="interface_c_p_index_set.html#a4aa683fde78ba593d0e70040125ed306">indexSetWithIndex</a>:i]] <a class="code" href="interface_c_p_index_set.html#a837688ed946ca09c66595dfa30345d03">count</a>];</div>
<div class="line"><a name="l05432"></a><span class="lineno"> 5432</span>&#160;</div>
<div class="line"><a name="l05433"></a><span class="lineno"> 5433</span>&#160;        <span class="comment">/* If shouldSelect returns NO it means this row cannot be selected.</span></div>
<div class="line"><a name="l05434"></a><span class="lineno"> 5434</span>&#160;<span class="comment">            The proper behaviour is to then try to see if the next/previous</span></div>
<div class="line"><a name="l05435"></a><span class="lineno"> 5435</span>&#160;<span class="comment">            row(s) can be selected, until we hit the first one that can be.</span></div>
<div class="line"><a name="l05436"></a><span class="lineno"> 5436</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l05437"></a><span class="lineno"> 5437</span>&#160;        <span class="keywordflow">while</span> (!shouldSelect &amp;&amp; (i &lt; [<span class="keyword">self</span> numberOfRows] &amp;&amp; i &gt; 0))</div>
<div class="line"><a name="l05438"></a><span class="lineno"> 5438</span>&#160;        {</div>
<div class="line"><a name="l05439"></a><span class="lineno"> 5439</span>&#160;            shouldGoUpward ? --i : ++i; <span class="comment">//check to see if the row can be selected. If it can&#39;t be then see if the next row can be selected.</span></div>
<div class="line"><a name="l05440"></a><span class="lineno"> 5440</span>&#160;            shouldSelect = !![[<span class="keyword">self</span> _cleanUpSelectionRowIndexes:[<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a> <a class="code" href="interface_c_p_index_set.html#a4aa683fde78ba593d0e70040125ed306">indexSetWithIndex</a>:i]] <a class="code" href="interface_c_p_index_set.html#a837688ed946ca09c66595dfa30345d03">count</a>];</div>
<div class="line"><a name="l05441"></a><span class="lineno"> 5441</span>&#160;        }</div>
<div class="line"><a name="l05442"></a><span class="lineno"> 5442</span>&#160;</div>
<div class="line"><a name="l05443"></a><span class="lineno"> 5443</span>&#160;        <span class="keywordflow">if</span> (!shouldSelect)</div>
<div class="line"><a name="l05444"></a><span class="lineno"> 5444</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05445"></a><span class="lineno"> 5445</span>&#160;    }</div>
<div class="line"><a name="l05446"></a><span class="lineno"> 5446</span>&#160;</div>
<div class="line"><a name="l05447"></a><span class="lineno"> 5447</span>&#160;    <span class="comment">// If we go upward and see that this row is already selected we should deselect the row below.</span></div>
<div class="line"><a name="l05448"></a><span class="lineno"> 5448</span>&#160;    <span class="keywordflow">if</span> (extend &amp;&amp; [selectedIndexes containsIndex:i])</div>
<div class="line"><a name="l05449"></a><span class="lineno"> 5449</span>&#160;    {</div>
<div class="line"><a name="l05450"></a><span class="lineno"> 5450</span>&#160;        <span class="comment">// The row we&#39;re on is the last to be selected.</span></div>
<div class="line"><a name="l05451"></a><span class="lineno"> 5451</span>&#160;        var differedLastSelectedRow = i;</div>
<div class="line"><a name="l05452"></a><span class="lineno"> 5452</span>&#160;</div>
<div class="line"><a name="l05453"></a><span class="lineno"> 5453</span>&#160;        <span class="comment">// no remove the one before/after it</span></div>
<div class="line"><a name="l05454"></a><span class="lineno"> 5454</span>&#160;        shouldGoUpward ? i++ : i--;</div>
<div class="line"><a name="l05455"></a><span class="lineno"> 5455</span>&#160;</div>
<div class="line"><a name="l05456"></a><span class="lineno"> 5456</span>&#160;        [selectedIndexes removeIndex:i];</div>
<div class="line"><a name="l05457"></a><span class="lineno"> 5457</span>&#160;</div>
<div class="line"><a name="l05458"></a><span class="lineno"> 5458</span>&#160;        <span class="comment">//we&#39;re going to replace the selection</span></div>
<div class="line"><a name="l05459"></a><span class="lineno"> 5459</span>&#160;        extend = NO;</div>
<div class="line"><a name="l05460"></a><span class="lineno"> 5460</span>&#160;    }</div>
<div class="line"><a name="l05461"></a><span class="lineno"> 5461</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (extend)</div>
<div class="line"><a name="l05462"></a><span class="lineno"> 5462</span>&#160;    {</div>
<div class="line"><a name="l05463"></a><span class="lineno"> 5463</span>&#160;        <span class="keywordflow">if</span> ([selectedIndexes containsIndex:i])</div>
<div class="line"><a name="l05464"></a><span class="lineno"> 5464</span>&#160;        {</div>
<div class="line"><a name="l05465"></a><span class="lineno"> 5465</span>&#160;            i = shouldGoUpward ? [selectedIndexes firstIndex] -1 : [selectedIndexes lastIndex] + 1;</div>
<div class="line"><a name="l05466"></a><span class="lineno"> 5466</span>&#160;            i = MIN(MAX(i, 0), [<span class="keyword">self</span> numberOfRows] - 1);</div>
<div class="line"><a name="l05467"></a><span class="lineno"> 5467</span>&#160;        }</div>
<div class="line"><a name="l05468"></a><span class="lineno"> 5468</span>&#160;</div>
<div class="line"><a name="l05469"></a><span class="lineno"> 5469</span>&#160;        [selectedIndexes addIndex:i];</div>
<div class="line"><a name="l05470"></a><span class="lineno"> 5470</span>&#160;        var differedLastSelectedRow = i;</div>
<div class="line"><a name="l05471"></a><span class="lineno"> 5471</span>&#160;    }</div>
<div class="line"><a name="l05472"></a><span class="lineno"> 5472</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l05473"></a><span class="lineno"> 5473</span>&#160;    {</div>
<div class="line"><a name="l05474"></a><span class="lineno"> 5474</span>&#160;        selectedIndexes = [<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a> <a class="code" href="interface_c_p_index_set.html#a4aa683fde78ba593d0e70040125ed306">indexSetWithIndex</a>:i];</div>
<div class="line"><a name="l05475"></a><span class="lineno"> 5475</span>&#160;        var differedLastSelectedRow = i;</div>
<div class="line"><a name="l05476"></a><span class="lineno"> 5476</span>&#160;    }</div>
<div class="line"><a name="l05477"></a><span class="lineno"> 5477</span>&#160;</div>
<div class="line"><a name="l05478"></a><span class="lineno"> 5478</span>&#160;    selectedIndexes = [<span class="keyword">self</span> _sendDelegateSelectionIndexesForProposedSelection:selectedIndexes];</div>
<div class="line"><a name="l05479"></a><span class="lineno"> 5479</span>&#160;</div>
<div class="line"><a name="l05480"></a><span class="lineno"> 5480</span>&#160;    [<span class="keyword">self</span> selectRowIndexes:selectedIndexes byExtendingSelection:extend];</div>
<div class="line"><a name="l05481"></a><span class="lineno"> 5481</span>&#160;</div>
<div class="line"><a name="l05482"></a><span class="lineno"> 5482</span>&#160;    <span class="comment">// we differ because selectRowIndexes: does its own thing which would set the wrong index</span></div>
<div class="line"><a name="l05483"></a><span class="lineno"> 5483</span>&#160;    _lastSelectedRow = differedLastSelectedRow;</div>
<div class="line"><a name="l05484"></a><span class="lineno"> 5484</span>&#160;</div>
<div class="line"><a name="l05485"></a><span class="lineno"> 5485</span>&#160;    <span class="keywordflow">if</span> (i !== <a class="code" href="_c_p_obj_j_runtime_8j.html#a84e3be579b365cc2c1559e1a1f469238">CPNotFound</a>)</div>
<div class="line"><a name="l05486"></a><span class="lineno"> 5486</span>&#160;        [<span class="keyword">self</span> scrollRowToVisible:i];</div>
<div class="line"><a name="l05487"></a><span class="lineno"> 5487</span>&#160;}</div>
<div class="line"><a name="l05488"></a><span class="lineno"> 5488</span>&#160;</div>
<div class="line"><a name="l05489"></a><span class="lineno"> 5489</span>&#160;<span class="keyword">@end</span></div>
<div class="line"><a name="l05490"></a><span class="lineno"> 5490</span>&#160;</div>
<div class="line"><a name="l05491"></a><span class="lineno"> 5491</span>&#160;</div>
<div class="line"><a name="l05492"></a><span class="lineno"><a class="code" href="category_c_p_table_view_07_table_view_data_source_08.html"> 5492</a></span>&#160;<span class="keyword">@implementation </span><a class="code" href="category_c_p_table_view_07_table_view_data_source_08.html">CPTableView (TableViewDataSource)</a></div>
<div class="line"><a name="l05493"></a><span class="lineno"> 5493</span>&#160;</div>
<div class="line"><a name="l05498"></a><span class="lineno"> 5498</span>&#160;- (BOOL)_dataSourceRespondsToObjectValueForTableColumn</div>
<div class="line"><a name="l05499"></a><span class="lineno"> 5499</span>&#160;{</div>
<div class="line"><a name="l05500"></a><span class="lineno"> 5500</span>&#160;    <span class="keywordflow">return</span> _implementedDataSourceMethods &amp; <a class="code" href="_c_p_table_view_8j.html#a23288f0ff7ed53d22d474f4248c733b1">CPTableViewDataSource_tableView_objectValueForTableColumn_row_</a>;</div>
<div class="line"><a name="l05501"></a><span class="lineno"> 5501</span>&#160;}</div>
<div class="line"><a name="l05502"></a><span class="lineno"> 5502</span>&#160;</div>
<div class="line"><a name="l05507"></a><span class="lineno"> 5507</span>&#160;- (BOOL)_dataSourceRespondsToWriteRowsWithIndexesToPasteboard</div>
<div class="line"><a name="l05508"></a><span class="lineno"> 5508</span>&#160;{</div>
<div class="line"><a name="l05509"></a><span class="lineno"> 5509</span>&#160;    <span class="keywordflow">return</span> _implementedDataSourceMethods &amp; <a class="code" href="_c_p_table_view_8j.html#a3fb0a731ef8cca0484830f426bcbe81f">CPTableViewDataSource_tableView_writeRowsWithIndexes_toPasteboard_</a>;</div>
<div class="line"><a name="l05510"></a><span class="lineno"> 5510</span>&#160;}</div>
<div class="line"><a name="l05511"></a><span class="lineno"> 5511</span>&#160;</div>
<div class="line"><a name="l05516"></a><span class="lineno"> 5516</span>&#160;- (BOOL)_dataSourceRespondsToSetObjectValueForTableColumnRow</div>
<div class="line"><a name="l05517"></a><span class="lineno"> 5517</span>&#160;{</div>
<div class="line"><a name="l05518"></a><span class="lineno"> 5518</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="_c_p_table_view_8j.html#a9f25c28df39dca590ad108beb6b4b48b">CPTableViewDataSource_tableView_setObjectValue_forTableColumn_row_</a>;</div>
<div class="line"><a name="l05519"></a><span class="lineno"> 5519</span>&#160;}</div>
<div class="line"><a name="l05520"></a><span class="lineno"> 5520</span>&#160;</div>
<div class="line"><a name="l05525"></a><span class="lineno"> 5525</span>&#160;- (BOOL)_dataSourceRespondsToValidateDropProposedRowProposedDropOperation</div>
<div class="line"><a name="l05526"></a><span class="lineno"> 5526</span>&#160;{</div>
<div class="line"><a name="l05527"></a><span class="lineno"> 5527</span>&#160;    <span class="keywordflow">return</span> _implementedDataSourceMethods &amp; <a class="code" href="_c_p_table_view_8j.html#a4f6917aa9754d8c13c933ae043ca4963">CPTableViewDataSource_tableView_validateDrop_proposedRow_proposedDropOperation_</a>;</div>
<div class="line"><a name="l05528"></a><span class="lineno"> 5528</span>&#160;}</div>
<div class="line"><a name="l05529"></a><span class="lineno"> 5529</span>&#160;</div>
<div class="line"><a name="l05534"></a><span class="lineno"> 5534</span>&#160;- (BOOL)_dataSourceRespondsToNumberOfRowsinTableView</div>
<div class="line"><a name="l05535"></a><span class="lineno"> 5535</span>&#160;{</div>
<div class="line"><a name="l05536"></a><span class="lineno"> 5536</span>&#160;    <span class="keywordflow">return</span> _implementedDataSourceMethods &amp; <a class="code" href="_c_p_table_view_8j.html#a79c288910d3f547d5433a6946cec05bc">CPTableViewDataSource_numberOfRowsInTableView_</a>;</div>
<div class="line"><a name="l05537"></a><span class="lineno"> 5537</span>&#160;}</div>
<div class="line"><a name="l05538"></a><span class="lineno"> 5538</span>&#160;</div>
<div class="line"><a name="l05544"></a><span class="lineno"> 5544</span>&#160;- (int)_sendDataSourceNumberOfRowsInTableView</div>
<div class="line"><a name="l05545"></a><span class="lineno"> 5545</span>&#160;{</div>
<div class="line"><a name="l05546"></a><span class="lineno"> 5546</span>&#160;    <span class="keywordflow">if</span> (!(_implementedDataSourceMethods &amp; <a class="code" href="_c_p_table_view_8j.html#a79c288910d3f547d5433a6946cec05bc">CPTableViewDataSource_numberOfRowsInTableView_</a>))</div>
<div class="line"><a name="l05547"></a><span class="lineno"> 5547</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l05548"></a><span class="lineno"> 5548</span>&#160;</div>
<div class="line"><a name="l05549"></a><span class="lineno"> 5549</span>&#160;    <span class="keywordflow">return</span> [_dataSource numberOfRowsInTableView:self];</div>
<div class="line"><a name="l05550"></a><span class="lineno"> 5550</span>&#160;}</div>
<div class="line"><a name="l05551"></a><span class="lineno"> 5551</span>&#160;</div>
<div class="line"><a name="l05557"></a><span class="lineno"> 5557</span>&#160;- (id)_sendDataSourceObjectValueForTableColumn:(<a class="code" href="interface_c_p_table_column.html">CPTableColumn</a>)aTableColumn row:(CPInteger)aRowIndex</div>
<div class="line"><a name="l05558"></a><span class="lineno"> 5558</span>&#160;{</div>
<div class="line"><a name="l05559"></a><span class="lineno"> 5559</span>&#160;    <span class="keywordflow">if</span> (!(_implementedDataSourceMethods &amp; <a class="code" href="_c_p_table_view_8j.html#a23288f0ff7ed53d22d474f4248c733b1">CPTableViewDataSource_tableView_objectValueForTableColumn_row_</a>))</div>
<div class="line"><a name="l05560"></a><span class="lineno"> 5560</span>&#160;        <span class="keywordflow">return</span> nil;</div>
<div class="line"><a name="l05561"></a><span class="lineno"> 5561</span>&#160;</div>
<div class="line"><a name="l05562"></a><span class="lineno"> 5562</span>&#160;    <span class="keywordflow">return</span> [_dataSource tableView:self objectValueForTableColumn:aTableColumn row:aRowIndex];</div>
<div class="line"><a name="l05563"></a><span class="lineno"> 5563</span>&#160;}</div>
<div class="line"><a name="l05564"></a><span class="lineno"> 5564</span>&#160;</div>
<div class="line"><a name="l05569"></a><span class="lineno"> 5569</span>&#160;- (void)_sendDataSourceSetObjectValue:(<span class="keywordtype">id</span>)anObject forTableColumn:(<a class="code" href="interface_c_p_table_column.html">CPTableColumn</a>)aTableColumn row:(CPInteger)aRowIndex</div>
<div class="line"><a name="l05570"></a><span class="lineno"> 5570</span>&#160;{</div>
<div class="line"><a name="l05571"></a><span class="lineno"> 5571</span>&#160;    <span class="keywordflow">if</span> (!(_implementedDataSourceMethods &amp; <a class="code" href="_c_p_table_view_8j.html#a9f25c28df39dca590ad108beb6b4b48b">CPTableViewDataSource_tableView_setObjectValue_forTableColumn_row_</a>))</div>
<div class="line"><a name="l05572"></a><span class="lineno"> 5572</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05573"></a><span class="lineno"> 5573</span>&#160;</div>
<div class="line"><a name="l05574"></a><span class="lineno"> 5574</span>&#160;    [_dataSource tableView:self setObjectValue:anObject forTableColumn:aTableColumn row:aRowIndex];</div>
<div class="line"><a name="l05575"></a><span class="lineno"> 5575</span>&#160;}</div>
<div class="line"><a name="l05576"></a><span class="lineno"> 5576</span>&#160;</div>
<div class="line"><a name="l05581"></a><span class="lineno"> 5581</span>&#160;- (void)_sendDataSourceSortDescriptorsDidChange:(CPArray)descriptors</div>
<div class="line"><a name="l05582"></a><span class="lineno"> 5582</span>&#160;{</div>
<div class="line"><a name="l05583"></a><span class="lineno"> 5583</span>&#160;    <span class="keywordflow">if</span> (!(_implementedDataSourceMethods &amp; <a class="code" href="_c_p_table_view_8j.html#a3270c812883a130ed7efbc0f119a8ec7">CPTableViewDataSource_tableView_sortDescriptorsDidChange_</a>))</div>
<div class="line"><a name="l05584"></a><span class="lineno"> 5584</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05585"></a><span class="lineno"> 5585</span>&#160;</div>
<div class="line"><a name="l05586"></a><span class="lineno"> 5586</span>&#160;    [_dataSource tableView:self sortDescriptorsDidChange:descriptors];</div>
<div class="line"><a name="l05587"></a><span class="lineno"> 5587</span>&#160;}</div>
<div class="line"><a name="l05588"></a><span class="lineno"> 5588</span>&#160;</div>
<div class="line"><a name="l05593"></a><span class="lineno"> 5593</span>&#160;- (BOOL)_sendDataSourceAcceptDrop:(<span class="keywordtype">id</span>)info row:(CPInteger)aRowIndex dropOperation:(CPTableViewDropOperation)operation</div>
<div class="line"><a name="l05594"></a><span class="lineno"> 5594</span>&#160;{</div>
<div class="line"><a name="l05595"></a><span class="lineno"> 5595</span>&#160;    <span class="keywordflow">if</span> (!(_implementedDataSourceMethods &amp; <a class="code" href="_c_p_table_view_8j.html#a71f4aae1a37e8503f63542e1d977edce">CPTableViewDataSource_tableView_acceptDrop_row_dropOperation_</a>))</div>
<div class="line"><a name="l05596"></a><span class="lineno"> 5596</span>&#160;        <span class="keywordflow">return</span> NO;</div>
<div class="line"><a name="l05597"></a><span class="lineno"> 5597</span>&#160;</div>
<div class="line"><a name="l05598"></a><span class="lineno"> 5598</span>&#160;    <span class="keywordflow">return</span> [_dataSource tableView:self acceptDrop:info row:aRowIndex dropOperation:operation];</div>
<div class="line"><a name="l05599"></a><span class="lineno"> 5599</span>&#160;}</div>
<div class="line"><a name="l05600"></a><span class="lineno"> 5600</span>&#160;</div>
<div class="line"><a name="l05605"></a><span class="lineno"> 5605</span>&#160;- (CPDragOperation)_sendDataSourceValidateDrop:(<span class="keywordtype">id</span>)info proposedRow:(CPInteger)aRowIndex proposedDropOperation:(CPTableViewDropOperation)operation</div>
<div class="line"><a name="l05606"></a><span class="lineno"> 5606</span>&#160;{</div>
<div class="line"><a name="l05607"></a><span class="lineno"> 5607</span>&#160;    <span class="keywordflow">if</span> (!(_implementedDataSourceMethods &amp; <a class="code" href="_c_p_table_view_8j.html#a4f6917aa9754d8c13c933ae043ca4963">CPTableViewDataSource_tableView_validateDrop_proposedRow_proposedDropOperation_</a>))</div>
<div class="line"><a name="l05608"></a><span class="lineno"> 5608</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="_c_p_drag_server___constants_8j.html#a4c8a51b72ef80d850f6d42fc94223ec5">CPDragOperationNone</a>;</div>
<div class="line"><a name="l05609"></a><span class="lineno"> 5609</span>&#160;</div>
<div class="line"><a name="l05610"></a><span class="lineno"> 5610</span>&#160;    <span class="keywordflow">return</span> [_dataSource tableView:self validateDrop:info proposedRow:aRowIndex proposedDropOperation:operation];</div>
<div class="line"><a name="l05611"></a><span class="lineno"> 5611</span>&#160;}</div>
<div class="line"><a name="l05612"></a><span class="lineno"> 5612</span>&#160;</div>
<div class="line"><a name="l05617"></a><span class="lineno"> 5617</span>&#160;- (BOOL)_sendDataSourceWriteRowsWithIndexes:(<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a>)rowIndexes toPasteboard:(<a class="code" href="interface_c_p_pasteboard.html">CPPasteboard</a>)pboard</div>
<div class="line"><a name="l05618"></a><span class="lineno"> 5618</span>&#160;{</div>
<div class="line"><a name="l05619"></a><span class="lineno"> 5619</span>&#160;    <span class="keywordflow">if</span> (!(_implementedDataSourceMethods &amp; <a class="code" href="_c_p_table_view_8j.html#a3fb0a731ef8cca0484830f426bcbe81f">CPTableViewDataSource_tableView_writeRowsWithIndexes_toPasteboard_</a>))</div>
<div class="line"><a name="l05620"></a><span class="lineno"> 5620</span>&#160;        <span class="keywordflow">return</span> NO;</div>
<div class="line"><a name="l05621"></a><span class="lineno"> 5621</span>&#160;</div>
<div class="line"><a name="l05622"></a><span class="lineno"> 5622</span>&#160;    <span class="keywordflow">return</span> [_dataSource tableView:self writeRowsWithIndexes:rowIndexes toPasteboard:pboard];</div>
<div class="line"><a name="l05623"></a><span class="lineno"> 5623</span>&#160;}</div>
<div class="line"><a name="l05624"></a><span class="lineno"> 5624</span>&#160;</div>
<div class="line"><a name="l05625"></a><span class="lineno"> 5625</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l05626"></a><span class="lineno"> 5626</span>&#160;<span class="comment">    This method is sent to the data source for convenience...</span></div>
<div class="line"><a name="l05627"></a><span class="lineno"> 5627</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l05628"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a744ae0caf3779113cb97fa0cc72e8d2f"> 5628</a></span>&#160;- (void)draggedImage:(<a class="code" href="interface_c_p_image.html">CPImage</a>)anImage endedAt:(CGPoint)aLocation operation:(CPDragOperation)anOperation</div>
<div class="line"><a name="l05629"></a><span class="lineno"> 5629</span>&#160;{</div>
<div class="line"><a name="l05630"></a><span class="lineno"> 5630</span>&#160;    <span class="keywordflow">if</span> ([_dataSource respondsToSelector:<span class="keyword">@selector</span>(<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>:didEndDraggedImage:atPosition:operation:)])</div>
<div class="line"><a name="l05631"></a><span class="lineno"> 5631</span>&#160;        [_dataSource tableView:self didEndDraggedImage:anImage atPosition:aLocation operation:anOperation];</div>
<div class="line"><a name="l05632"></a><span class="lineno"> 5632</span>&#160;}</div>
<div class="line"><a name="l05633"></a><span class="lineno"> 5633</span>&#160;</div>
<div class="line"><a name="l05634"></a><span class="lineno"> 5634</span>&#160;</div>
<div class="line"><a name="l05635"></a><span class="lineno"> 5635</span>&#160;<span class="preprocessor">#pragma mark -</span></div>
<div class="line"><a name="l05636"></a><span class="lineno"> 5636</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#pragma mark DataSource methods to implement</span></div>
<div class="line"><a name="l05637"></a><span class="lineno"> 5637</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l05642"></a><span class="lineno"> 5642</span>&#160;- (CPArray)_sendDataSourceNamesOfPromisedFilesDroppedAtDestination:(<a class="code" href="interface_c_p_u_r_l.html">CPURL</a>)dropDestination forDraggedRowsWithIndexes:(<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a>)indexSet</div>
<div class="line"><a name="l05643"></a><span class="lineno"> 5643</span>&#160;{</div>
<div class="line"><a name="l05644"></a><span class="lineno"> 5644</span>&#160;    <span class="keywordflow">if</span> (!(_implementedDataSourceMethods &amp; <a class="code" href="_c_p_table_view_8j.html#a70eaee52bd8ae42e829dc246bfffa90f">CPTableViewDataSource_tableView_namesOfPromisedFilesDroppedAtDestination_forDraggedRowsWithIndexes_</a>))</div>
<div class="line"><a name="l05645"></a><span class="lineno"> 5645</span>&#160;        <span class="keywordflow">return</span> [];</div>
<div class="line"><a name="l05646"></a><span class="lineno"> 5646</span>&#160;</div>
<div class="line"><a name="l05647"></a><span class="lineno"> 5647</span>&#160;    <span class="keywordflow">return</span> [_dataSource tableView:self namesOfPromisedFilesDroppedAtDestination:dropDestination forDraggedRowsWithIndexes:indexSet];</div>
<div class="line"><a name="l05648"></a><span class="lineno"> 5648</span>&#160;}</div>
<div class="line"><a name="l05649"></a><span class="lineno"> 5649</span>&#160;</div>
<div class="line"><a name="l05650"></a><span class="lineno"> 5650</span>&#160;<span class="keyword">@end</span></div>
<div class="line"><a name="l05651"></a><span class="lineno"> 5651</span>&#160;</div>
<div class="line"><a name="l05652"></a><span class="lineno"> 5652</span>&#160;</div>
<div class="line"><a name="l05653"></a><span class="lineno"><a class="code" href="category_c_p_table_view_07_table_view_delegate_08.html"> 5653</a></span>&#160;<span class="keyword">@implementation </span><a class="code" href="category_c_p_table_view_07_table_view_delegate_08.html">CPTableView (TableViewDelegate)</a></div>
<div class="line"><a name="l05654"></a><span class="lineno"> 5654</span>&#160;</div>
<div class="line"><a name="l05659"></a><span class="lineno"> 5659</span>&#160;- (BOOL)_delegateRespondsToDataViewForTableColumn</div>
<div class="line"><a name="l05660"></a><span class="lineno"> 5660</span>&#160;{</div>
<div class="line"><a name="l05661"></a><span class="lineno"> 5661</span>&#160;    <span class="keywordflow">return</span> _implementedDelegateMethods &amp; <a class="code" href="_c_p_table_view_8j.html#a50ccc5dbd574a129aca4b61924308813">CPTableViewDelegate_tableView_dataViewForTableColumn_row_</a>;</div>
<div class="line"><a name="l05662"></a><span class="lineno"> 5662</span>&#160;}</div>
<div class="line"><a name="l05663"></a><span class="lineno"> 5663</span>&#160;</div>
<div class="line"><a name="l05668"></a><span class="lineno"> 5668</span>&#160;- (BOOL)_delegateRespondsToViewForTableColumn</div>
<div class="line"><a name="l05669"></a><span class="lineno"> 5669</span>&#160;{</div>
<div class="line"><a name="l05670"></a><span class="lineno"> 5670</span>&#160;    <span class="keywordflow">return</span> _implementedDelegateMethods &amp; <a class="code" href="_c_p_table_view_8j.html#a72bc603668aee3f7140a5fa4f2e66679">CPTableViewDelegate_tableView_viewForTableColumn_row_</a>;</div>
<div class="line"><a name="l05671"></a><span class="lineno"> 5671</span>&#160;}</div>
<div class="line"><a name="l05672"></a><span class="lineno"> 5672</span>&#160;</div>
<div class="line"><a name="l05677"></a><span class="lineno"> 5677</span>&#160;- (BOOL)_delegateRespondsToShouldSelectRow</div>
<div class="line"><a name="l05678"></a><span class="lineno"> 5678</span>&#160;{</div>
<div class="line"><a name="l05679"></a><span class="lineno"> 5679</span>&#160;    <span class="keywordflow">return</span> _implementedDelegateMethods &amp; <a class="code" href="_c_p_table_view_8j.html#aaea951ab19dc11a096a69b28cc216e38">CPTableViewDelegate_tableView_shouldSelectRow_</a>;</div>
<div class="line"><a name="l05680"></a><span class="lineno"> 5680</span>&#160;}</div>
<div class="line"><a name="l05681"></a><span class="lineno"> 5681</span>&#160;</div>
<div class="line"><a name="l05686"></a><span class="lineno"> 5686</span>&#160;- (BOOL)_delegateRespondsToSelectionShouldChangeInTableView</div>
<div class="line"><a name="l05687"></a><span class="lineno"> 5687</span>&#160;{</div>
<div class="line"><a name="l05688"></a><span class="lineno"> 5688</span>&#160;    <span class="keywordflow">return</span> _implementedDelegateMethods &amp; <a class="code" href="_c_p_table_view_8j.html#a17dd3c2f77d47e02db83a2643962e03f">CPTableViewDelegate_selectionShouldChangeInTableView_</a>;</div>
<div class="line"><a name="l05689"></a><span class="lineno"> 5689</span>&#160;}</div>
<div class="line"><a name="l05690"></a><span class="lineno"> 5690</span>&#160;</div>
<div class="line"><a name="l05695"></a><span class="lineno"> 5695</span>&#160;- (BOOL)_delegateRespondsToSelectionIndexesForProposedSelection</div>
<div class="line"><a name="l05696"></a><span class="lineno"> 5696</span>&#160;{</div>
<div class="line"><a name="l05697"></a><span class="lineno"> 5697</span>&#160;    <span class="keywordflow">return</span> _implementedDelegateMethods &amp; <a class="code" href="_c_p_table_view_8j.html#a87a639d266ecdd1db204b2b3e3d0e97d">CPTableViewDelegate_tableView_selectionIndexesForProposedSelection_</a>;</div>
<div class="line"><a name="l05698"></a><span class="lineno"> 5698</span>&#160;}</div>
<div class="line"><a name="l05699"></a><span class="lineno"> 5699</span>&#160;</div>
<div class="line"><a name="l05704"></a><span class="lineno"> 5704</span>&#160;- (BOOL)_delegateRespondsToMenuForTableColumnRow</div>
<div class="line"><a name="l05705"></a><span class="lineno"> 5705</span>&#160;{</div>
<div class="line"><a name="l05706"></a><span class="lineno"> 5706</span>&#160;    <span class="keywordflow">return</span> _implementedDelegateMethods &amp; <a class="code" href="_c_p_table_view_8j.html#add563e75f969fc2b9f4367b8a2db3fa4">CPTableViewDelegate_tableViewMenuForTableColumn_row_</a>;</div>
<div class="line"><a name="l05707"></a><span class="lineno"> 5707</span>&#160;}</div>
<div class="line"><a name="l05708"></a><span class="lineno"> 5708</span>&#160;</div>
<div class="line"><a name="l05713"></a><span class="lineno"> 5713</span>&#160;- (void)_sendDelegateDidClickTableColumn:(CPInteger)column</div>
<div class="line"><a name="l05714"></a><span class="lineno"> 5714</span>&#160;{</div>
<div class="line"><a name="l05715"></a><span class="lineno"> 5715</span>&#160;    <span class="keywordflow">if</span> (_implementedDelegateMethods &amp; <a class="code" href="_c_p_table_view_8j.html#a11302327c1511f3a71d93e494794c655">CPTableViewDelegate_tableView_didClickTableColumn_</a>)</div>
<div class="line"><a name="l05716"></a><span class="lineno"> 5716</span>&#160;        [_delegate tableView:self didClickTableColumn:_tableColumns[column]];</div>
<div class="line"><a name="l05717"></a><span class="lineno"> 5717</span>&#160;}</div>
<div class="line"><a name="l05718"></a><span class="lineno"> 5718</span>&#160;</div>
<div class="line"><a name="l05723"></a><span class="lineno"> 5723</span>&#160;- (void)_sendDelegateDidDragTableColumn:(CPInteger)column</div>
<div class="line"><a name="l05724"></a><span class="lineno"> 5724</span>&#160;{</div>
<div class="line"><a name="l05725"></a><span class="lineno"> 5725</span>&#160;    <span class="keywordflow">if</span> (_implementedDelegateMethods &amp; <a class="code" href="_c_p_table_view_8j.html#ac6764797b21b0862c8ea1223c05626c2">CPTableViewDelegate_tableView_didDragTableColumn_</a>)</div>
<div class="line"><a name="l05726"></a><span class="lineno"> 5726</span>&#160;        [_delegate tableView:self didDragTableColumn:_tableColumns[column]];</div>
<div class="line"><a name="l05727"></a><span class="lineno"> 5727</span>&#160;}</div>
<div class="line"><a name="l05728"></a><span class="lineno"> 5728</span>&#160;</div>
<div class="line"><a name="l05733"></a><span class="lineno"> 5733</span>&#160;- (void)_sendDelegateMouseDownInHeaderOfTableColumn:(CPInteger)column</div>
<div class="line"><a name="l05734"></a><span class="lineno"> 5734</span>&#160;{</div>
<div class="line"><a name="l05735"></a><span class="lineno"> 5735</span>&#160;    <span class="keywordflow">if</span> (_implementedDelegateMethods &amp; <a class="code" href="_c_p_table_view_8j.html#a53db520f3c6c396184ef32c5a586b027">CPTableViewDelegate_tableView_mouseDownInHeaderOfTableColumn_</a>)</div>
<div class="line"><a name="l05736"></a><span class="lineno"> 5736</span>&#160;        [_delegate tableView:self mouseDownInHeaderOfTableColumn:_tableColumns[column]];</div>
<div class="line"><a name="l05737"></a><span class="lineno"> 5737</span>&#160;}</div>
<div class="line"><a name="l05738"></a><span class="lineno"> 5738</span>&#160;</div>
<div class="line"><a name="l05739"></a><span class="lineno"> 5739</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l05740"></a><span class="lineno"> 5740</span>&#160;<span class="comment">    @ignore</span></div>
<div class="line"><a name="l05741"></a><span class="lineno"> 5741</span>&#160;<span class="comment">    Call the delegate tableViewDeleteKeyPressed</span></div>
<div class="line"><a name="l05742"></a><span class="lineno"> 5742</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l05743"></a><span class="lineno"> 5743</span>&#160;- (BOOL)_sendDelegateDeleteKeyPressed</div>
<div class="line"><a name="l05744"></a><span class="lineno"> 5744</span>&#160;{</div>
<div class="line"><a name="l05745"></a><span class="lineno"> 5745</span>&#160;    <span class="keywordflow">if</span> ([_delegate respondsToSelector: <span class="keyword">@selector</span>(tableViewDeleteKeyPressed:)])</div>
<div class="line"><a name="l05746"></a><span class="lineno"> 5746</span>&#160;    {</div>
<div class="line"><a name="l05747"></a><span class="lineno"> 5747</span>&#160;        [_delegate tableViewDeleteKeyPressed:self];</div>
<div class="line"><a name="l05748"></a><span class="lineno"> 5748</span>&#160;        <span class="keywordflow">return</span> YES;</div>
<div class="line"><a name="l05749"></a><span class="lineno"> 5749</span>&#160;    }</div>
<div class="line"><a name="l05750"></a><span class="lineno"> 5750</span>&#160;</div>
<div class="line"><a name="l05751"></a><span class="lineno"> 5751</span>&#160;    <span class="keywordflow">return</span> NO;</div>
<div class="line"><a name="l05752"></a><span class="lineno"> 5752</span>&#160;}</div>
<div class="line"><a name="l05753"></a><span class="lineno"> 5753</span>&#160;</div>
<div class="line"><a name="l05758"></a><span class="lineno"> 5758</span>&#160;- (BOOL)_sendDelegateSelectionShouldChangeInTableView</div>
<div class="line"><a name="l05759"></a><span class="lineno"> 5759</span>&#160;{</div>
<div class="line"><a name="l05760"></a><span class="lineno"> 5760</span>&#160;    <span class="keywordflow">if</span> (!(_implementedDelegateMethods &amp; <a class="code" href="_c_p_table_view_8j.html#a17dd3c2f77d47e02db83a2643962e03f">CPTableViewDelegate_selectionShouldChangeInTableView_</a>))</div>
<div class="line"><a name="l05761"></a><span class="lineno"> 5761</span>&#160;        <span class="keywordflow">return</span> YES;</div>
<div class="line"><a name="l05762"></a><span class="lineno"> 5762</span>&#160;</div>
<div class="line"><a name="l05763"></a><span class="lineno"> 5763</span>&#160;    <span class="keywordflow">return</span> [_delegate selectionShouldChangeInTableView:self];</div>
<div class="line"><a name="l05764"></a><span class="lineno"> 5764</span>&#160;}</div>
<div class="line"><a name="l05765"></a><span class="lineno"> 5765</span>&#160;</div>
<div class="line"><a name="l05770"></a><span class="lineno"> 5770</span>&#160;- (BOOL)_sendDelegateIsGroupRow:(CPInteger)anIndex</div>
<div class="line"><a name="l05771"></a><span class="lineno"> 5771</span>&#160;{</div>
<div class="line"><a name="l05772"></a><span class="lineno"> 5772</span>&#160;    <span class="keywordflow">if</span> (!(_implementedDelegateMethods &amp; <a class="code" href="_c_p_table_view_8j.html#a1b2d38c75129c936b93b4163a5a32889">CPTableViewDelegate_tableView_isGroupRow_</a>))</div>
<div class="line"><a name="l05773"></a><span class="lineno"> 5773</span>&#160;        <span class="keywordflow">return</span> NO;</div>
<div class="line"><a name="l05774"></a><span class="lineno"> 5774</span>&#160;</div>
<div class="line"><a name="l05775"></a><span class="lineno"> 5775</span>&#160;    <span class="keywordflow">return</span> [_delegate tableView:self isGroupRow:anIndex];</div>
<div class="line"><a name="l05776"></a><span class="lineno"> 5776</span>&#160;}</div>
<div class="line"><a name="l05777"></a><span class="lineno"> 5777</span>&#160;</div>
<div class="line"><a name="l05782"></a><span class="lineno"> 5782</span>&#160;- (BOOL)_sendDelegateShouldSelectRow:(CPInteger)anIndex</div>
<div class="line"><a name="l05783"></a><span class="lineno"> 5783</span>&#160;{</div>
<div class="line"><a name="l05784"></a><span class="lineno"> 5784</span>&#160;    <span class="keywordflow">if</span> (!(_implementedDelegateMethods &amp; <a class="code" href="_c_p_table_view_8j.html#aaea951ab19dc11a096a69b28cc216e38">CPTableViewDelegate_tableView_shouldSelectRow_</a>))</div>
<div class="line"><a name="l05785"></a><span class="lineno"> 5785</span>&#160;        <span class="keywordflow">return</span> YES;</div>
<div class="line"><a name="l05786"></a><span class="lineno"> 5786</span>&#160;</div>
<div class="line"><a name="l05787"></a><span class="lineno"> 5787</span>&#160;    <span class="keywordflow">return</span> [_delegate tableView:self shouldSelectRow:anIndex];</div>
<div class="line"><a name="l05788"></a><span class="lineno"> 5788</span>&#160;}</div>
<div class="line"><a name="l05789"></a><span class="lineno"> 5789</span>&#160;</div>
<div class="line"><a name="l05794"></a><span class="lineno"> 5794</span>&#160;- (void)_sendDelegateWillDisplayView:(<span class="keywordtype">id</span>)aCell forTableColumn:(<a class="code" href="interface_c_p_table_column.html">CPTableColumn</a>)aTableColumn row:(CPInteger)aRowIndex</div>
<div class="line"><a name="l05795"></a><span class="lineno"> 5795</span>&#160;{</div>
<div class="line"><a name="l05796"></a><span class="lineno"> 5796</span>&#160;    <span class="keywordflow">if</span> (!(_implementedDelegateMethods &amp; <a class="code" href="_c_p_table_view_8j.html#ad543a1b68132942313c20a9414cb508c">CPTableViewDelegate_tableView_willDisplayView_forTableColumn_row_</a>))</div>
<div class="line"><a name="l05797"></a><span class="lineno"> 5797</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05798"></a><span class="lineno"> 5798</span>&#160;</div>
<div class="line"><a name="l05799"></a><span class="lineno"> 5799</span>&#160;    [_delegate tableView:self willDisplayView:aCell forTableColumn:aTableColumn row:aRowIndex];</div>
<div class="line"><a name="l05800"></a><span class="lineno"> 5800</span>&#160;}</div>
<div class="line"><a name="l05801"></a><span class="lineno"> 5801</span>&#160;</div>
<div class="line"><a name="l05806"></a><span class="lineno"> 5806</span>&#160;- (void)_sendDelegateWillRemoveView:(<span class="keywordtype">id</span>)aCell forTableColumn:(<a class="code" href="interface_c_p_table_column.html">CPTableColumn</a>)aTableColumn row:(CPInteger)aRowIndex</div>
<div class="line"><a name="l05807"></a><span class="lineno"> 5807</span>&#160;{</div>
<div class="line"><a name="l05808"></a><span class="lineno"> 5808</span>&#160;    <span class="keywordflow">if</span> (!(_implementedDelegateMethods &amp; <a class="code" href="_c_p_table_view_8j.html#a85137871fafd4a59dc04c5ccdc3bd1b7">CPTableViewDelegate_tableView_willRemoveView_forTableColumn_row_</a>))</div>
<div class="line"><a name="l05809"></a><span class="lineno"> 5809</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05810"></a><span class="lineno"> 5810</span>&#160;</div>
<div class="line"><a name="l05811"></a><span class="lineno"> 5811</span>&#160;    [_delegate tableView:self willRemoveView:aCell forTableColumn:aTableColumn row:aRowIndex];</div>
<div class="line"><a name="l05812"></a><span class="lineno"> 5812</span>&#160;}</div>
<div class="line"><a name="l05813"></a><span class="lineno"> 5813</span>&#160;</div>
<div class="line"><a name="l05818"></a><span class="lineno"> 5818</span>&#160;- (<a class="code" href="interface_c_p_menu.html">CPMenu</a>)_sendDelegateMenuForTableColumn:(<a class="code" href="interface_c_p_table_column.html">CPTableColumn</a>)aTableColumn row:aRowIndex</div>
<div class="line"><a name="l05819"></a><span class="lineno"> 5819</span>&#160;{</div>
<div class="line"><a name="l05820"></a><span class="lineno"> 5820</span>&#160;    <span class="keywordflow">if</span> (!(_implementedDelegateMethods &amp; <a class="code" href="_c_p_table_view_8j.html#add563e75f969fc2b9f4367b8a2db3fa4">CPTableViewDelegate_tableViewMenuForTableColumn_row_</a>))</div>
<div class="line"><a name="l05821"></a><span class="lineno"> 5821</span>&#160;        <span class="keywordflow">return</span> nil;</div>
<div class="line"><a name="l05822"></a><span class="lineno"> 5822</span>&#160;</div>
<div class="line"><a name="l05823"></a><span class="lineno"> 5823</span>&#160;    <span class="keywordflow">return</span> [_delegate tableView:self menuForTableColumn:aTableColumn row:aRowIndex];</div>
<div class="line"><a name="l05824"></a><span class="lineno"> 5824</span>&#160;}</div>
<div class="line"><a name="l05825"></a><span class="lineno"> 5825</span>&#160;</div>
<div class="line"><a name="l05826"></a><span class="lineno"> 5826</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l05827"></a><span class="lineno"> 5827</span>&#160;<span class="comment">    @ignore</span></div>
<div class="line"><a name="l05828"></a><span class="lineno"> 5828</span>&#160;<span class="comment">    Returns YES if the column at columnIndex can be reordered.</span></div>
<div class="line"><a name="l05829"></a><span class="lineno"> 5829</span>&#160;<span class="comment">    It can be possible if column reordering is allowed and if the tableview</span></div>
<div class="line"><a name="l05830"></a><span class="lineno"> 5830</span>&#160;<span class="comment">    delegate also accept the reordering</span></div>
<div class="line"><a name="l05831"></a><span class="lineno"> 5831</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l05832"></a><span class="lineno"> 5832</span>&#160;- (BOOL)_sendDelegateShouldReorderColumn:(CPInteger)columnIndex toColumn:(CPInteger)newColumnIndex</div>
<div class="line"><a name="l05833"></a><span class="lineno"> 5833</span>&#160;{</div>
<div class="line"><a name="l05834"></a><span class="lineno"> 5834</span>&#160;    <span class="keywordflow">if</span> ([<span class="keyword">self</span> allowsColumnReordering] &amp;&amp;</div>
<div class="line"><a name="l05835"></a><span class="lineno"> 5835</span>&#160;        _implementedDelegateMethods &amp; <a class="code" href="_c_p_table_view_8j.html#a589a91e50a648a4ab40d99311cbdfaf4">CPTableViewDelegate_tableView_shouldReorderColumn_toColumn_</a>)</div>
<div class="line"><a name="l05836"></a><span class="lineno"> 5836</span>&#160;    {</div>
<div class="line"><a name="l05837"></a><span class="lineno"> 5837</span>&#160;        <span class="keywordflow">return</span> [_delegate tableView:self shouldReorderColumn:columnIndex toColumn:newColumnIndex];</div>
<div class="line"><a name="l05838"></a><span class="lineno"> 5838</span>&#160;    }</div>
<div class="line"><a name="l05839"></a><span class="lineno"> 5839</span>&#160;</div>
<div class="line"><a name="l05840"></a><span class="lineno"> 5840</span>&#160;    <span class="keywordflow">return</span> [<span class="keyword">self</span> allowsColumnReordering];</div>
<div class="line"><a name="l05841"></a><span class="lineno"> 5841</span>&#160;}</div>
<div class="line"><a name="l05842"></a><span class="lineno"> 5842</span>&#160;</div>
<div class="line"><a name="l05847"></a><span class="lineno"> 5847</span>&#160;- (float)_sendDelegateHeightOfRow:(CPInteger)anIndex</div>
<div class="line"><a name="l05848"></a><span class="lineno"> 5848</span>&#160;{</div>
<div class="line"><a name="l05849"></a><span class="lineno"> 5849</span>&#160;    <span class="keywordflow">if</span> (!(_implementedDelegateMethods &amp; <a class="code" href="_c_p_table_view_8j.html#afd61c24dda7ceebc29da34fa3b5f4a3a">CPTableViewDelegate_tableView_heightOfRow_</a>))</div>
<div class="line"><a name="l05850"></a><span class="lineno"> 5850</span>&#160;        <span class="keywordflow">return</span> [<span class="keyword">self</span> rowHeight];</div>
<div class="line"><a name="l05851"></a><span class="lineno"> 5851</span>&#160;</div>
<div class="line"><a name="l05852"></a><span class="lineno"> 5852</span>&#160;    <span class="keywordflow">return</span> [_delegate tableView:self heightOfRow:anIndex];</div>
<div class="line"><a name="l05853"></a><span class="lineno"> 5853</span>&#160;}</div>
<div class="line"><a name="l05854"></a><span class="lineno"> 5854</span>&#160;</div>
<div class="line"><a name="l05859"></a><span class="lineno"> 5859</span>&#160;- (BOOL)_sendDelegateShouldEditTableColumn:(<a class="code" href="interface_c_p_table_column.html">CPTableColumn</a>)aTableColumn row:(CPInteger)aRowIndex</div>
<div class="line"><a name="l05860"></a><span class="lineno"> 5860</span>&#160;{</div>
<div class="line"><a name="l05861"></a><span class="lineno"> 5861</span>&#160;    <span class="keywordflow">if</span> (!(_implementedDelegateMethods &amp; <a class="code" href="_c_p_table_view_8j.html#a13a5d77ea463b7ee16d106bdf440baef">CPTableViewDelegate_tableView_shouldEditTableColumn_row_</a>))</div>
<div class="line"><a name="l05862"></a><span class="lineno"> 5862</span>&#160;        <span class="keywordflow">return</span> YES;</div>
<div class="line"><a name="l05863"></a><span class="lineno"> 5863</span>&#160;</div>
<div class="line"><a name="l05864"></a><span class="lineno"> 5864</span>&#160;    <span class="keywordflow">return</span> [_delegate tableView:self shouldEditTableColumn:aTableColumn row:aRowIndex];</div>
<div class="line"><a name="l05865"></a><span class="lineno"> 5865</span>&#160;}</div>
<div class="line"><a name="l05866"></a><span class="lineno"> 5866</span>&#160;</div>
<div class="line"><a name="l05871"></a><span class="lineno"> 5871</span>&#160;- (<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a>)_sendDelegateSelectionIndexesForProposedSelection:(<a class="code" href="interface_c_p_index_set.html" title="A collection of unique integers. ">CPIndexSet</a>)anIndexSet</div>
<div class="line"><a name="l05872"></a><span class="lineno"> 5872</span>&#160;{</div>
<div class="line"><a name="l05873"></a><span class="lineno"> 5873</span>&#160;    <span class="keywordflow">if</span> (!(_implementedDelegateMethods &amp; <a class="code" href="_c_p_table_view_8j.html#a87a639d266ecdd1db204b2b3e3d0e97d">CPTableViewDelegate_tableView_selectionIndexesForProposedSelection_</a>))</div>
<div class="line"><a name="l05874"></a><span class="lineno"> 5874</span>&#160;        <span class="keywordflow">return</span> anIndexSet;</div>
<div class="line"><a name="l05875"></a><span class="lineno"> 5875</span>&#160;</div>
<div class="line"><a name="l05876"></a><span class="lineno"> 5876</span>&#160;    <span class="keywordflow">return</span> [_delegate tableView:self selectionIndexesForProposedSelection:anIndexSet];</div>
<div class="line"><a name="l05877"></a><span class="lineno"> 5877</span>&#160;}</div>
<div class="line"><a name="l05878"></a><span class="lineno"> 5878</span>&#160;</div>
<div class="line"><a name="l05883"></a><span class="lineno"> 5883</span>&#160;- (<a class="code" href="interface_c_p_view.html">CPView</a>)_sendDelegateViewForTableColumn:(<a class="code" href="interface_c_p_table_column.html">CPTableColumn</a>)aTableColumn row:(CPInteger)aRowIndex</div>
<div class="line"><a name="l05884"></a><span class="lineno"> 5884</span>&#160;{</div>
<div class="line"><a name="l05885"></a><span class="lineno"> 5885</span>&#160;    <span class="keywordflow">if</span> (!(_implementedDelegateMethods &amp; <a class="code" href="_c_p_table_view_8j.html#a72bc603668aee3f7140a5fa4f2e66679">CPTableViewDelegate_tableView_viewForTableColumn_row_</a>))</div>
<div class="line"><a name="l05886"></a><span class="lineno"> 5886</span>&#160;        <span class="keywordflow">return</span> nil;</div>
<div class="line"><a name="l05887"></a><span class="lineno"> 5887</span>&#160;</div>
<div class="line"><a name="l05888"></a><span class="lineno"> 5888</span>&#160;    <span class="keywordflow">return</span> [_delegate tableView:self viewForTableColumn:aTableColumn row:aRowIndex];</div>
<div class="line"><a name="l05889"></a><span class="lineno"> 5889</span>&#160;}</div>
<div class="line"><a name="l05890"></a><span class="lineno"> 5890</span>&#160;</div>
<div class="line"><a name="l05895"></a><span class="lineno"> 5895</span>&#160;- (<a class="code" href="interface_c_p_view.html">CPView</a>)_sendDelegateDataViewForTableColumn:(<a class="code" href="interface_c_p_table_column.html">CPTableColumn</a>)aTableColumn row:(CPInteger)aRowIndex</div>
<div class="line"><a name="l05896"></a><span class="lineno"> 5896</span>&#160;{</div>
<div class="line"><a name="l05897"></a><span class="lineno"> 5897</span>&#160;    <span class="keywordflow">if</span> (!(_implementedDelegateMethods &amp; <a class="code" href="_c_p_table_view_8j.html#a50ccc5dbd574a129aca4b61924308813">CPTableViewDelegate_tableView_dataViewForTableColumn_row_</a>))</div>
<div class="line"><a name="l05898"></a><span class="lineno"> 5898</span>&#160;        <span class="keywordflow">return</span> nil;</div>
<div class="line"><a name="l05899"></a><span class="lineno"> 5899</span>&#160;</div>
<div class="line"><a name="l05900"></a><span class="lineno"> 5900</span>&#160;    <span class="keywordflow">return</span> [_delegate tableView:self dataViewForTableColumn:aTableColumn row:aRowIndex];</div>
<div class="line"><a name="l05901"></a><span class="lineno"> 5901</span>&#160;}</div>
<div class="line"><a name="l05902"></a><span class="lineno"> 5902</span>&#160;</div>
<div class="line"><a name="l05903"></a><span class="lineno"> 5903</span>&#160;</div>
<div class="line"><a name="l05904"></a><span class="lineno"> 5904</span>&#160;<span class="preprocessor">#pragma mark -</span></div>
<div class="line"><a name="l05905"></a><span class="lineno"> 5905</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#pragma mark Delegate methods to implement</span></div>
<div class="line"><a name="l05906"></a><span class="lineno"> 5906</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l05911"></a><span class="lineno"> 5911</span>&#160;- (BOOL)_sendDelegateShouldSelectTableColumn:(<a class="code" href="interface_c_p_table_column.html">CPTableColumn</a>)aTableColumn</div>
<div class="line"><a name="l05912"></a><span class="lineno"> 5912</span>&#160;{</div>
<div class="line"><a name="l05913"></a><span class="lineno"> 5913</span>&#160;    <span class="keywordflow">if</span> (!(_implementedDelegateMethods &amp; <a class="code" href="_c_p_table_view_8j.html#a40e46e56c68f00ce2e3fe0c2dce75577">CPTableViewDelegate_tableView_shouldSelectTableColumn_</a>))</div>
<div class="line"><a name="l05914"></a><span class="lineno"> 5914</span>&#160;        <span class="keywordflow">return</span> YES;</div>
<div class="line"><a name="l05915"></a><span class="lineno"> 5915</span>&#160;</div>
<div class="line"><a name="l05916"></a><span class="lineno"> 5916</span>&#160;    <span class="keywordflow">return</span> [_delegate tableView:self shouldSelectTableColumn:aTableColumn];</div>
<div class="line"><a name="l05917"></a><span class="lineno"> 5917</span>&#160;}</div>
<div class="line"><a name="l05918"></a><span class="lineno"> 5918</span>&#160;</div>
<div class="line"><a name="l05923"></a><span class="lineno"> 5923</span>&#160;- (<a class="code" href="interface_c_p_string.html" title="An immutable string (collection of characters). ">CPString</a>)_sendDelegateToolTipForView:(<span class="keywordtype">id</span>)aView rect:(CGRect)aRect tableColumn:(<a class="code" href="interface_c_p_table_column.html">CPTableColumn</a>)aTableColumn row:(CPInteger)aRowIndex mouseLocation:(CGPoint)aPoint</div>
<div class="line"><a name="l05924"></a><span class="lineno"> 5924</span>&#160;{</div>
<div class="line"><a name="l05925"></a><span class="lineno"> 5925</span>&#160;    <span class="keywordflow">if</span> (!(_implementedDelegateMethods &amp; <a class="code" href="_c_p_table_view_8j.html#a106983f227bb2afdff8e05449a4ea33a">CPTableViewDelegate_tableView_toolTipForView_rect_tableColumn_row_mouseLocation_</a>))</div>
<div class="line"><a name="l05926"></a><span class="lineno"> 5926</span>&#160;        <span class="keywordflow">return</span> nil;</div>
<div class="line"><a name="l05927"></a><span class="lineno"> 5927</span>&#160;</div>
<div class="line"><a name="l05928"></a><span class="lineno"> 5928</span>&#160;    <span class="keywordflow">return</span> [_delegate tableView:self toolTipForView:aView rect:aRect tableColumn:aTableColumn row:aRowIndex mouseLocation:aPoint];</div>
<div class="line"><a name="l05929"></a><span class="lineno"> 5929</span>&#160;}</div>
<div class="line"><a name="l05930"></a><span class="lineno"> 5930</span>&#160;</div>
<div class="line"><a name="l05935"></a><span class="lineno"> 5935</span>&#160;- (BOOL)_sendDelegateShouldTrackView:(<span class="keywordtype">id</span>)aView forTableColumn:(<a class="code" href="interface_c_p_table_column.html">CPTableColumn</a>)aTableColumn row:(CPInteger)aRowIndex</div>
<div class="line"><a name="l05936"></a><span class="lineno"> 5936</span>&#160;{</div>
<div class="line"><a name="l05937"></a><span class="lineno"> 5937</span>&#160;    <span class="keywordflow">if</span> (!(_implementedDelegateMethods &amp; <a class="code" href="_c_p_table_view_8j.html#a84373538a8878335c8efedfc6a73dfda">CPTableViewDelegate_tableView_shouldTrackView_forTableColumn_row_</a>))</div>
<div class="line"><a name="l05938"></a><span class="lineno"> 5938</span>&#160;        <span class="keywordflow">return</span> YES;</div>
<div class="line"><a name="l05939"></a><span class="lineno"> 5939</span>&#160;</div>
<div class="line"><a name="l05940"></a><span class="lineno"> 5940</span>&#160;    <span class="keywordflow">return</span> [_delegate tableView:self shouldTrackView:aView forTableColumn:aTableColumn row:aRowIndex];</div>
<div class="line"><a name="l05941"></a><span class="lineno"> 5941</span>&#160;}</div>
<div class="line"><a name="l05942"></a><span class="lineno"> 5942</span>&#160;</div>
<div class="line"><a name="l05947"></a><span class="lineno"> 5947</span>&#160;- (BOOL)_sendDelegateShouldShowViewExpansionForTableColumn:(<a class="code" href="interface_c_p_table_column.html">CPTableColumn</a>)aTableColumn row:(CPInteger)aRowIndex</div>
<div class="line"><a name="l05948"></a><span class="lineno"> 5948</span>&#160;{</div>
<div class="line"><a name="l05949"></a><span class="lineno"> 5949</span>&#160;    <span class="keywordflow">if</span> (!(_implementedDelegateMethods &amp; <a class="code" href="_c_p_table_view_8j.html#a47c3d5fa0d018996943ef98b80ffd3ed">CPTableViewDelegate_tableView_shouldShowViewExpansionForTableColumn_row_</a>))</div>
<div class="line"><a name="l05950"></a><span class="lineno"> 5950</span>&#160;        <span class="keywordflow">return</span> YES;</div>
<div class="line"><a name="l05951"></a><span class="lineno"> 5951</span>&#160;</div>
<div class="line"><a name="l05952"></a><span class="lineno"> 5952</span>&#160;    <span class="keywordflow">return</span> [_delegate tableView:self shouldShowViewExpansionForTableColumn:aTableColumn row:aRowIndex];</div>
<div class="line"><a name="l05953"></a><span class="lineno"> 5953</span>&#160;}</div>
<div class="line"><a name="l05954"></a><span class="lineno"> 5954</span>&#160;</div>
<div class="line"><a name="l05959"></a><span class="lineno"> 5959</span>&#160;- (BOOL)_sendDelegateShouldTypeSelectForEvent:(<a class="code" href="interface_c_p_event.html">CPEvent</a>)anEvent withCurrentSearchString:(<a class="code" href="interface_c_p_string.html" title="An immutable string (collection of characters). ">CPString</a>)aString</div>
<div class="line"><a name="l05960"></a><span class="lineno"> 5960</span>&#160;{</div>
<div class="line"><a name="l05961"></a><span class="lineno"> 5961</span>&#160;    <span class="keywordflow">if</span> (!(_implementedDelegateMethods &amp; <a class="code" href="_c_p_table_view_8j.html#a90bdeeee16a3591df2596384e4f627e3">CPTableViewDelegate_tableView_shouldTypeSelectForEvent_withCurrentSearchString_</a>))</div>
<div class="line"><a name="l05962"></a><span class="lineno"> 5962</span>&#160;        <span class="keywordflow">return</span> NO;</div>
<div class="line"><a name="l05963"></a><span class="lineno"> 5963</span>&#160;</div>
<div class="line"><a name="l05964"></a><span class="lineno"> 5964</span>&#160;    <span class="keywordflow">return</span> [_delegate tableView:self shouldTypeSelectForEvent:anEvent withCurrentSearchString:aString];</div>
<div class="line"><a name="l05965"></a><span class="lineno"> 5965</span>&#160;}</div>
<div class="line"><a name="l05966"></a><span class="lineno"> 5966</span>&#160;</div>
<div class="line"><a name="l05971"></a><span class="lineno"> 5971</span>&#160;- (<a class="code" href="interface_c_p_string.html" title="An immutable string (collection of characters). ">CPString</a>)_sendDelegateTypeSelectStringForTableColumn:(<a class="code" href="interface_c_p_table_column.html">CPTableColumn</a>)aTableColumn row:(CPInteger)aRowIndex</div>
<div class="line"><a name="l05972"></a><span class="lineno"> 5972</span>&#160;{</div>
<div class="line"><a name="l05973"></a><span class="lineno"> 5973</span>&#160;    <span class="keywordflow">if</span> (!(_implementedDelegateMethods &amp; <a class="code" href="_c_p_table_view_8j.html#a8a84faf4826019c8a187588890360704">CPTableViewDelegate_tableView_typeSelectStringForTableColumn_row_</a>))</div>
<div class="line"><a name="l05974"></a><span class="lineno"> 5974</span>&#160;        <span class="keywordflow">return</span> nil;</div>
<div class="line"><a name="l05975"></a><span class="lineno"> 5975</span>&#160;</div>
<div class="line"><a name="l05976"></a><span class="lineno"> 5976</span>&#160;    <span class="keywordflow">return</span> [_delegate tableView:self typeSelectStringForTableColumn:aTableColumn row:aRowIndex];</div>
<div class="line"><a name="l05977"></a><span class="lineno"> 5977</span>&#160;}</div>
<div class="line"><a name="l05978"></a><span class="lineno"> 5978</span>&#160;</div>
<div class="line"><a name="l05983"></a><span class="lineno"> 5983</span>&#160;- (int)_sendDelegateNextTypeSelectMatchFromRow:(CPInteger)aRowIndex toRow:(CPInteger)aSecondRowIndex forString:(<a class="code" href="interface_c_p_string.html" title="An immutable string (collection of characters). ">CPString</a>)aString</div>
<div class="line"><a name="l05984"></a><span class="lineno"> 5984</span>&#160;{</div>
<div class="line"><a name="l05985"></a><span class="lineno"> 5985</span>&#160;    <span class="keywordflow">if</span> (!(_implementedDelegateMethods &amp; <a class="code" href="_c_p_table_view_8j.html#abf8671c1652c48238dc5c04fc9550a62">CPTableViewDelegate_tableView_nextTypeSelectMatchFromRow_toRow_forString_</a>))</div>
<div class="line"><a name="l05986"></a><span class="lineno"> 5986</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l05987"></a><span class="lineno"> 5987</span>&#160;</div>
<div class="line"><a name="l05988"></a><span class="lineno"> 5988</span>&#160;    <span class="keywordflow">return</span> [_delegate tableView:self nextTypeSelectMatchFromRow:aRowIndex toRow:aSecondRowIndex forString:aString];</div>
<div class="line"><a name="l05989"></a><span class="lineno"> 5989</span>&#160;}</div>
<div class="line"><a name="l05990"></a><span class="lineno"> 5990</span>&#160;</div>
<div class="line"><a name="l05991"></a><span class="lineno"> 5991</span>&#160;<span class="keyword">@end</span></div>
<div class="line"><a name="l05992"></a><span class="lineno"> 5992</span>&#160;</div>
<div class="line"><a name="l05993"></a><span class="lineno"><a class="code" href="category_c_p_table_view_07_bindings_08.html"> 5993</a></span>&#160;<span class="keyword">@implementation </span><a class="code" href="category_c_p_table_view_07_bindings_08.html">CPTableView (Bindings)</a></div>
<div class="line"><a name="l05994"></a><span class="lineno"> 5994</span>&#160;</div>
<div class="line"><a name="l05995"></a><span class="lineno"> 5995</span>&#160;+ (Class)_binderClassForBinding:(<a class="code" href="interface_c_p_string.html" title="An immutable string (collection of characters). ">CPString</a>)aBinding</div>
<div class="line"><a name="l05996"></a><span class="lineno"> 5996</span>&#160;{</div>
<div class="line"><a name="l05997"></a><span class="lineno"> 5997</span>&#160;    <span class="keywordflow">if</span> (aBinding == <span class="stringliteral">@&quot;content&quot;</span>)</div>
<div class="line"><a name="l05998"></a><span class="lineno"> 5998</span>&#160;        <span class="keywordflow">return</span> [<a class="code" href="interface_c_p_table_content_binder.html">CPTableContentBinder</a> <a class="code" href="class_c_p_object.html#a9995454d4b902a69bfd12c5c3035ce83">class</a>];</div>
<div class="line"><a name="l05999"></a><span class="lineno"> 5999</span>&#160;</div>
<div class="line"><a name="l06000"></a><span class="lineno"> 6000</span>&#160;    <span class="keywordflow">return</span> [<span class="keyword">super</span> _binderClassForBinding:aBinding];</div>
<div class="line"><a name="l06001"></a><span class="lineno"> 6001</span>&#160;}</div>
<div class="line"><a name="l06002"></a><span class="lineno"> 6002</span>&#160;</div>
<div class="line"><a name="l06006"></a><span class="lineno"> 6006</span>&#160;- (<a class="code" href="interface_c_p_string.html" title="An immutable string (collection of characters). ">CPString</a>)_replacementKeyPathForBinding:(<a class="code" href="interface_c_p_string.html" title="An immutable string (collection of characters). ">CPString</a>)aBinding</div>
<div class="line"><a name="l06007"></a><span class="lineno"> 6007</span>&#160;{</div>
<div class="line"><a name="l06008"></a><span class="lineno"> 6008</span>&#160;    <span class="keywordflow">if</span> (aBinding === <span class="stringliteral">@&quot;selectionIndexes&quot;</span>)</div>
<div class="line"><a name="l06009"></a><span class="lineno"> 6009</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">@&quot;selectedRowIndexes&quot;</span>;</div>
<div class="line"><a name="l06010"></a><span class="lineno"> 6010</span>&#160;</div>
<div class="line"><a name="l06011"></a><span class="lineno"> 6011</span>&#160;    <span class="keywordflow">return</span> [<span class="keyword">super</span> _replacementKeyPathForBinding:aBinding];</div>
<div class="line"><a name="l06012"></a><span class="lineno"> 6012</span>&#160;}</div>
<div class="line"><a name="l06013"></a><span class="lineno"> 6013</span>&#160;</div>
<div class="line"><a name="l06017"></a><span class="lineno"> 6017</span>&#160;- (void)_establishBindingsIfUnbound:(<span class="keywordtype">id</span>)destination</div>
<div class="line"><a name="l06018"></a><span class="lineno"> 6018</span>&#160;{</div>
<div class="line"><a name="l06019"></a><span class="lineno"> 6019</span>&#160;    <span class="keywordflow">if</span> ([[<span class="keyword">self</span> infoForBinding:<span class="stringliteral">@&quot;content&quot;</span>] objectForKey:<a class="code" href="_c_p_key_value_binding_8j.html#a4b2796d2c2398c3d5aaf16d99b27d8c5">CPObservedObjectKey</a>] !== destination)</div>
<div class="line"><a name="l06020"></a><span class="lineno"> 6020</span>&#160;    {</div>
<div class="line"><a name="l06021"></a><span class="lineno"> 6021</span>&#160;        [<span class="keyword">super</span> bind:@&quot;content&quot; toObject:destination withKeyPath:@&quot;arrangedObjects&quot; options:nil];</div>
<div class="line"><a name="l06022"></a><span class="lineno"> 6022</span>&#160;        _contentBindingExplicitlySet = NO;</div>
<div class="line"><a name="l06023"></a><span class="lineno"> 6023</span>&#160;    }</div>
<div class="line"><a name="l06024"></a><span class="lineno"> 6024</span>&#160;</div>
<div class="line"><a name="l06025"></a><span class="lineno"> 6025</span>&#160;    <span class="comment">// If the content binding was set manually assume the user is taking manual control of establishing bindings.</span></div>
<div class="line"><a name="l06026"></a><span class="lineno"> 6026</span>&#160;    <span class="keywordflow">if</span> (!_contentBindingExplicitlySet)</div>
<div class="line"><a name="l06027"></a><span class="lineno"> 6027</span>&#160;    {</div>
<div class="line"><a name="l06028"></a><span class="lineno"> 6028</span>&#160;        <span class="keywordflow">if</span> ([[<span class="keyword">self</span> infoForBinding:<span class="stringliteral">@&quot;selectionIndexes&quot;</span>] objectForKey:<a class="code" href="_c_p_key_value_binding_8j.html#a4b2796d2c2398c3d5aaf16d99b27d8c5">CPObservedObjectKey</a>] !== destination)</div>
<div class="line"><a name="l06029"></a><span class="lineno"> 6029</span>&#160;            [<span class="keyword">self</span> bind:@&quot;selectionIndexes&quot; toObject:destination withKeyPath:@&quot;selectionIndexes&quot; options:nil];</div>
<div class="line"><a name="l06030"></a><span class="lineno"> 6030</span>&#160;</div>
<div class="line"><a name="l06031"></a><span class="lineno"> 6031</span>&#160;        <span class="keywordflow">if</span> ([[<span class="keyword">self</span> infoForBinding:<span class="stringliteral">@&quot;sortDescriptors&quot;</span>] objectForKey:<a class="code" href="_c_p_key_value_binding_8j.html#a4b2796d2c2398c3d5aaf16d99b27d8c5">CPObservedObjectKey</a>] !== destination)</div>
<div class="line"><a name="l06032"></a><span class="lineno"> 6032</span>&#160;            [<span class="keyword">self</span> bind:@&quot;sortDescriptors&quot; toObject:destination withKeyPath:@&quot;sortDescriptors&quot; options:nil];</div>
<div class="line"><a name="l06033"></a><span class="lineno"> 6033</span>&#160;    }</div>
<div class="line"><a name="l06034"></a><span class="lineno"> 6034</span>&#160;}</div>
<div class="line"><a name="l06035"></a><span class="lineno"> 6035</span>&#160;</div>
<div class="line"><a name="l06036"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a807b26a8954732ef0b6834bdda9df8f3"> 6036</a></span>&#160;- (void)bind:(<a class="code" href="interface_c_p_string.html" title="An immutable string (collection of characters). ">CPString</a>)aBinding toObject:(<span class="keywordtype">id</span>)anObject withKeyPath:(<a class="code" href="interface_c_p_string.html" title="An immutable string (collection of characters). ">CPString</a>)aKeyPath options:(<a class="code" href="interface_c_p_dictionary.html" title="A mutable key-value pair collection. ">CPDictionary</a>)options</div>
<div class="line"><a name="l06037"></a><span class="lineno"> 6037</span>&#160;{</div>
<div class="line"><a name="l06038"></a><span class="lineno"> 6038</span>&#160;    <span class="keywordflow">if</span> (aBinding == <span class="stringliteral">@&quot;content&quot;</span>)</div>
<div class="line"><a name="l06039"></a><span class="lineno"> 6039</span>&#160;        _contentBindingExplicitlySet = YES;</div>
<div class="line"><a name="l06040"></a><span class="lineno"> 6040</span>&#160;</div>
<div class="line"><a name="l06041"></a><span class="lineno"> 6041</span>&#160;    [<span class="keyword">super</span> <a class="code" href="class_c_p_object.html#ad63b534f90de1f9e111ae52342b7d149">bind</a>:aBinding <a class="code" href="class_c_p_object.html#ad63b534f90de1f9e111ae52342b7d149">toObject</a>:anObject <a class="code" href="class_c_p_object.html#ad63b534f90de1f9e111ae52342b7d149">withKeyPath</a>:aKeyPath <a class="code" href="class_c_p_object.html#ad63b534f90de1f9e111ae52342b7d149">options</a>:options];</div>
<div class="line"><a name="l06042"></a><span class="lineno"> 6042</span>&#160;}</div>
<div class="line"><a name="l06043"></a><span class="lineno"> 6043</span>&#160;</div>
<div class="line"><a name="l06044"></a><span class="lineno"> 6044</span>&#160;<span class="keyword">@end</span></div>
<div class="line"><a name="l06045"></a><span class="lineno"> 6045</span>&#160;</div>
<div class="line"><a name="l06046"></a><span class="lineno"> 6046</span>&#160;</div>
<div class="line"><a name="l06047"></a><span class="lineno"> 6047</span>&#160;<span class="keyword">@implementation </span><a class="code" href="interface_c_p_table_content_binder.html">CPTableContentBinder</a> : <a class="code" href="interface_c_p_binder.html">CPBinder</a></div>
<div class="line"><a name="l06048"></a><span class="lineno"> 6048</span>&#160;{</div>
<div class="line"><a name="l06049"></a><span class="lineno"> 6049</span>&#160;    <span class="keywordtype">id</span> _content;</div>
<div class="line"><a name="l06050"></a><span class="lineno"> 6050</span>&#160;}</div>
<div class="line"><a name="l06051"></a><span class="lineno"> 6051</span>&#160;</div>
<div class="line"><a name="l06052"></a><span class="lineno"><a class="code" href="interface_c_p_table_content_binder.html#a025f816d4bf04d21cc18b9e58bc3729b"> 6052</a></span>&#160;- (void)setValueFor:(<a class="code" href="interface_c_p_string.html" title="An immutable string (collection of characters). ">CPString</a>)aBinding</div>
<div class="line"><a name="l06053"></a><span class="lineno"> 6053</span>&#160;{</div>
<div class="line"><a name="l06054"></a><span class="lineno"> 6054</span>&#160;    var destination = [_info objectForKey:CPObservedObjectKey],</div>
<div class="line"><a name="l06055"></a><span class="lineno"> 6055</span>&#160;        keyPath = [_info objectForKey:CPObservedKeyPathKey];</div>
<div class="line"><a name="l06056"></a><span class="lineno"> 6056</span>&#160;</div>
<div class="line"><a name="l06057"></a><span class="lineno"> 6057</span>&#160;    _content = [destination valueForKey:keyPath];</div>
<div class="line"><a name="l06058"></a><span class="lineno"> 6058</span>&#160;    <span class="comment">// FIXME: reload data for all rows or just exposed rows ?</span></div>
<div class="line"><a name="l06059"></a><span class="lineno"> 6059</span>&#160;    [_source _reloadDataViews];</div>
<div class="line"><a name="l06060"></a><span class="lineno"> 6060</span>&#160;}</div>
<div class="line"><a name="l06061"></a><span class="lineno"> 6061</span>&#160;</div>
<div class="line"><a name="l06062"></a><span class="lineno"> 6062</span>&#160;<span class="keyword">@end</span></div>
<div class="line"><a name="l06063"></a><span class="lineno"> 6063</span>&#160;</div>
<div class="line"><a name="l06064"></a><span class="lineno"> 6064</span>&#160;</div>
<div class="line"><a name="l06065"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a3735b96051bc5ac351c70b3fe5d49126"> 6065</a></span>&#160;var <a class="code" href="_c_p_table_view_8j.html#a3735b96051bc5ac351c70b3fe5d49126">CPTableViewDataSourceKey</a>                = <span class="stringliteral">@&quot;CPTableViewDataSourceKey&quot;</span>,</div>
<div class="line"><a name="l06066"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a1d6265a4e180c8fc79fa0653f3a42b5d"> 6066</a></span>&#160;    <a class="code" href="_c_p_table_view_8j.html#a1d6265a4e180c8fc79fa0653f3a42b5d">CPTableViewDelegateKey</a>                  = <span class="stringliteral">@&quot;CPTableViewDelegateKey&quot;</span>,</div>
<div class="line"><a name="l06067"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a249d34f03b936c7d41a2028ceb1f7e13"> 6067</a></span>&#160;    <a class="code" href="_c_p_table_view_8j.html#a249d34f03b936c7d41a2028ceb1f7e13">CPTableViewHeaderViewKey</a>                = <span class="stringliteral">@&quot;CPTableViewHeaderViewKey&quot;</span>,</div>
<div class="line"><a name="l06068"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a10daae21892ff9308af8721efe4a9e24"> 6068</a></span>&#160;    <a class="code" href="_c_p_table_view_8j.html#a10daae21892ff9308af8721efe4a9e24">CPTableViewTableColumnsKey</a>              = <span class="stringliteral">@&quot;CPTableViewTableColumnsKey&quot;</span>,</div>
<div class="line"><a name="l06069"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a0f4346d28a9ff7f382a9b4ceac22f0f2"> 6069</a></span>&#160;    <a class="code" href="_c_p_table_view_8j.html#a0f4346d28a9ff7f382a9b4ceac22f0f2">CPTableViewRowHeightKey</a>                 = <span class="stringliteral">@&quot;CPTableViewRowHeightKey&quot;</span>,</div>
<div class="line"><a name="l06070"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a3459f0e162c9fdaa9d9251365df5aba0"> 6070</a></span>&#160;    <a class="code" href="_c_p_table_view_8j.html#a3459f0e162c9fdaa9d9251365df5aba0">CPTableViewIntercellSpacingKey</a>          = <span class="stringliteral">@&quot;CPTableViewIntercellSpacingKey&quot;</span>,</div>
<div class="line"><a name="l06071"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#aa1db315678b5ce21fcb790d7b945839c"> 6071</a></span>&#160;    <a class="code" href="_c_p_table_view_8j.html#aa1db315678b5ce21fcb790d7b945839c">CPTableViewSelectionHighlightStyleKey</a>   = <span class="stringliteral">@&quot;CPTableViewSelectionHighlightStyleKey&quot;</span>,</div>
<div class="line"><a name="l06072"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a94bdb3dd3b74f91fad23bc9ab097d067"> 6072</a></span>&#160;    <a class="code" href="_c_p_table_view_8j.html#a94bdb3dd3b74f91fad23bc9ab097d067">CPTableViewMultipleSelectionKey</a>         = <span class="stringliteral">@&quot;CPTableViewMultipleSelectionKey&quot;</span>,</div>
<div class="line"><a name="l06073"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a129e907aaab3495bf0b923cc1be6f48e"> 6073</a></span>&#160;    <a class="code" href="_c_p_table_view_8j.html#a129e907aaab3495bf0b923cc1be6f48e">CPTableViewEmptySelectionKey</a>            = <span class="stringliteral">@&quot;CPTableViewEmptySelectionKey&quot;</span>,</div>
<div class="line"><a name="l06074"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#aae1c199636e44c44b958774033d0b6bb"> 6074</a></span>&#160;    <a class="code" href="_c_p_table_view_8j.html#aae1c199636e44c44b958774033d0b6bb">CPTableViewColumnReorderingKey</a>          = <span class="stringliteral">@&quot;CPTableViewColumnReorderingKey&quot;</span>,</div>
<div class="line"><a name="l06075"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a6a9b6cd9d76351a4b0435a25dfd1d9e1"> 6075</a></span>&#160;    <a class="code" href="_c_p_table_view_8j.html#a6a9b6cd9d76351a4b0435a25dfd1d9e1">CPTableViewColumnResizingKey</a>            = <span class="stringliteral">@&quot;CPTableViewColumnResizingKey&quot;</span>,</div>
<div class="line"><a name="l06076"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a73766d88a09c50be1f1e5382384555a3"> 6076</a></span>&#160;    <a class="code" href="_c_p_table_view_8j.html#a73766d88a09c50be1f1e5382384555a3">CPTableViewColumnSelectionKey</a>           = <span class="stringliteral">@&quot;CPTableViewColumnSelectionKey&quot;</span>,</div>
<div class="line"><a name="l06077"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a45083376bbddf64913daf0d7f9a5e33a"> 6077</a></span>&#160;    <a class="code" href="_c_p_table_view_8j.html#a45083376bbddf64913daf0d7f9a5e33a">CPTableViewColumnAutoresizingStyleKey</a>   = <span class="stringliteral">@&quot;CPTableViewColumnAutoresizingStyleKey&quot;</span>,</div>
<div class="line"><a name="l06078"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a65100994e5f1bb660a4953bb99e99b3f"> 6078</a></span>&#160;    <a class="code" href="_c_p_table_view_8j.html#a65100994e5f1bb660a4953bb99e99b3f">CPTableViewGridColorKey</a>                 = <span class="stringliteral">@&quot;CPTableViewGridColorKey&quot;</span>,</div>
<div class="line"><a name="l06079"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a0f557abb46aa661ee0ccca18398d053f"> 6079</a></span>&#160;    <a class="code" href="_c_p_table_view_8j.html#a0f557abb46aa661ee0ccca18398d053f">CPTableViewGridStyleMaskKey</a>             = <span class="stringliteral">@&quot;CPTableViewGridStyleMaskKey&quot;</span>,</div>
<div class="line"><a name="l06080"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#ae14aa7a0bfbabe81b219baafe1338614"> 6080</a></span>&#160;    <a class="code" href="_c_p_table_view_8j.html#ae14aa7a0bfbabe81b219baafe1338614">CPTableViewUsesAlternatingBackgroundKey</a> = <span class="stringliteral">@&quot;CPTableViewUsesAlternatingBackgroundKey&quot;</span>,</div>
<div class="line"><a name="l06081"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a9a6e49d234e93ae63319031b510c5714"> 6081</a></span>&#160;    <a class="code" href="_c_p_table_view_8j.html#a9a6e49d234e93ae63319031b510c5714">CPTableViewAlternatingRowColorsKey</a>      = <span class="stringliteral">@&quot;CPTableViewAlternatingRowColorsKey&quot;</span>,</div>
<div class="line"><a name="l06082"></a><span class="lineno"> 6082</span>&#160;    <a class="code" href="_c_p_table_view_8j.html#a249d34f03b936c7d41a2028ceb1f7e13">CPTableViewHeaderViewKey</a>                = <span class="stringliteral">@&quot;CPTableViewHeaderViewKey&quot;</span>,</div>
<div class="line"><a name="l06083"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a2603164ca98d123c78e88939205d38e4"> 6083</a></span>&#160;    <a class="code" href="_c_p_table_view_8j.html#a2603164ca98d123c78e88939205d38e4">CPTableViewCornerViewKey</a>                = <span class="stringliteral">@&quot;CPTableViewCornerViewKey&quot;</span>,</div>
<div class="line"><a name="l06084"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#ab35607914f144a63f5fdbb0ed9f35e69"> 6084</a></span>&#160;    <a class="code" href="_c_p_table_view_8j.html#ab35607914f144a63f5fdbb0ed9f35e69">CPTableViewAutosaveNameKey</a>              = <span class="stringliteral">@&quot;CPTableViewAutosaveNameKey&quot;</span>,</div>
<div class="line"><a name="l06085"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a612aa6075ae5c61f0fab420a6caafb92"> 6085</a></span>&#160;    <a class="code" href="_c_p_table_view_8j.html#a612aa6075ae5c61f0fab420a6caafb92">CPTableViewArchivedReusableViewsKey</a>     = <span class="stringliteral">@&quot;CPTableViewArchivedReusableViewsKey&quot;</span>;</div>
<div class="line"><a name="l06086"></a><span class="lineno"> 6086</span>&#160;</div>
<div class="line"><a name="l06087"></a><span class="lineno"><a class="code" href="category_c_p_table_view_07_c_p_coding_08.html"> 6087</a></span>&#160;<span class="keyword">@implementation </span><a class="code" href="category_c_p_table_view_07_c_p_coding_08.html">CPTableView (CPCoding)</a></div>
<div class="line"><a name="l06088"></a><span class="lineno"> 6088</span>&#160;</div>
<div class="line"><a name="l06089"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a99d099b758c7e530188aa5a461c16dcf"> 6089</a></span>&#160;- (id)initWithCoder:(<a class="code" href="interface_c_p_coder.html" title="Defines methods for use when archiving &amp; restoring (enc/decoding). ">CPCoder</a>)aCoder</div>
<div class="line"><a name="l06090"></a><span class="lineno"> 6090</span>&#160;{</div>
<div class="line"><a name="l06091"></a><span class="lineno"> 6091</span>&#160;    <span class="keyword">self</span> = [<span class="keyword">super</span> <a class="code" href="interface_c_p_control.html#af4941048c1888b63d6919f6ee5367c15">initWithCoder</a>:aCoder];</div>
<div class="line"><a name="l06092"></a><span class="lineno"> 6092</span>&#160;</div>
<div class="line"><a name="l06093"></a><span class="lineno"> 6093</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">self</span>)</div>
<div class="line"><a name="l06094"></a><span class="lineno"> 6094</span>&#160;    {</div>
<div class="line"><a name="l06095"></a><span class="lineno"> 6095</span>&#160;        <span class="comment">//Configuring Behavior</span></div>
<div class="line"><a name="l06096"></a><span class="lineno"> 6096</span>&#160;        _allowsColumnReordering = [aCoder decodeBoolForKey:CPTableViewColumnReorderingKey];</div>
<div class="line"><a name="l06097"></a><span class="lineno"> 6097</span>&#160;        _allowsColumnResizing = [aCoder decodeBoolForKey:CPTableViewColumnResizingKey];</div>
<div class="line"><a name="l06098"></a><span class="lineno"> 6098</span>&#160;        _allowsMultipleSelection = [aCoder decodeBoolForKey:CPTableViewMultipleSelectionKey];</div>
<div class="line"><a name="l06099"></a><span class="lineno"> 6099</span>&#160;        _allowsEmptySelection = [aCoder decodeBoolForKey:CPTableViewEmptySelectionKey];</div>
<div class="line"><a name="l06100"></a><span class="lineno"> 6100</span>&#160;        _allowsColumnSelection = [aCoder decodeBoolForKey:CPTableViewColumnSelectionKey];</div>
<div class="line"><a name="l06101"></a><span class="lineno"> 6101</span>&#160;</div>
<div class="line"><a name="l06102"></a><span class="lineno"> 6102</span>&#160;        <span class="comment">//Setting Display Attributes</span></div>
<div class="line"><a name="l06103"></a><span class="lineno"> 6103</span>&#160;        _selectionHighlightStyle = [aCoder decodeIntForKey:CPTableViewSelectionHighlightStyleKey];</div>
<div class="line"><a name="l06104"></a><span class="lineno"> 6104</span>&#160;        _columnAutoResizingStyle = [aCoder decodeIntForKey:CPTableViewColumnAutoresizingStyleKey];</div>
<div class="line"><a name="l06105"></a><span class="lineno"> 6105</span>&#160;</div>
<div class="line"><a name="l06106"></a><span class="lineno"> 6106</span>&#160;        _tableColumns = [aCoder decodeObjectForKey:CPTableViewTableColumnsKey] || [];</div>
<div class="line"><a name="l06107"></a><span class="lineno"> 6107</span>&#160;        [_tableColumns makeObjectsPerformSelector:@selector(setTableView:) withObject:self];</div>
<div class="line"><a name="l06108"></a><span class="lineno"> 6108</span>&#160;</div>
<div class="line"><a name="l06109"></a><span class="lineno"> 6109</span>&#160;        _rowHeight = [aCoder decodeFloatForKey:CPTableViewRowHeightKey] || [<span class="keyword">self</span> <a class="code" href="interface_c_p_view.html#a486e56469971d47b9bf7df07f4b688c5">valueForThemeAttribute</a>:@&quot;default-row-height&quot;];</div>
<div class="line"><a name="l06110"></a><span class="lineno"> 6110</span>&#160;        _intercellSpacing = [aCoder decodeSizeForKey:CPTableViewIntercellSpacingKey];</div>
<div class="line"><a name="l06111"></a><span class="lineno"> 6111</span>&#160;</div>
<div class="line"><a name="l06112"></a><span class="lineno"> 6112</span>&#160;        <span class="keywordflow">if</span> (CGSizeEqualToSize(_intercellSpacing, CGSizeMakeZero()))</div>
<div class="line"><a name="l06113"></a><span class="lineno"> 6113</span>&#160;            _intercellSpacing = CGSizeMake(3.0, 2.0);</div>
<div class="line"><a name="l06114"></a><span class="lineno"> 6114</span>&#160;</div>
<div class="line"><a name="l06115"></a><span class="lineno"> 6115</span>&#160;        [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a87d09099f126a8e7e741a192e05e10f7">setGridColor</a>:[aCoder decodeObjectForKey:CPTableViewGridColorKey]];</div>
<div class="line"><a name="l06116"></a><span class="lineno"> 6116</span>&#160;        _gridStyleMask = [aCoder decodeIntForKey:CPTableViewGridStyleMaskKey];</div>
<div class="line"><a name="l06117"></a><span class="lineno"> 6117</span>&#160;</div>
<div class="line"><a name="l06118"></a><span class="lineno"> 6118</span>&#160;        _usesAlternatingRowBackgroundColors = [aCoder decodeObjectForKey:CPTableViewUsesAlternatingBackgroundKey];</div>
<div class="line"><a name="l06119"></a><span class="lineno"> 6119</span>&#160;        [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#aa50e7802368fe0b0be6756beaa70fd71">setAlternatingRowBackgroundColors</a>:[aCoder decodeObjectForKey:CPTableViewAlternatingRowColorsKey]];</div>
<div class="line"><a name="l06120"></a><span class="lineno"> 6120</span>&#160;</div>
<div class="line"><a name="l06121"></a><span class="lineno"> 6121</span>&#160;        _headerView = [aCoder decodeObjectForKey:CPTableViewHeaderViewKey];</div>
<div class="line"><a name="l06122"></a><span class="lineno"> 6122</span>&#160;        _cornerView = [aCoder decodeObjectForKey:CPTableViewCornerViewKey];</div>
<div class="line"><a name="l06123"></a><span class="lineno"> 6123</span>&#160;</div>
<div class="line"><a name="l06124"></a><span class="lineno"> 6124</span>&#160;        [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a9ded9f0d3d142023c208fb2a0c3ffd75">setDataSource</a>:[aCoder decodeObjectForKey:CPTableViewDataSourceKey]];</div>
<div class="line"><a name="l06125"></a><span class="lineno"> 6125</span>&#160;        [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a00fc9fb01db1ad77ffbc33dc39e7b5e5">setDelegate</a>:[aCoder decodeObjectForKey:CPTableViewDelegateKey]];</div>
<div class="line"><a name="l06126"></a><span class="lineno"> 6126</span>&#160;</div>
<div class="line"><a name="l06127"></a><span class="lineno"> 6127</span>&#160;        [<span class="keyword">self</span> _init];</div>
<div class="line"><a name="l06128"></a><span class="lineno"> 6128</span>&#160;</div>
<div class="line"><a name="l06129"></a><span class="lineno"> 6129</span>&#160;        <span class="keywordflow">if</span> ([aCoder containsValueForKey:<a class="code" href="_c_p_table_view_8j.html#a612aa6075ae5c61f0fab420a6caafb92">CPTableViewArchivedReusableViewsKey</a>])</div>
<div class="line"><a name="l06130"></a><span class="lineno"> 6130</span>&#160;            _archivedDataViews = [aCoder decodeObjectForKey:CPTableViewArchivedReusableViewsKey];</div>
<div class="line"><a name="l06131"></a><span class="lineno"> 6131</span>&#160;</div>
<div class="line"><a name="l06132"></a><span class="lineno"> 6132</span>&#160;        [<span class="keyword">self</span> _updateIsViewBased];</div>
<div class="line"><a name="l06133"></a><span class="lineno"> 6133</span>&#160;</div>
<div class="line"><a name="l06134"></a><span class="lineno"> 6134</span>&#160;        [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a7a71c5e32d14791d19693f9a87d88491">viewWillMoveToSuperview</a>:[<span class="keyword">self</span> <a class="code" href="interface_c_p_view.html#ae7fe2569d290f7eaabdebf5d48cb2745">superview</a>]];</div>
<div class="line"><a name="l06135"></a><span class="lineno"> 6135</span>&#160;</div>
<div class="line"><a name="l06136"></a><span class="lineno"> 6136</span>&#160;        <span class="comment">// Do this as late as possible to make sure the tableview is fully configured</span></div>
<div class="line"><a name="l06137"></a><span class="lineno"> 6137</span>&#160;        [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a13be1e95519d062c419a1e8e321bc81e">setAutosaveName</a>:[aCoder decodeObjectForKey:CPTableViewAutosaveNameKey]];</div>
<div class="line"><a name="l06138"></a><span class="lineno"> 6138</span>&#160;    }</div>
<div class="line"><a name="l06139"></a><span class="lineno"> 6139</span>&#160;</div>
<div class="line"><a name="l06140"></a><span class="lineno"> 6140</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">self</span>;</div>
<div class="line"><a name="l06141"></a><span class="lineno"> 6141</span>&#160;}</div>
<div class="line"><a name="l06142"></a><span class="lineno"> 6142</span>&#160;</div>
<div class="line"><a name="l06143"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#aacd9e1383f027b42243bddc244ca8064"> 6143</a></span>&#160;- (void)encodeWithCoder:(<a class="code" href="interface_c_p_coder.html" title="Defines methods for use when archiving &amp; restoring (enc/decoding). ">CPCoder</a>)aCoder</div>
<div class="line"><a name="l06144"></a><span class="lineno"> 6144</span>&#160;{</div>
<div class="line"><a name="l06145"></a><span class="lineno"> 6145</span>&#160;    [<span class="keyword">super</span> <a class="code" href="interface_c_p_control.html#a69e8aa13174c6c6f4f330cdc3b46ecd0">encodeWithCoder</a>:aCoder];</div>
<div class="line"><a name="l06146"></a><span class="lineno"> 6146</span>&#160;</div>
<div class="line"><a name="l06147"></a><span class="lineno"> 6147</span>&#160;    <span class="comment">// We do this in order to avoid encoding the _tableDrawView, which</span></div>
<div class="line"><a name="l06148"></a><span class="lineno"> 6148</span>&#160;    <span class="comment">// should just automatically be created programmatically as needed.</span></div>
<div class="line"><a name="l06149"></a><span class="lineno"> 6149</span>&#160;    <span class="keywordflow">if</span> (_tableDrawView)</div>
<div class="line"><a name="l06150"></a><span class="lineno"> 6150</span>&#160;        [_tableDrawView removeFromSuperview];</div>
<div class="line"><a name="l06151"></a><span class="lineno"> 6151</span>&#160;</div>
<div class="line"><a name="l06152"></a><span class="lineno"> 6152</span>&#160;    [aCoder encodeObject:_dataSource forKey:CPTableViewDataSourceKey];</div>
<div class="line"><a name="l06153"></a><span class="lineno"> 6153</span>&#160;    [aCoder encodeObject:_delegate forKey:CPTableViewDelegateKey];</div>
<div class="line"><a name="l06154"></a><span class="lineno"> 6154</span>&#160;</div>
<div class="line"><a name="l06155"></a><span class="lineno"> 6155</span>&#160;    [aCoder encodeFloat:_rowHeight forKey:CPTableViewRowHeightKey];</div>
<div class="line"><a name="l06156"></a><span class="lineno"> 6156</span>&#160;    [aCoder encodeSize:_intercellSpacing forKey:CPTableViewIntercellSpacingKey];</div>
<div class="line"><a name="l06157"></a><span class="lineno"> 6157</span>&#160;</div>
<div class="line"><a name="l06158"></a><span class="lineno"> 6158</span>&#160;    [aCoder encodeInt:_selectionHighlightStyle forKey:CPTableViewSelectionHighlightStyleKey];</div>
<div class="line"><a name="l06159"></a><span class="lineno"> 6159</span>&#160;    [aCoder encodeInt:_columnAutoResizingStyle forKey:CPTableViewColumnAutoresizingStyleKey];</div>
<div class="line"><a name="l06160"></a><span class="lineno"> 6160</span>&#160;</div>
<div class="line"><a name="l06161"></a><span class="lineno"> 6161</span>&#160;    [aCoder encodeBool:_allowsMultipleSelection forKey:CPTableViewMultipleSelectionKey];</div>
<div class="line"><a name="l06162"></a><span class="lineno"> 6162</span>&#160;    [aCoder encodeBool:_allowsEmptySelection forKey:CPTableViewEmptySelectionKey];</div>
<div class="line"><a name="l06163"></a><span class="lineno"> 6163</span>&#160;    [aCoder encodeBool:_allowsColumnReordering forKey:CPTableViewColumnReorderingKey];</div>
<div class="line"><a name="l06164"></a><span class="lineno"> 6164</span>&#160;    [aCoder encodeBool:_allowsColumnResizing forKey:CPTableViewColumnResizingKey];</div>
<div class="line"><a name="l06165"></a><span class="lineno"> 6165</span>&#160;    [aCoder encodeBool:_allowsColumnSelection forKey:CPTableViewColumnSelectionKey];</div>
<div class="line"><a name="l06166"></a><span class="lineno"> 6166</span>&#160;</div>
<div class="line"><a name="l06167"></a><span class="lineno"> 6167</span>&#160;    [aCoder encodeObject:_tableColumns forKey:CPTableViewTableColumnsKey];</div>
<div class="line"><a name="l06168"></a><span class="lineno"> 6168</span>&#160;</div>
<div class="line"><a name="l06169"></a><span class="lineno"> 6169</span>&#160;    [aCoder encodeObject:[<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#a23c390780203dd17c0593b269b705814">gridColor</a>] forKey:CPTableViewGridColorKey];</div>
<div class="line"><a name="l06170"></a><span class="lineno"> 6170</span>&#160;    [aCoder encodeInt:_gridStyleMask forKey:CPTableViewGridStyleMaskKey];</div>
<div class="line"><a name="l06171"></a><span class="lineno"> 6171</span>&#160;</div>
<div class="line"><a name="l06172"></a><span class="lineno"> 6172</span>&#160;    [aCoder encodeBool:_usesAlternatingRowBackgroundColors forKey:CPTableViewUsesAlternatingBackgroundKey];</div>
<div class="line"><a name="l06173"></a><span class="lineno"> 6173</span>&#160;    [aCoder encodeObject:[<span class="keyword">self</span> <a class="code" href="interface_c_p_table_view.html#aa31301940f52f185b7905f89a17e9bc1">alternatingRowBackgroundColors</a>] forKey:CPTableViewAlternatingRowColorsKey];</div>
<div class="line"><a name="l06174"></a><span class="lineno"> 6174</span>&#160;</div>
<div class="line"><a name="l06175"></a><span class="lineno"> 6175</span>&#160;    [aCoder encodeObject:_cornerView forKey:CPTableViewCornerViewKey];</div>
<div class="line"><a name="l06176"></a><span class="lineno"> 6176</span>&#160;    [aCoder encodeObject:_headerView forKey:CPTableViewHeaderViewKey];</div>
<div class="line"><a name="l06177"></a><span class="lineno"> 6177</span>&#160;</div>
<div class="line"><a name="l06178"></a><span class="lineno"> 6178</span>&#160;    [aCoder encodeObject:_autosaveName forKey:CPTableViewAutosaveNameKey];</div>
<div class="line"><a name="l06179"></a><span class="lineno"> 6179</span>&#160;</div>
<div class="line"><a name="l06180"></a><span class="lineno"> 6180</span>&#160;    <span class="keywordflow">if</span> (_archivedDataViews)</div>
<div class="line"><a name="l06181"></a><span class="lineno"> 6181</span>&#160;        [aCoder encodeObject:_archivedDataViews forKey:CPTableViewArchivedReusableViewsKey];</div>
<div class="line"><a name="l06182"></a><span class="lineno"> 6182</span>&#160;}</div>
<div class="line"><a name="l06183"></a><span class="lineno"> 6183</span>&#160;</div>
<div class="line"><a name="l06184"></a><span class="lineno"> 6184</span>&#160;<span class="keyword">@end</span></div>
<div class="line"><a name="l06185"></a><span class="lineno"> 6185</span>&#160;</div>
<div class="line"><a name="l06186"></a><span class="lineno"> 6186</span>&#160;<span class="keyword">@implementation </span>_CPDropOperationDrawingView : <a class="code" href="interface_c_p_view.html">CPView</a></div>
<div class="line"><a name="l06187"></a><span class="lineno"> 6187</span>&#160;{</div>
<div class="line"><a name="l06188"></a><span class="lineno"> 6188</span>&#160;    <span class="keywordtype">unsigned</span>    dropOperation;</div>
<div class="line"><a name="l06189"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2"> 6189</a></span>&#160;    <a class="code" href="interface_c_p_table_view.html">CPTableView</a> <a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>;</div>
<div class="line"><a name="l06190"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a789bfe83cfe007cc723e4fd58bb6b112"> 6190</a></span>&#160;    <span class="keywordtype">int</span>         <a class="code" href="_c_p_table_view_8j.html#a789bfe83cfe007cc723e4fd58bb6b112">currentRow</a>;</div>
<div class="line"><a name="l06191"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#ab2661134e33859f16482d8e8aa7a7f5f"> 6191</a></span>&#160;    BOOL        <a class="code" href="_c_p_table_view_8j.html#ab2661134e33859f16482d8e8aa7a7f5f">isBlinking</a>;</div>
<div class="line"><a name="l06192"></a><span class="lineno"> 6192</span>&#160;}</div>
<div class="line"><a name="l06193"></a><span class="lineno"> 6193</span>&#160;</div>
<div class="line"><a name="l06194"></a><span class="lineno"> 6194</span>&#160;- (void)drawRect:(CGRect)aRect</div>
<div class="line"><a name="l06195"></a><span class="lineno"> 6195</span>&#160;{</div>
<div class="line"><a name="l06196"></a><span class="lineno"> 6196</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>._destinationDragStyle === <a class="code" href="_c_p_table_view_8j.html#a7d721e523dd8ab8740aff52cb54efa91">CPTableViewDraggingDestinationFeedbackStyleNone</a> || <a class="code" href="_c_p_table_view_8j.html#ab2661134e33859f16482d8e8aa7a7f5f">isBlinking</a>)</div>
<div class="line"><a name="l06197"></a><span class="lineno"> 6197</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06198"></a><span class="lineno"> 6198</span>&#160;</div>
<div class="line"><a name="l06199"></a><span class="lineno"> 6199</span>&#160;    var context = [[<a class="code" href="interface_c_p_graphics_context.html">CPGraphicsContext</a> <a class="code" href="interface_c_p_graphics_context.html#a378dafc8fb951053dd6877fb45e87f61">currentContext</a>] <a class="code" href="interface_c_p_graphics_context.html#a92895bd939c04da463d02425bec83f0b">graphicsPort</a>],</div>
<div class="line"><a name="l06200"></a><span class="lineno"> 6200</span>&#160;        borderRadius,</div>
<div class="line"><a name="l06201"></a><span class="lineno"> 6201</span>&#160;        borderColor,</div>
<div class="line"><a name="l06202"></a><span class="lineno"> 6202</span>&#160;        borderWidth,</div>
<div class="line"><a name="l06203"></a><span class="lineno"> 6203</span>&#160;        <a class="code" href="_c_a_layer_8j.html#ae899241e4726cfdc60c378622303f3b9">backgroundColor</a>;</div>
<div class="line"><a name="l06204"></a><span class="lineno"> 6204</span>&#160;</div>
<div class="line"><a name="l06205"></a><span class="lineno"> 6205</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="_c_p_table_view_8j.html#a789bfe83cfe007cc723e4fd58bb6b112">currentRow</a> === -1)</div>
<div class="line"><a name="l06206"></a><span class="lineno"> 6206</span>&#160;    {</div>
<div class="line"><a name="l06207"></a><span class="lineno"> 6207</span>&#160;        borderColor = [tableView valueForThemeAttribute:@&quot;dropview-on-border-color&quot;];</div>
<div class="line"><a name="l06208"></a><span class="lineno"> 6208</span>&#160;        borderWidth = [tableView valueForThemeAttribute:@&quot;dropview-on-border-width&quot;];</div>
<div class="line"><a name="l06209"></a><span class="lineno"> 6209</span>&#160;</div>
<div class="line"><a name="l06210"></a><span class="lineno"> 6210</span>&#160;        <a class="code" href="group__coregraphics.html#gac13f17a8bed76d16b9e5252106d196e0">CGContextSetStrokeColor</a>(context, borderColor);</div>
<div class="line"><a name="l06211"></a><span class="lineno"> 6211</span>&#160;        <a class="code" href="group__coregraphics.html#ga96bba0be21dd53a15a84c8f23eb7cc70">CGContextSetLineWidth</a>(context, borderWidth);</div>
<div class="line"><a name="l06212"></a><span class="lineno"> 6212</span>&#160;        <a class="code" href="group__coregraphics.html#ga97161b64abcac5e58a722ecb0767993a">CGContextStrokeRect</a>(context, [<span class="keyword">self</span> <a class="code" href="_c_a_layer_8j.html#a76e98e4f35c628cffcb1a388ec583bec">bounds</a>]);</div>
<div class="line"><a name="l06213"></a><span class="lineno"> 6213</span>&#160;    }</div>
<div class="line"><a name="l06214"></a><span class="lineno"> 6214</span>&#160;</div>
<div class="line"><a name="l06215"></a><span class="lineno"> 6215</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dropOperation === <a class="code" href="_c_p_table_view_8j.html#a279093eafa50075a94c202e0dd51861a">CPTableViewDropOn</a>)</div>
<div class="line"><a name="l06216"></a><span class="lineno"> 6216</span>&#160;    {</div>
<div class="line"><a name="l06217"></a><span class="lineno"> 6217</span>&#160;        <span class="comment">//if row is selected don&#39;t fill and stroke white</span></div>
<div class="line"><a name="l06218"></a><span class="lineno"> 6218</span>&#160;        var selectedRows = [tableView selectedRowIndexes],</div>
<div class="line"><a name="l06219"></a><span class="lineno"> 6219</span>&#160;            newRect = CGRectMake(aRect.origin.x + 2, aRect.origin.y + 2, aRect.size.width - 4, aRect.size.height - 5);</div>
<div class="line"><a name="l06220"></a><span class="lineno"> 6220</span>&#160;</div>
<div class="line"><a name="l06221"></a><span class="lineno"> 6221</span>&#160;        <span class="keywordflow">if</span> ([selectedRows containsIndex:<a class="code" href="_c_p_table_view_8j.html#a789bfe83cfe007cc723e4fd58bb6b112">currentRow</a>])</div>
<div class="line"><a name="l06222"></a><span class="lineno"> 6222</span>&#160;        {</div>
<div class="line"><a name="l06223"></a><span class="lineno"> 6223</span>&#160;            borderRadius = [tableView valueForThemeAttribute:@&quot;dropview-on-selected-border-radius&quot;];</div>
<div class="line"><a name="l06224"></a><span class="lineno"> 6224</span>&#160;            borderColor = [tableView valueForThemeAttribute:@&quot;dropview-on-selected-border-color&quot;];</div>
<div class="line"><a name="l06225"></a><span class="lineno"> 6225</span>&#160;            borderWidth = [tableView valueForThemeAttribute:@&quot;dropview-on-selected-border-width&quot;];</div>
<div class="line"><a name="l06226"></a><span class="lineno"> 6226</span>&#160;            <a class="code" href="_c_a_layer_8j.html#ae899241e4726cfdc60c378622303f3b9">backgroundColor</a> = [tableView valueForThemeAttribute:@&quot;dropview-on-selected-background-color&quot;];</div>
<div class="line"><a name="l06227"></a><span class="lineno"> 6227</span>&#160;        }</div>
<div class="line"><a name="l06228"></a><span class="lineno"> 6228</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l06229"></a><span class="lineno"> 6229</span>&#160;        {</div>
<div class="line"><a name="l06230"></a><span class="lineno"> 6230</span>&#160;            borderRadius = [tableView valueForThemeAttribute:@&quot;dropview-on-border-radius&quot;];</div>
<div class="line"><a name="l06231"></a><span class="lineno"> 6231</span>&#160;            borderColor = [tableView valueForThemeAttribute:@&quot;dropview-on-border-color&quot;];</div>
<div class="line"><a name="l06232"></a><span class="lineno"> 6232</span>&#160;            borderWidth = [tableView valueForThemeAttribute:@&quot;dropview-on-border-width&quot;];</div>
<div class="line"><a name="l06233"></a><span class="lineno"> 6233</span>&#160;            <a class="code" href="_c_a_layer_8j.html#ae899241e4726cfdc60c378622303f3b9">backgroundColor</a> = [tableView valueForThemeAttribute:@&quot;dropview-on-background-color&quot;];</div>
<div class="line"><a name="l06234"></a><span class="lineno"> 6234</span>&#160;        }</div>
<div class="line"><a name="l06235"></a><span class="lineno"> 6235</span>&#160;</div>
<div class="line"><a name="l06236"></a><span class="lineno"> 6236</span>&#160;        <a class="code" href="group__coregraphics.html#gac13f17a8bed76d16b9e5252106d196e0">CGContextSetStrokeColor</a>(context, borderColor);</div>
<div class="line"><a name="l06237"></a><span class="lineno"> 6237</span>&#160;        <a class="code" href="group__coregraphics.html#ga96bba0be21dd53a15a84c8f23eb7cc70">CGContextSetLineWidth</a>(context, borderWidth);</div>
<div class="line"><a name="l06238"></a><span class="lineno"> 6238</span>&#160;        <a class="code" href="group__coregraphics.html#ga800a3e5b0c46359d28b091376630bb0e">CGContextSetFillColor</a>(context, <a class="code" href="_c_a_layer_8j.html#ae899241e4726cfdc60c378622303f3b9">backgroundColor</a>);</div>
<div class="line"><a name="l06239"></a><span class="lineno"> 6239</span>&#160;        <a class="code" href="group__coregraphics.html#ga76628754093e198ead6806bf8a934d35">CGContextFillRoundedRectangleInRect</a>(context, newRect, borderRadius, YES, YES, YES, YES);</div>
<div class="line"><a name="l06240"></a><span class="lineno"> 6240</span>&#160;        <a class="code" href="group__coregraphics.html#ga183a83821529224dc910a3ffd9f07f91">CGContextStrokeRoundedRectangleInRect</a>(context, newRect, borderRadius, YES, YES, YES, YES);</div>
<div class="line"><a name="l06241"></a><span class="lineno"> 6241</span>&#160;</div>
<div class="line"><a name="l06242"></a><span class="lineno"> 6242</span>&#160;    }</div>
<div class="line"><a name="l06243"></a><span class="lineno"> 6243</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dropOperation === <a class="code" href="_c_p_table_view_8j.html#a4c2d1434c8bc5b937eeb47b55f5c74d0">CPTableViewDropAbove</a>)</div>
<div class="line"><a name="l06244"></a><span class="lineno"> 6244</span>&#160;    {</div>
<div class="line"><a name="l06245"></a><span class="lineno"> 6245</span>&#160;        <span class="comment">//reposition the view up a tad</span></div>
<div class="line"><a name="l06246"></a><span class="lineno"> 6246</span>&#160;        [<span class="keyword">self</span> setFrameOrigin:CGPointMake(_frame.origin.x, _frame.origin.y - 8)];</div>
<div class="line"><a name="l06247"></a><span class="lineno"> 6247</span>&#160;</div>
<div class="line"><a name="l06248"></a><span class="lineno"> 6248</span>&#160;        var selectedRows = [tableView selectedRowIndexes];</div>
<div class="line"><a name="l06249"></a><span class="lineno"> 6249</span>&#160;</div>
<div class="line"><a name="l06250"></a><span class="lineno"> 6250</span>&#160;        <span class="keywordflow">if</span> ([selectedRows containsIndex:<a class="code" href="_c_p_table_view_8j.html#a789bfe83cfe007cc723e4fd58bb6b112">currentRow</a> - 1] || [selectedRows containsIndex:<a class="code" href="_c_p_table_view_8j.html#a789bfe83cfe007cc723e4fd58bb6b112">currentRow</a>])</div>
<div class="line"><a name="l06251"></a><span class="lineno"> 6251</span>&#160;        {</div>
<div class="line"><a name="l06252"></a><span class="lineno"> 6252</span>&#160;            borderColor = [tableView valueForThemeAttribute:@&quot;dropview-above-selected-border-color&quot;];</div>
<div class="line"><a name="l06253"></a><span class="lineno"> 6253</span>&#160;            borderWidth = [tableView valueForThemeAttribute:@&quot;dropview-above-selected-border-width&quot;];</div>
<div class="line"><a name="l06254"></a><span class="lineno"> 6254</span>&#160;        }</div>
<div class="line"><a name="l06255"></a><span class="lineno"> 6255</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l06256"></a><span class="lineno"> 6256</span>&#160;        {</div>
<div class="line"><a name="l06257"></a><span class="lineno"> 6257</span>&#160;            borderColor = [tableView valueForThemeAttribute:@&quot;dropview-above-border-color&quot;];</div>
<div class="line"><a name="l06258"></a><span class="lineno"> 6258</span>&#160;            borderWidth = [tableView valueForThemeAttribute:@&quot;dropview-above-border-width&quot;];</div>
<div class="line"><a name="l06259"></a><span class="lineno"> 6259</span>&#160;        }</div>
<div class="line"><a name="l06260"></a><span class="lineno"> 6260</span>&#160;</div>
<div class="line"><a name="l06261"></a><span class="lineno"> 6261</span>&#160;        <a class="code" href="group__coregraphics.html#gac13f17a8bed76d16b9e5252106d196e0">CGContextSetStrokeColor</a>(context, borderColor);</div>
<div class="line"><a name="l06262"></a><span class="lineno"> 6262</span>&#160;        <a class="code" href="group__coregraphics.html#ga96bba0be21dd53a15a84c8f23eb7cc70">CGContextSetLineWidth</a>(context, borderWidth);</div>
<div class="line"><a name="l06263"></a><span class="lineno"> 6263</span>&#160;        <a class="code" href="group__coregraphics.html#gab6e04d0c787c9f065d87534fd4654cbf">CGContextStrokeEllipseInRect</a>(context, CGRectMake(aRect.origin.x + 4, aRect.origin.y + 4, 8, 8)); <span class="comment">// circle</span></div>
<div class="line"><a name="l06264"></a><span class="lineno"> 6264</span>&#160;</div>
<div class="line"><a name="l06265"></a><span class="lineno"> 6265</span>&#160;        <a class="code" href="group__coregraphics.html#ga02cca9368e5aacc0bef423d724635376">CGContextBeginPath</a>(context);</div>
<div class="line"><a name="l06266"></a><span class="lineno"> 6266</span>&#160;        <a class="code" href="group__coregraphics.html#ga44dc04bb1efb98ff834308c997d10dc5">CGContextMoveToPoint</a>(context, 10, aRect.origin.y + 8);</div>
<div class="line"><a name="l06267"></a><span class="lineno"> 6267</span>&#160;        <a class="code" href="group__coregraphics.html#ga834b9d5848989453730d162f251a29c3">CGContextAddLineToPoint</a>(context, aRect.size.width - aRect.origin.y - 8, aRect.origin.y + 8);</div>
<div class="line"><a name="l06268"></a><span class="lineno"> 6268</span>&#160;        <a class="code" href="group__coregraphics.html#ga03bda4b6dc1763d22d122d565e027012">CGContextStrokePath</a>(context);</div>
<div class="line"><a name="l06269"></a><span class="lineno"> 6269</span>&#160;    }</div>
<div class="line"><a name="l06270"></a><span class="lineno"> 6270</span>&#160;}</div>
<div class="line"><a name="l06271"></a><span class="lineno"> 6271</span>&#160;</div>
<div class="line"><a name="l06272"></a><span class="lineno"> 6272</span>&#160;- (void)blink</div>
<div class="line"><a name="l06273"></a><span class="lineno"> 6273</span>&#160;{</div>
<div class="line"><a name="l06274"></a><span class="lineno"> 6274</span>&#160;    <span class="keywordflow">if</span> (dropOperation !== <a class="code" href="_c_p_table_view_8j.html#a279093eafa50075a94c202e0dd51861a">CPTableViewDropOn</a>)</div>
<div class="line"><a name="l06275"></a><span class="lineno"> 6275</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l06276"></a><span class="lineno"> 6276</span>&#160;</div>
<div class="line"><a name="l06277"></a><span class="lineno"> 6277</span>&#160;    <a class="code" href="_c_p_table_view_8j.html#ab2661134e33859f16482d8e8aa7a7f5f">isBlinking</a> = YES;</div>
<div class="line"><a name="l06278"></a><span class="lineno"> 6278</span>&#160;</div>
<div class="line"><a name="l06279"></a><span class="lineno"> 6279</span>&#160;    var showCallback = <span class="keyword">function</span>()</div>
<div class="line"><a name="l06280"></a><span class="lineno"> 6280</span>&#160;    {</div>
<div class="line"><a name="l06281"></a><span class="lineno"> 6281</span>&#160;        objj_msgSend(<span class="keyword">self</span>, <span class="stringliteral">&quot;setHidden:&quot;</span>, NO)</div>
<div class="line"><a name="l06282"></a><span class="lineno"> 6282</span>&#160;        <a class="code" href="_c_p_table_view_8j.html#ab2661134e33859f16482d8e8aa7a7f5f">isBlinking</a> = NO;</div>
<div class="line"><a name="l06283"></a><span class="lineno"> 6283</span>&#160;    };</div>
<div class="line"><a name="l06284"></a><span class="lineno"> 6284</span>&#160;</div>
<div class="line"><a name="l06285"></a><span class="lineno"> 6285</span>&#160;    var hideCallback = function()</div>
<div class="line"><a name="l06286"></a><span class="lineno"> 6286</span>&#160;    {</div>
<div class="line"><a name="l06287"></a><span class="lineno"> 6287</span>&#160;        objj_msgSend(<span class="keyword">self</span>, <span class="stringliteral">&quot;setHidden:&quot;</span>, YES)</div>
<div class="line"><a name="l06288"></a><span class="lineno"> 6288</span>&#160;        <a class="code" href="_c_p_table_view_8j.html#ab2661134e33859f16482d8e8aa7a7f5f">isBlinking</a> = YES;</div>
<div class="line"><a name="l06289"></a><span class="lineno"> 6289</span>&#160;    };</div>
<div class="line"><a name="l06290"></a><span class="lineno"> 6290</span>&#160;</div>
<div class="line"><a name="l06291"></a><span class="lineno"> 6291</span>&#160;    objj_msgSend(self, &quot;setHidden:&quot;, YES);</div>
<div class="line"><a name="l06292"></a><span class="lineno"> 6292</span>&#160;    [<a class="code" href="interface_c_p_timer.html" title="A timer object that can send a message after the given time interval. ">CPTimer</a> scheduledTimerWithTimeInterval:0.1 callback:showCallback repeats:NO];</div>
<div class="line"><a name="l06293"></a><span class="lineno"> 6293</span>&#160;    [<a class="code" href="interface_c_p_timer.html" title="A timer object that can send a message after the given time interval. ">CPTimer</a> scheduledTimerWithTimeInterval:0.19 callback:hideCallback repeats:NO];</div>
<div class="line"><a name="l06294"></a><span class="lineno"> 6294</span>&#160;    [<a class="code" href="interface_c_p_timer.html" title="A timer object that can send a message after the given time interval. ">CPTimer</a> scheduledTimerWithTimeInterval:0.27 callback:showCallback repeats:NO];</div>
<div class="line"><a name="l06295"></a><span class="lineno"> 6295</span>&#160;}</div>
<div class="line"><a name="l06296"></a><span class="lineno"> 6296</span>&#160;</div>
<div class="line"><a name="l06297"></a><span class="lineno"> 6297</span>&#160;@end</div>
<div class="line"><a name="l06298"></a><span class="lineno"> 6298</span>&#160;</div>
<div class="line"><a name="l06299"></a><span class="lineno"> 6299</span>&#160;</div>
<div class="line"><a name="l06300"></a><span class="lineno"> 6300</span>&#160;@implementation _CPColumnDragDrawingView : <a class="code" href="interface_c_p_view.html">CPView</a></div>
<div class="line"><a name="l06301"></a><span class="lineno"> 6301</span>&#160;{</div>
<div class="line"><a name="l06302"></a><span class="lineno"> 6302</span>&#160;    <a class="code" href="interface_c_p_table_view.html">CPTableView</a> <a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>;</div>
<div class="line"><a name="l06303"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a8fcaace9d7ea1c63a8ab03f24af2fbae"> 6303</a></span>&#160;    <span class="keywordtype">int</span>         <a class="code" href="_c_p_table_view_8j.html#a8fcaace9d7ea1c63a8ab03f24af2fbae">columnIndex</a>;</div>
<div class="line"><a name="l06304"></a><span class="lineno"><a class="code" href="_c_p_table_view_8j.html#a239e2e64f51b5f98693d47745bed65a3"> 6304</a></span>&#160;    CPView      <a class="code" href="_c_p_table_view_8j.html#a239e2e64f51b5f98693d47745bed65a3">columnClipView</a>;</div>
<div class="line"><a name="l06305"></a><span class="lineno"> 6305</span>&#160;}</div>
<div class="line"><a name="l06306"></a><span class="lineno"> 6306</span>&#160;</div>
<div class="line"><a name="l06307"></a><span class="lineno"> 6307</span>&#160;- (void)drawRect:(CGRect)dirtyRect</div>
<div class="line"><a name="l06308"></a><span class="lineno"> 6308</span>&#160;{</div>
<div class="line"><a name="l06309"></a><span class="lineno"> 6309</span>&#160;    var context = [[<a class="code" href="interface_c_p_graphics_context.html">CPGraphicsContext</a> <a class="code" href="interface_c_p_graphics_context.html#a378dafc8fb951053dd6877fb45e87f61">currentContext</a>] <a class="code" href="interface_c_p_graphics_context.html#a92895bd939c04da463d02425bec83f0b">graphicsPort</a>],</div>
<div class="line"><a name="l06310"></a><span class="lineno"> 6310</span>&#160;        columnRect = [tableView rectOfColumn:columnIndex],</div>
<div class="line"><a name="l06311"></a><span class="lineno"> 6311</span>&#160;        headerHeight = CGRectGetHeight([[<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a> headerView] <a class="code" href="_c_p_segmented_control_8j.html#a63fcc9e0dd97e8502cce685e88234e16">frame</a>]),</div>
<div class="line"><a name="l06312"></a><span class="lineno"> 6312</span>&#160;        <a class="code" href="_c_a_layer_8j.html#a76e98e4f35c628cffcb1a388ec583bec">bounds</a> = [columnClipView bounds],</div>
<div class="line"><a name="l06313"></a><span class="lineno"> 6313</span>&#160;        visibleRect = [tableView visibleRect],</div>
<div class="line"><a name="l06314"></a><span class="lineno"> 6314</span>&#160;        xScroll = CGRectGetMinX(visibleRect),</div>
<div class="line"><a name="l06315"></a><span class="lineno"> 6315</span>&#160;        yScroll = CGRectGetMinY(visibleRect);</div>
<div class="line"><a name="l06316"></a><span class="lineno"> 6316</span>&#160;</div>
<div class="line"><a name="l06317"></a><span class="lineno"> 6317</span>&#160;    <span class="comment">// Because we are sharing drawing code with regular table drawing,</span></div>
<div class="line"><a name="l06318"></a><span class="lineno"> 6318</span>&#160;    <span class="comment">// we have to play a few tricks to fool the drawing code into thinking</span></div>
<div class="line"><a name="l06319"></a><span class="lineno"> 6319</span>&#160;    <span class="comment">// our drag column is in the same place as the real column.</span></div>
<div class="line"><a name="l06320"></a><span class="lineno"> 6320</span>&#160;</div>
<div class="line"><a name="l06321"></a><span class="lineno"> 6321</span>&#160;    <span class="comment">// Shift the bounds origin to align with the column rect, and extend it vertically to ensure</span></div>
<div class="line"><a name="l06322"></a><span class="lineno"> 6322</span>&#160;    <span class="comment">// it reaches the bottom of the tableView when scrolled.</span></div>
<div class="line"><a name="l06323"></a><span class="lineno"> 6323</span>&#160;    <a class="code" href="_c_a_layer_8j.html#a76e98e4f35c628cffcb1a388ec583bec">bounds</a>.origin.x = CGRectGetMinX(columnRect) - xScroll;</div>
<div class="line"><a name="l06324"></a><span class="lineno"> 6324</span>&#160;    <a class="code" href="_c_a_layer_8j.html#a76e98e4f35c628cffcb1a388ec583bec">bounds</a>.size.height += yScroll;</div>
<div class="line"><a name="l06325"></a><span class="lineno"> 6325</span>&#160;</div>
<div class="line"><a name="l06326"></a><span class="lineno"> 6326</span>&#160;    <span class="comment">// Fix up the CTM to account for the header and scroll</span></div>
<div class="line"><a name="l06327"></a><span class="lineno"> 6327</span>&#160;    <a class="code" href="group__coregraphics.html#ga2351bbe153eb35f881d0de33de240e02">CGContextTranslateCTM</a>(context, -<a class="code" href="_c_a_layer_8j.html#a76e98e4f35c628cffcb1a388ec583bec">bounds</a>.origin.x, headerHeight - yScroll);</div>
<div class="line"><a name="l06328"></a><span class="lineno"> 6328</span>&#160;</div>
<div class="line"><a name="l06329"></a><span class="lineno"> 6329</span>&#160;    <span class="comment">//[tableView drawBackgroundInClipRect:bounds];</span></div>
<div class="line"><a name="l06330"></a><span class="lineno"> 6330</span>&#160;</div>
<div class="line"><a name="l06331"></a><span class="lineno"> 6331</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a>._draggedColumnIsSelected)</div>
<div class="line"><a name="l06332"></a><span class="lineno"> 6332</span>&#160;    {</div>
<div class="line"><a name="l06333"></a><span class="lineno"> 6333</span>&#160;        <a class="code" href="group__coregraphics.html#ga800a3e5b0c46359d28b091376630bb0e">CGContextSetFillColor</a>(context, [<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a> selectionHighlightColor]);</div>
<div class="line"><a name="l06334"></a><span class="lineno"> 6334</span>&#160;        <a class="code" href="group__coregraphics.html#ga74c13e165c00cc434a54bb8c2148e1ba">CGContextFillRect</a>(context, <a class="code" href="_c_a_layer_8j.html#a76e98e4f35c628cffcb1a388ec583bec">bounds</a>);</div>
<div class="line"><a name="l06335"></a><span class="lineno"> 6335</span>&#160;    }</div>
<div class="line"><a name="l06336"></a><span class="lineno"> 6336</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l06337"></a><span class="lineno"> 6337</span>&#160;        [tableView highlightSelectionInClipRect:bounds];</div>
<div class="line"><a name="l06338"></a><span class="lineno"> 6338</span>&#160;</div>
<div class="line"><a name="l06339"></a><span class="lineno"> 6339</span>&#160;    <span class="comment">//[tableView _drawHorizontalGridInClipRect:bounds];</span></div>
<div class="line"><a name="l06340"></a><span class="lineno"> 6340</span>&#160;</div>
<div class="line"><a name="l06341"></a><span class="lineno"> 6341</span>&#160;    var minX = CGRectGetMinX(<a class="code" href="_c_a_layer_8j.html#a76e98e4f35c628cffcb1a388ec583bec">bounds</a>) + 0.5,</div>
<div class="line"><a name="l06342"></a><span class="lineno"> 6342</span>&#160;        maxX = CGRectGetMaxX(<a class="code" href="_c_a_layer_8j.html#a76e98e4f35c628cffcb1a388ec583bec">bounds</a>) - 0.5;</div>
<div class="line"><a name="l06343"></a><span class="lineno"> 6343</span>&#160;</div>
<div class="line"><a name="l06344"></a><span class="lineno"> 6344</span>&#160;    <a class="code" href="group__coregraphics.html#ga96bba0be21dd53a15a84c8f23eb7cc70">CGContextSetLineWidth</a>(context, 1.0);</div>
<div class="line"><a name="l06345"></a><span class="lineno"> 6345</span>&#160;    <a class="code" href="group__coregraphics.html#gaf226610351555b43c7a120bc79abb115">CGContextSetAlpha</a>(context, 1.0);</div>
<div class="line"><a name="l06346"></a><span class="lineno"> 6346</span>&#160;    <a class="code" href="group__coregraphics.html#gac13f17a8bed76d16b9e5252106d196e0">CGContextSetStrokeColor</a>(context, [<a class="code" href="_c_p_table_view_8j.html#a6f0de04f9698790aa0711230cb97d5d2">tableView</a> gridColor]);</div>
<div class="line"><a name="l06347"></a><span class="lineno"> 6347</span>&#160;</div>
<div class="line"><a name="l06348"></a><span class="lineno"> 6348</span>&#160;    <a class="code" href="group__coregraphics.html#ga02cca9368e5aacc0bef423d724635376">CGContextBeginPath</a>(context);</div>
<div class="line"><a name="l06349"></a><span class="lineno"> 6349</span>&#160;</div>
<div class="line"><a name="l06350"></a><span class="lineno"> 6350</span>&#160;    <a class="code" href="group__coregraphics.html#ga44dc04bb1efb98ff834308c997d10dc5">CGContextMoveToPoint</a>(context, minX, CGRectGetMinY(<a class="code" href="_c_a_layer_8j.html#a76e98e4f35c628cffcb1a388ec583bec">bounds</a>));</div>
<div class="line"><a name="l06351"></a><span class="lineno"> 6351</span>&#160;    <a class="code" href="group__coregraphics.html#ga834b9d5848989453730d162f251a29c3">CGContextAddLineToPoint</a>(context, minX, CGRectGetMaxY(<a class="code" href="_c_a_layer_8j.html#a76e98e4f35c628cffcb1a388ec583bec">bounds</a>));</div>
<div class="line"><a name="l06352"></a><span class="lineno"> 6352</span>&#160;</div>
<div class="line"><a name="l06353"></a><span class="lineno"> 6353</span>&#160;    <a class="code" href="group__coregraphics.html#ga44dc04bb1efb98ff834308c997d10dc5">CGContextMoveToPoint</a>(context, maxX, CGRectGetMinY(<a class="code" href="_c_a_layer_8j.html#a76e98e4f35c628cffcb1a388ec583bec">bounds</a>));</div>
<div class="line"><a name="l06354"></a><span class="lineno"> 6354</span>&#160;    <a class="code" href="group__coregraphics.html#ga834b9d5848989453730d162f251a29c3">CGContextAddLineToPoint</a>(context, maxX, CGRectGetMaxY(<a class="code" href="_c_a_layer_8j.html#a76e98e4f35c628cffcb1a388ec583bec">bounds</a>));</div>
<div class="line"><a name="l06355"></a><span class="lineno"> 6355</span>&#160;</div>
<div class="line"><a name="l06356"></a><span class="lineno"> 6356</span>&#160;    <a class="code" href="group__coregraphics.html#ga03bda4b6dc1763d22d122d565e027012">CGContextStrokePath</a>(context);</div>
<div class="line"><a name="l06357"></a><span class="lineno"> 6357</span>&#160;}</div>
<div class="line"><a name="l06358"></a><span class="lineno"> 6358</span>&#160;</div>
<div class="line"><a name="l06359"></a><span class="lineno"> 6359</span>&#160;<span class="keyword">@end</span></div>
<div class="line"><a name="l06360"></a><span class="lineno"> 6360</span>&#160;</div>
<div class="line"><a name="l06361"></a><span class="lineno"> 6361</span>&#160;<span class="keyword">@implementation </span><a class="code" href="interface_c_p_table_cell_view.html">CPTableCellView</a> : <a class="code" href="interface_c_p_view.html">CPView</a></div>
<div class="line"><a name="l06362"></a><span class="lineno"> 6362</span>&#160;{</div>
<div class="line"><a name="l06363"></a><span class="lineno"> 6363</span>&#160;    <span class="keywordtype">id</span> _objectValue;</div>
<div class="line"><a name="l06364"></a><span class="lineno"> 6364</span>&#160;</div>
<div class="line"><a name="l06365"></a><span class="lineno"> 6365</span>&#160;    <a class="code" href="interface_c_p_text_field.html">CPTextField</a> _textField;</div>
<div class="line"><a name="l06366"></a><span class="lineno"> 6366</span>&#160;    <a class="code" href="interface_c_p_image_view.html">CPImageView</a> _imageView;</div>
<div class="line"><a name="l06367"></a><span class="lineno"> 6367</span>&#160;}</div>
<div class="line"><a name="l06368"></a><span class="lineno"> 6368</span>&#160;</div>
<div class="line"><a name="l06369"></a><span class="lineno"><a class="code" href="interface_c_p_table_cell_view.html#a73d285c51020ac96d787801c5f65d72e"> 6369</a></span>&#160;- (void)awakeFromCib</div>
<div class="line"><a name="l06370"></a><span class="lineno"> 6370</span>&#160;{</div>
<div class="line"><a name="l06371"></a><span class="lineno"> 6371</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_cell_view.html#a9a30cc7883d50acb51a9926a3e6541bf">setThemeState</a>:CPThemeStateTableDataView];</div>
<div class="line"><a name="l06372"></a><span class="lineno"> 6372</span>&#160;}</div>
<div class="line"><a name="l06373"></a><span class="lineno"> 6373</span>&#160;</div>
<div class="line"><a name="l06374"></a><span class="lineno"><a class="code" href="interface_c_p_table_cell_view.html#a9a30cc7883d50acb51a9926a3e6541bf"> 6374</a></span>&#160;- (BOOL)setThemeState:(<a class="code" href="_c_p_theme_8j.html#aa53f51fa77595e600c879095fa3df55a">ThemeState</a>)aState</div>
<div class="line"><a name="l06375"></a><span class="lineno"> 6375</span>&#160;{</div>
<div class="line"><a name="l06376"></a><span class="lineno"> 6376</span>&#160;    <span class="keywordflow">if</span> (aState.isa &amp;&amp; [aState isKindOfClass:CPArray])</div>
<div class="line"><a name="l06377"></a><span class="lineno"> 6377</span>&#160;        aState = CPThemeState.apply(null, aState);</div>
<div class="line"><a name="l06378"></a><span class="lineno"> 6378</span>&#160;</div>
<div class="line"><a name="l06379"></a><span class="lineno"> 6379</span>&#160;    [<span class="keyword">super</span> <a class="code" href="interface_c_p_view.html#af375db0002e118c71a6e138b63c9430a">setThemeState</a>:aState];</div>
<div class="line"><a name="l06380"></a><span class="lineno"> 6380</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_cell_view.html#ab6cbc537d878ccbc16f6fdce05c7b12d">recursivelyPerformSelector</a>:@selector(<a class="code" href="interface_c_p_table_cell_view.html#ab6cbc537d878ccbc16f6fdce05c7b12d">setThemeState</a>:) <a class="code" href="interface_c_p_table_cell_view.html#ab6cbc537d878ccbc16f6fdce05c7b12d">withObject</a>:aState <a class="code" href="interface_c_p_table_cell_view.html#ab6cbc537d878ccbc16f6fdce05c7b12d">startingFrom</a>:self];</div>
<div class="line"><a name="l06381"></a><span class="lineno"> 6381</span>&#160;}</div>
<div class="line"><a name="l06382"></a><span class="lineno"> 6382</span>&#160;</div>
<div class="line"><a name="l06383"></a><span class="lineno"><a class="code" href="interface_c_p_table_cell_view.html#a79cc147af8bbdd2f17b23f1957a40e2a"> 6383</a></span>&#160;- (BOOL)unsetThemeState:(<a class="code" href="_c_p_theme_8j.html#aa53f51fa77595e600c879095fa3df55a">ThemeState</a>)aState</div>
<div class="line"><a name="l06384"></a><span class="lineno"> 6384</span>&#160;{</div>
<div class="line"><a name="l06385"></a><span class="lineno"> 6385</span>&#160;    <span class="keywordflow">if</span> (aState.isa &amp;&amp; [aState isKindOfClass:CPArray])</div>
<div class="line"><a name="l06386"></a><span class="lineno"> 6386</span>&#160;        aState = CPThemeState.apply(null, aState);</div>
<div class="line"><a name="l06387"></a><span class="lineno"> 6387</span>&#160;</div>
<div class="line"><a name="l06388"></a><span class="lineno"> 6388</span>&#160;    [<span class="keyword">super</span> <a class="code" href="interface_c_p_view.html#a24c41e71d0fd83439e66df0b3f07279c">unsetThemeState</a>:aState];</div>
<div class="line"><a name="l06389"></a><span class="lineno"> 6389</span>&#160;    [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_cell_view.html#ab6cbc537d878ccbc16f6fdce05c7b12d">recursivelyPerformSelector</a>:@selector(<a class="code" href="interface_c_p_table_cell_view.html#ab6cbc537d878ccbc16f6fdce05c7b12d">unsetThemeState</a>:) <a class="code" href="interface_c_p_table_cell_view.html#ab6cbc537d878ccbc16f6fdce05c7b12d">withObject</a>:aState <a class="code" href="interface_c_p_table_cell_view.html#ab6cbc537d878ccbc16f6fdce05c7b12d">startingFrom</a>:self];</div>
<div class="line"><a name="l06390"></a><span class="lineno"> 6390</span>&#160;}</div>
<div class="line"><a name="l06391"></a><span class="lineno"> 6391</span>&#160;</div>
<div class="line"><a name="l06392"></a><span class="lineno"><a class="code" href="interface_c_p_table_cell_view.html#ab6cbc537d878ccbc16f6fdce05c7b12d"> 6392</a></span>&#160;- (void)recursivelyPerformSelector:(<span class="keywordtype">SEL</span>)selector withObject:(<span class="keywordtype">id</span>)anObject startingFrom:(<span class="keywordtype">id</span>)aView</div>
<div class="line"><a name="l06393"></a><span class="lineno"> 6393</span>&#160;{</div>
<div class="line"><a name="l06394"></a><span class="lineno"> 6394</span>&#160;    <span class="comment">// Avoid infinite loop if a subview is a CPTableCellView.</span>[[aView subviews] enumerateObjectsUsingBlock:function(view, idx)</div>
<div class="line"><a name="l06395"></a><span class="lineno"> 6395</span>&#160;    {</div>
<div class="line"><a name="l06396"></a><span class="lineno"> 6396</span>&#160;        [view performSelector:selector withObject:anObject];</div>
<div class="line"><a name="l06397"></a><span class="lineno"> 6397</span>&#160;</div>
<div class="line"><a name="l06398"></a><span class="lineno"> 6398</span>&#160;        if (![view isKindOfClass:[<span class="keyword">self</span> <a class="code" href="class_c_p_object.html#a9995454d4b902a69bfd12c5c3035ce83">class</a>]]) </div>
<div class="line"><a name="l06399"></a><span class="lineno"> 6399</span>&#160;            [<span class="keyword">self</span> <a class="code" href="interface_c_p_table_cell_view.html#ab6cbc537d878ccbc16f6fdce05c7b12d">recursivelyPerformSelector</a>:selector <a class="code" href="interface_c_p_table_cell_view.html#ab6cbc537d878ccbc16f6fdce05c7b12d">withObject</a>:anObject <a class="code" href="interface_c_p_table_cell_view.html#ab6cbc537d878ccbc16f6fdce05c7b12d">startingFrom</a>:view];</div>
<div class="line"><a name="l06400"></a><span class="lineno"> 6400</span>&#160;    }];</div>
<div class="line"><a name="l06401"></a><span class="lineno"> 6401</span>&#160;}</div>
<div class="line"><a name="l06402"></a><span class="lineno"> 6402</span>&#160;</div>
<div class="line"><a name="l06403"></a><span class="lineno"><a class="code" href="interface_c_p_table_cell_view.html#adee3609867543a1414616b800d598fd7"> 6403</a></span>&#160;- (<a class="code" href="interface_c_p_string.html" title="An immutable string (collection of characters). ">CPString</a>)description</div>
<div class="line"><a name="l06404"></a><span class="lineno"> 6404</span>&#160;{</div>
<div class="line"><a name="l06405"></a><span class="lineno"> 6405</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;&lt;&quot;</span> + [<span class="keyword">self</span> <a class="code" href="class_c_p_object.html#a11bebf7b363393468d1c5ba2900b548d">className</a>] + <span class="stringliteral">&quot; 0x&quot;</span> + [<a class="code" href="interface_c_p_string.html" title="An immutable string (collection of characters). ">CPString</a> <a class="code" href="interface_c_p_string.html#a8cfed134036d37dc7bf80abd9086c57d">stringWithHash</a>:[<span class="keyword">self</span> <a class="code" href="class_c_p_object.html#a0a43b4c06f2233cbccc9d12f1ff6e444">UID</a>]] + <span class="stringliteral">&quot; identifier=&quot;</span> + [<span class="keyword">self</span> <a class="code" href="interface_c_p_view.html#a20d1ff24292622cd0d39dfbec877a700">identifier</a>] + <span class="stringliteral">&quot;&gt;&quot;</span>;</div>
<div class="line"><a name="l06406"></a><span class="lineno"> 6406</span>&#160;}</div>
<div class="line"><a name="l06407"></a><span class="lineno"> 6407</span>&#160;</div>
<div class="line"><a name="l06408"></a><span class="lineno"> 6408</span>&#160;<span class="keyword">@end</span></div>
<div class="line"><a name="l06409"></a><span class="lineno"> 6409</span>&#160;</div>
<div class="line"><a name="l06410"></a><span class="lineno"><a class="code" href="category_c_p_table_view_07_c_p_synthesized_accessors_08.html"> 6410</a></span>&#160;<span class="keyword">@implementation </span><a class="code" href="category_c_p_table_view_07_c_p_synthesized_accessors_08.html">CPTableView (CPSynthesizedAccessors)</a></div>
<div class="line"><a name="l06411"></a><span class="lineno"> 6411</span>&#160;</div>
<div class="line"><a name="l06415"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a987e72889d273abaf988bd668692b818"> 6415</a></span>&#160;- (BOOL)disableAutomaticResizing</div>
<div class="line"><a name="l06416"></a><span class="lineno"> 6416</span>&#160;{</div>
<div class="line"><a name="l06417"></a><span class="lineno"> 6417</span>&#160;    <span class="keywordflow">return</span> _disableAutomaticResizing;</div>
<div class="line"><a name="l06418"></a><span class="lineno"> 6418</span>&#160;}</div>
<div class="line"><a name="l06419"></a><span class="lineno"> 6419</span>&#160;</div>
<div class="line"><a name="l06423"></a><span class="lineno"><a class="code" href="interface_c_p_table_view.html#a74b5a0d8c93fc6767adea179aedcbb2d"> 6423</a></span>&#160;- (void)setDisableAutomaticResizing:(BOOL)aValue</div>
<div class="line"><a name="l06424"></a><span class="lineno"> 6424</span>&#160;{</div>
<div class="line"><a name="l06425"></a><span class="lineno"> 6425</span>&#160;    _disableAutomaticResizing = aValue;</div>
<div class="line"><a name="l06426"></a><span class="lineno"> 6426</span>&#160;}</div>
<div class="line"><a name="l06427"></a><span class="lineno"> 6427</span>&#160;</div>
<div class="line"><a name="l06428"></a><span class="lineno"> 6428</span>&#160;<span class="keyword">@end</span></div>
<div class="line"><a name="l06429"></a><span class="lineno"> 6429</span>&#160;</div>
<div class="line"><a name="l06430"></a><span class="lineno"><a class="code" href="category_c_p_table_content_binder_07_c_p_synthesized_accessors_08.html"> 6430</a></span>&#160;<span class="keyword">@implementation </span><a class="code" href="category_c_p_table_content_binder_07_c_p_synthesized_accessors_08.html">CPTableContentBinder (CPSynthesizedAccessors)</a></div>
<div class="line"><a name="l06431"></a><span class="lineno"> 6431</span>&#160;</div>
<div class="line"><a name="l06435"></a><span class="lineno"><a class="code" href="interface_c_p_table_content_binder.html#a440316d980953dc9a896bef7b30bb530"> 6435</a></span>&#160;- (id)content</div>
<div class="line"><a name="l06436"></a><span class="lineno"> 6436</span>&#160;{</div>
<div class="line"><a name="l06437"></a><span class="lineno"> 6437</span>&#160;    <span class="keywordflow">return</span> _content;</div>
<div class="line"><a name="l06438"></a><span class="lineno"> 6438</span>&#160;}</div>
<div class="line"><a name="l06439"></a><span class="lineno"> 6439</span>&#160;</div>
<div class="line"><a name="l06443"></a><span class="lineno"><a class="code" href="interface_c_p_table_content_binder.html#a402e8c42ee79c51d7d6136efe1f8f206"> 6443</a></span>&#160;- (void)setContent:(<span class="keywordtype">id</span>)aValue</div>
<div class="line"><a name="l06444"></a><span class="lineno"> 6444</span>&#160;{</div>
<div class="line"><a name="l06445"></a><span class="lineno"> 6445</span>&#160;    _content = aValue;</div>
<div class="line"><a name="l06446"></a><span class="lineno"> 6446</span>&#160;}</div>
<div class="line"><a name="l06447"></a><span class="lineno"> 6447</span>&#160;</div>
<div class="line"><a name="l06448"></a><span class="lineno"> 6448</span>&#160;<span class="keyword">@end</span></div>
<div class="line"><a name="l06449"></a><span class="lineno"> 6449</span>&#160;</div>
<div class="line"><a name="l06450"></a><span class="lineno"><a class="code" href="category_c_p_table_cell_view_07_c_p_synthesized_accessors_08.html"> 6450</a></span>&#160;<span class="keyword">@implementation </span><a class="code" href="category_c_p_table_cell_view_07_c_p_synthesized_accessors_08.html">CPTableCellView (CPSynthesizedAccessors)</a></div>
<div class="line"><a name="l06451"></a><span class="lineno"> 6451</span>&#160;</div>
<div class="line"><a name="l06455"></a><span class="lineno"><a class="code" href="interface_c_p_table_cell_view.html#a1aaeec641f647d2689ee556518ad8eca"> 6455</a></span>&#160;- (id)objectValue</div>
<div class="line"><a name="l06456"></a><span class="lineno"> 6456</span>&#160;{</div>
<div class="line"><a name="l06457"></a><span class="lineno"> 6457</span>&#160;    <span class="keywordflow">return</span> _objectValue;</div>
<div class="line"><a name="l06458"></a><span class="lineno"> 6458</span>&#160;}</div>
<div class="line"><a name="l06459"></a><span class="lineno"> 6459</span>&#160;</div>
<div class="line"><a name="l06463"></a><span class="lineno"><a class="code" href="interface_c_p_table_cell_view.html#ac9e5b9f0dabc2e2ce9f01260cb8016f7"> 6463</a></span>&#160;- (void)setObjectValue:(<span class="keywordtype">id</span>)aValue</div>
<div class="line"><a name="l06464"></a><span class="lineno"> 6464</span>&#160;{</div>
<div class="line"><a name="l06465"></a><span class="lineno"> 6465</span>&#160;    _objectValue = aValue;</div>
<div class="line"><a name="l06466"></a><span class="lineno"> 6466</span>&#160;}</div>
<div class="line"><a name="l06467"></a><span class="lineno"> 6467</span>&#160;</div>
<div class="line"><a name="l06471"></a><span class="lineno"><a class="code" href="interface_c_p_table_cell_view.html#a341764310b8b2137c550a8972b8e0ea9"> 6471</a></span>&#160;- (<a class="code" href="interface_c_p_text_field.html">CPTextField</a>)textField</div>
<div class="line"><a name="l06472"></a><span class="lineno"> 6472</span>&#160;{</div>
<div class="line"><a name="l06473"></a><span class="lineno"> 6473</span>&#160;    <span class="keywordflow">return</span> _textField;</div>
<div class="line"><a name="l06474"></a><span class="lineno"> 6474</span>&#160;}</div>
<div class="line"><a name="l06475"></a><span class="lineno"> 6475</span>&#160;</div>
<div class="line"><a name="l06479"></a><span class="lineno"><a class="code" href="interface_c_p_table_cell_view.html#ae896aa4cf0343603c73901d162a598ca"> 6479</a></span>&#160;- (void)setTextField:(<a class="code" href="interface_c_p_text_field.html">CPTextField</a>)aValue</div>
<div class="line"><a name="l06480"></a><span class="lineno"> 6480</span>&#160;{</div>
<div class="line"><a name="l06481"></a><span class="lineno"> 6481</span>&#160;    _textField = aValue;</div>
<div class="line"><a name="l06482"></a><span class="lineno"> 6482</span>&#160;}</div>
<div class="line"><a name="l06483"></a><span class="lineno"> 6483</span>&#160;</div>
<div class="line"><a name="l06487"></a><span class="lineno"><a class="code" href="interface_c_p_table_cell_view.html#a55d5a6af355556b6d6cb465078bfad44"> 6487</a></span>&#160;- (<a class="code" href="interface_c_p_image_view.html">CPImageView</a>)imageView</div>
<div class="line"><a name="l06488"></a><span class="lineno"> 6488</span>&#160;{</div>
<div class="line"><a name="l06489"></a><span class="lineno"> 6489</span>&#160;    <span class="keywordflow">return</span> _imageView;</div>
<div class="line"><a name="l06490"></a><span class="lineno"> 6490</span>&#160;}</div>
<div class="line"><a name="l06491"></a><span class="lineno"> 6491</span>&#160;</div>
<div class="line"><a name="l06495"></a><span class="lineno"><a class="code" href="interface_c_p_table_cell_view.html#ade38d023f163d4c36d57e84956f74230"> 6495</a></span>&#160;- (void)setImageView:(<a class="code" href="interface_c_p_image_view.html">CPImageView</a>)aValue</div>
<div class="line"><a name="l06496"></a><span class="lineno"> 6496</span>&#160;{</div>
<div class="line"><a name="l06497"></a><span class="lineno"> 6497</span>&#160;    _imageView = aValue;</div>
<div class="line"><a name="l06498"></a><span class="lineno"> 6498</span>&#160;}</div>
<div class="line"><a name="l06499"></a><span class="lineno"> 6499</span>&#160;</div>
<div class="line"><a name="l06500"></a><span class="lineno"> 6500</span>&#160;<span class="keyword">@end</span></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_0e4e8176c2dd688a0cdab60948de03e6.html">AppKit</a></li><li class="navelem"><a class="el" href="_c_p_table_view_8j.html">CPTableView.j</a></li>
    <li class="footer">Generated on Sun Mar 29 2015 14:04:31 for API by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.4 </li>
  </ul>
</div>
</body>
</html>
